{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 51467884.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 32768, "timers": {"sample_time_ms": 20147.543, "sample_throughput": 1626.402, "learn_time_ms": 32694.697, "learn_throughput": 1002.242, "update_time_ms": 3.496}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.2, "cur_lr": 5e-05, "total_loss": 0.02150194311980158, "policy_loss": 0.012020519468933344, "vf_loss": 1.6398631664924324, "vf_explained_var": -0.08881820738315582, "kl": 0.03920782508794218, "entropy": 1.868681751191616, "entropy_coeff": 0.0}}, "num_steps_sampled": 32768, "num_steps_trained": 32768}, "done": false, "episodes_total": 0, "training_iteration": 1, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-25-35", "timestamp": 1611087935, "time_this_iter_s": 52.85080146789551, "time_total_s": 52.85080146789551, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 52.85080146789551, "timesteps_since_restore": 0, "iterations_since_restore": 1, "perf": {"cpu_util_percent": 7.131578947368421, "ram_util_percent": 60.36184210526318}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 402353056.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 65536, "timers": {"sample_time_ms": 13051.461, "sample_throughput": 2510.677, "learn_time_ms": 32413.081, "learn_throughput": 1010.95, "update_time_ms": 3.386}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.30000000000000004, "cur_lr": 5e-05, "total_loss": 0.015332684997702017, "policy_loss": 0.006016576429829001, "vf_loss": 2.025321774650365, "vf_explained_var": -0.09842820465564728, "kl": 0.024302617937792093, "entropy": 1.8182042464613914, "entropy_coeff": 0.0}}, "num_steps_sampled": 65536, "num_steps_trained": 65536}, "done": false, "episodes_total": 0, "training_iteration": 2, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-26-13", "timestamp": 1611087973, "time_this_iter_s": 38.09516215324402, "time_total_s": 90.94596362113953, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 90.94596362113953, "timesteps_since_restore": 0, "iterations_since_restore": 2, "perf": {"cpu_util_percent": 7.683333333333334, "ram_util_percent": 60.13333333333331}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 328746240.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 98304, "timers": {"sample_time_ms": 10664.234, "sample_throughput": 3072.701, "learn_time_ms": 32665.32, "learn_throughput": 1003.143, "update_time_ms": 3.5}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.45000000000000007, "cur_lr": 5e-05, "total_loss": 0.019736282469239086, "policy_loss": 0.005562603240832686, "vf_loss": 3.02553105680272, "vf_explained_var": -0.15448811650276184, "kl": 0.024773677985649556, "entropy": 1.7379838712513447, "entropy_coeff": 0.0}}, "num_steps_sampled": 98304, "num_steps_trained": 98304}, "done": false, "episodes_total": 0, "training_iteration": 3, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-26-52", "timestamp": 1611088012, "time_this_iter_s": 39.0681529045105, "time_total_s": 130.01411652565002, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 130.01411652565002, "timesteps_since_restore": 0, "iterations_since_restore": 3, "perf": {"cpu_util_percent": 7.698214285714286, "ram_util_percent": 60.199999999999996}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 267481504.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 131072, "timers": {"sample_time_ms": 9494.339, "sample_throughput": 3451.32, "learn_time_ms": 32635.226, "learn_throughput": 1004.068, "update_time_ms": 3.138}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.675, "cur_lr": 5e-05, "total_loss": 0.01298484846483916, "policy_loss": 0.0003420919238124043, "vf_loss": 3.3753774971701205, "vf_explained_var": -0.1116671934723854, "kl": 0.013729448546655476, "entropy": 1.7591844536364079, "entropy_coeff": 0.0}}, "num_steps_sampled": 131072, "num_steps_trained": 131072}, "done": false, "episodes_total": 0, "training_iteration": 4, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-27-31", "timestamp": 1611088051, "time_this_iter_s": 38.53650784492493, "time_total_s": 168.55062437057495, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 168.55062437057495, "timesteps_since_restore": 0, "iterations_since_restore": 4, "perf": {"cpu_util_percent": 7.758181818181818, "ram_util_percent": 60.225454545454575}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 6696828416.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 163840, "timers": {"sample_time_ms": 8771.972, "sample_throughput": 3735.534, "learn_time_ms": 32555.625, "learn_throughput": 1006.523, "update_time_ms": 3.144}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.675, "cur_lr": 5e-05, "total_loss": 0.009476733685005456, "policy_loss": 0.0008909816388040781, "vf_loss": 2.023696857271716, "vf_explained_var": -0.09522651880979538, "kl": 0.009721571048430633, "entropy": 1.7346561327576637, "entropy_coeff": 0.0}}, "num_steps_sampled": 163840, "num_steps_trained": 163840}, "done": false, "episodes_total": 0, "training_iteration": 5, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-28-09", "timestamp": 1611088089, "time_this_iter_s": 38.12760901451111, "time_total_s": 206.67823338508606, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 206.67823338508606, "timesteps_since_restore": 0, "iterations_since_restore": 5, "perf": {"cpu_util_percent": 7.725925925925927, "ram_util_percent": 60.30000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 393203904.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 196608, "timers": {"sample_time_ms": 8295.629, "sample_throughput": 3950.032, "learn_time_ms": 32332.275, "learn_throughput": 1013.476, "update_time_ms": 3.095}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.675, "cur_lr": 5e-05, "total_loss": 0.008104388078209013, "policy_loss": 0.0005250886897556484, "vf_loss": 3.507181621156633, "vf_explained_var": -0.026671115309000015, "kl": 0.006032768043951364, "entropy": 1.6924031935632229, "entropy_coeff": 0.0}}, "num_steps_sampled": 196608, "num_steps_trained": 196608}, "done": false, "episodes_total": 0, "training_iteration": 6, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-28-46", "timestamp": 1611088126, "time_this_iter_s": 37.13749599456787, "time_total_s": 243.81572937965393, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 243.81572937965393, "timesteps_since_restore": 0, "iterations_since_restore": 6, "perf": {"cpu_util_percent": 8.152830188679244, "ram_util_percent": 60.30188679245285}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 36878045184.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 229376, "timers": {"sample_time_ms": 7949.719, "sample_throughput": 4121.907, "learn_time_ms": 32399.08, "learn_throughput": 1011.387, "update_time_ms": 3.127}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.675, "cur_lr": 5e-05, "total_loss": 0.00400533142965287, "policy_loss": -0.0002406567509751767, "vf_loss": 1.9859342740383, "vf_explained_var": -0.02117512933909893, "kl": 0.0033482284052297473, "entropy": 1.6795020401477814, "entropy_coeff": 0.0}}, "num_steps_sampled": 229376, "num_steps_trained": 229376}, "done": false, "episodes_total": 0, "training_iteration": 7, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-29-25", "timestamp": 1611088165, "time_this_iter_s": 38.68184471130371, "time_total_s": 282.49757409095764, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 282.49757409095764, "timesteps_since_restore": 0, "iterations_since_restore": 7, "perf": {"cpu_util_percent": 8.18, "ram_util_percent": 60.38545454545455}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 600889920.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 262144, "timers": {"sample_time_ms": 7697.989, "sample_throughput": 4256.696, "learn_time_ms": 32423.479, "learn_throughput": 1010.626, "update_time_ms": 3.145}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.3375, "cur_lr": 5e-05, "total_loss": 0.002410972665529698, "policy_loss": -0.0009076812420971692, "vf_loss": 2.0103798215277493, "vf_explained_var": -0.051620323210954666, "kl": 0.003876366274198517, "entropy": 1.683486595749855, "entropy_coeff": 0.0}}, "num_steps_sampled": 262144, "num_steps_trained": 262144}, "done": false, "episodes_total": 0, "training_iteration": 8, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-30-03", "timestamp": 1611088203, "time_this_iter_s": 38.53811311721802, "time_total_s": 321.03568720817566, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 321.03568720817566, "timesteps_since_restore": 0, "iterations_since_restore": 8, "perf": {"cpu_util_percent": 7.805454545454544, "ram_util_percent": 60.400000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 575126784.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 294912, "timers": {"sample_time_ms": 7498.565, "sample_throughput": 4369.903, "learn_time_ms": 32465.171, "learn_throughput": 1009.328, "update_time_ms": 3.026}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.16875, "cur_lr": 5e-05, "total_loss": 0.003196991194272414, "policy_loss": -0.00011940905824303627, "vf_loss": 2.284106977749616, "vf_explained_var": -0.054018788039684296, "kl": 0.006117314544098917, "entropy": 1.6718675568699837, "entropy_coeff": 0.0}}, "num_steps_sampled": 294912, "num_steps_trained": 294912}, "done": false, "episodes_total": 0, "training_iteration": 9, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-30-42", "timestamp": 1611088242, "time_this_iter_s": 38.70934748649597, "time_total_s": 359.74503469467163, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 359.74503469467163, "timesteps_since_restore": 0, "iterations_since_restore": 9, "perf": {"cpu_util_percent": 7.787272727272727, "ram_util_percent": 60.480000000000004}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5365541376.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 327680, "timers": {"sample_time_ms": 7345.65, "sample_throughput": 4460.871, "learn_time_ms": 32464.623, "learn_throughput": 1009.345, "update_time_ms": 3.072}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.16875, "cur_lr": 5e-05, "total_loss": 0.0034704126010183245, "policy_loss": -0.0002797115012072027, "vf_loss": 2.7193483151495457, "vf_explained_var": -0.0430196113884449, "kl": 0.006108337896876037, "entropy": 1.6557497307658195, "entropy_coeff": 0.0}}, "num_steps_sampled": 327680, "num_steps_trained": 327680}, "done": false, "episodes_total": 0, "training_iteration": 10, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-31-20", "timestamp": 1611088280, "time_this_iter_s": 38.4372456073761, "time_total_s": 398.18228030204773, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 398.18228030204773, "timesteps_since_restore": 0, "iterations_since_restore": 10, "perf": {"cpu_util_percent": 7.665454545454546, "ram_util_percent": 60.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 81687760.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 360448, "timers": {"sample_time_ms": 5936.583, "sample_throughput": 5519.673, "learn_time_ms": 32439.142, "learn_throughput": 1010.138, "update_time_ms": 3.032}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.16875, "cur_lr": 5e-05, "total_loss": 0.0022873133566463366, "policy_loss": -0.0010730463836807758, "vf_loss": 2.67350289830938, "vf_explained_var": -0.05128585919737816, "kl": 0.004070271312230034, "entropy": 1.6623278819024563, "entropy_coeff": 0.0}}, "num_steps_sampled": 360448, "num_steps_trained": 360448}, "done": false, "episodes_total": 0, "training_iteration": 11, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-31-59", "timestamp": 1611088319, "time_this_iter_s": 38.50484037399292, "time_total_s": 436.68712067604065, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 436.68712067604065, "timesteps_since_restore": 0, "iterations_since_restore": 11, "perf": {"cpu_util_percent": 7.865454545454546, "ram_util_percent": 60.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 242781040.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 393216, "timers": {"sample_time_ms": 5945.197, "sample_throughput": 5511.676, "learn_time_ms": 32436.77, "learn_throughput": 1010.212, "update_time_ms": 2.992}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.084375, "cur_lr": 5e-05, "total_loss": 0.0022113120066933334, "policy_loss": -0.0008652554533910006, "vf_loss": 2.4040654096752405, "vf_explained_var": -0.020378127694129944, "kl": 0.00797042137128301, "entropy": 1.6854539290070534, "entropy_coeff": 0.0}}, "num_steps_sampled": 393216, "num_steps_trained": 393216}, "done": false, "episodes_total": 0, "training_iteration": 12, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-32-37", "timestamp": 1611088357, "time_this_iter_s": 38.156649589538574, "time_total_s": 474.8437702655792, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 474.8437702655792, "timesteps_since_restore": 0, "iterations_since_restore": 12, "perf": {"cpu_util_percent": 7.687037037037038, "ram_util_percent": 60.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 647584128.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 425984, "timers": {"sample_time_ms": 5955.618, "sample_throughput": 5502.032, "learn_time_ms": 32385.883, "learn_throughput": 1011.799, "update_time_ms": 2.936}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.084375, "cur_lr": 5e-05, "total_loss": 0.00259999162517488, "policy_loss": -0.0003875181428156793, "vf_loss": 2.565648488001898, "vf_explained_var": -0.01891077123582363, "kl": 0.004999919889087323, "entropy": 1.6927031390368938, "entropy_coeff": 0.0}}, "num_steps_sampled": 425984, "num_steps_trained": 425984}, "done": false, "episodes_total": 0, "training_iteration": 13, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-33-16", "timestamp": 1611088396, "time_this_iter_s": 38.662853956222534, "time_total_s": 513.5066242218018, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 513.5066242218018, "timesteps_since_restore": 0, "iterations_since_restore": 13, "perf": {"cpu_util_percent": 7.819999999999999, "ram_util_percent": 60.53272727272728}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 241429712.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 458752, "timers": {"sample_time_ms": 5957.42, "sample_throughput": 5500.367, "learn_time_ms": 32426.106, "learn_throughput": 1010.544, "update_time_ms": 2.932}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.0034051524999085814, "policy_loss": -0.0008894023194443434, "vf_loss": 3.9798943703062832, "vf_explained_var": -0.005837712436914444, "kl": 0.007458525746187661, "entropy": 1.6842410415410995, "entropy_coeff": 0.0}}, "num_steps_sampled": 458752, "num_steps_trained": 458752}, "done": false, "episodes_total": 0, "training_iteration": 14, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-33-55", "timestamp": 1611088435, "time_this_iter_s": 38.956971406936646, "time_total_s": 552.4635956287384, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 552.4635956287384, "timesteps_since_restore": 0, "iterations_since_restore": 14, "perf": {"cpu_util_percent": 8.783928571428572, "ram_util_percent": 60.642857142857146}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1131088384.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 491520, "timers": {"sample_time_ms": 5966.612, "sample_throughput": 5491.894, "learn_time_ms": 32450.786, "learn_throughput": 1009.775, "update_time_ms": 2.961}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.0019981257210019976, "policy_loss": -0.00036073438241146505, "vf_loss": 2.13482982176356, "vf_explained_var": -0.015878677368164062, "kl": 0.005310403015755583, "entropy": 1.691491961479187, "entropy_coeff": 0.0}}, "num_steps_sampled": 491520, "num_steps_trained": 491520}, "done": false, "episodes_total": 0, "training_iteration": 15, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-34-33", "timestamp": 1611088473, "time_this_iter_s": 38.467085123062134, "time_total_s": 590.9306807518005, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 590.9306807518005, "timesteps_since_restore": 0, "iterations_since_restore": 15, "perf": {"cpu_util_percent": 8.207407407407409, "ram_util_percent": 60.69999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 338111712.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 524288, "timers": {"sample_time_ms": 5968.266, "sample_throughput": 5490.372, "learn_time_ms": 32607.841, "learn_throughput": 1004.912, "update_time_ms": 2.883}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.0001144815469160676, "policy_loss": -0.0022123754024505615, "vf_loss": 1.7576610245741904, "vf_explained_var": -0.015385610982775688, "kl": 0.013491916237398982, "entropy": 1.6284476518630981, "entropy_coeff": 0.0}}, "num_steps_sampled": 524288, "num_steps_trained": 524288}, "done": false, "episodes_total": 0, "training_iteration": 16, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-35-12", "timestamp": 1611088512, "time_this_iter_s": 38.72412610054016, "time_total_s": 629.6548068523407, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 629.6548068523407, "timesteps_since_restore": 0, "iterations_since_restore": 16, "perf": {"cpu_util_percent": 7.67818181818182, "ram_util_percent": 60.699999999999974}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 463955872.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 557056, "timers": {"sample_time_ms": 5973.836, "sample_throughput": 5485.253, "learn_time_ms": 32582.84, "learn_throughput": 1005.683, "update_time_ms": 2.759}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.001994250444113277, "policy_loss": -0.0006109582318458706, "vf_loss": 2.2964443867094815, "vf_explained_var": -0.01296398788690567, "kl": 0.007318835785554256, "entropy": 1.5841618776321411, "entropy_coeff": 0.0}}, "num_steps_sampled": 557056, "num_steps_trained": 557056}, "done": false, "episodes_total": 0, "training_iteration": 17, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-35-50", "timestamp": 1611088550, "time_this_iter_s": 38.486915826797485, "time_total_s": 668.1417226791382, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 668.1417226791382, "timesteps_since_restore": 0, "iterations_since_restore": 17, "perf": {"cpu_util_percent": 7.534545454545455, "ram_util_percent": 60.76181818181821}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1848347264.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 589824, "timers": {"sample_time_ms": 5972.643, "sample_throughput": 5486.348, "learn_time_ms": 32507.51, "learn_throughput": 1008.013, "update_time_ms": 2.77}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.0023278486914932728, "policy_loss": -0.0001882639480754733, "vf_loss": 2.285807078005746, "vf_explained_var": -0.021005090326070786, "kl": 0.005458961459225975, "entropy": 1.5630836710333824, "entropy_coeff": 0.0}}, "num_steps_sampled": 589824, "num_steps_trained": 589824}, "done": false, "episodes_total": 0, "training_iteration": 18, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-36-28", "timestamp": 1611088588, "time_this_iter_s": 37.77334713935852, "time_total_s": 705.9150698184967, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 705.9150698184967, "timesteps_since_restore": 0, "iterations_since_restore": 18, "perf": {"cpu_util_percent": 7.751851851851852, "ram_util_percent": 60.80000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 232377456.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 622592, "timers": {"sample_time_ms": 5977.333, "sample_throughput": 5482.044, "learn_time_ms": 32500.954, "learn_throughput": 1008.217, "update_time_ms": 2.891}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.001480131526477635, "policy_loss": -0.0008302211645059288, "vf_loss": 1.884642909746617, "vf_explained_var": -0.030626215040683746, "kl": 0.01009101867384743, "entropy": 1.4651678428053856, "entropy_coeff": 0.0}}, "num_steps_sampled": 622592, "num_steps_trained": 622592}, "done": false, "episodes_total": 0, "training_iteration": 19, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-37-07", "timestamp": 1611088627, "time_this_iter_s": 38.69166040420532, "time_total_s": 744.606730222702, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 744.606730222702, "timesteps_since_restore": 0, "iterations_since_restore": 19, "perf": {"cpu_util_percent": 7.725454545454547, "ram_util_percent": 60.852727272727286}, "trial_id": "9cb01_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1089431552.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 655360, "timers": {"sample_time_ms": 6003.505, "sample_throughput": 5458.145, "learn_time_ms": 32522.732, "learn_throughput": 1007.541, "update_time_ms": 2.874}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0421875, "cur_lr": 5e-05, "total_loss": 0.002697097777854651, "policy_loss": -0.0004960105870850384, "vf_loss": 2.988568204222247, "vf_explained_var": -0.007927430793642998, "kl": 0.004848223128647078, "entropy": 1.490358129143715, "entropy_coeff": 0.0}}, "num_steps_sampled": 655360, "num_steps_trained": 655360}, "done": false, "episodes_total": 0, "training_iteration": 20, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-37-46", "timestamp": 1611088666, "time_this_iter_s": 38.915812492370605, "time_total_s": 783.5225427150726, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 783.5225427150726, "timesteps_since_restore": 0, "iterations_since_restore": 20, "perf": {"cpu_util_percent": 7.700000000000001, "ram_util_percent": 60.89999999999999}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 312643936.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 688128, "timers": {"sample_time_ms": 6008.81, "sample_throughput": 5453.326, "learn_time_ms": 32528.67, "learn_throughput": 1007.358, "update_time_ms": 2.909}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.02109375, "cur_lr": 5e-05, "total_loss": 0.004066169116413221, "policy_loss": 7.040638593025506e-05, "vf_loss": 3.8684059474617243, "vf_explained_var": -0.013100577518343925, "kl": 0.006037687155185267, "entropy": 1.4697392284870148, "entropy_coeff": 0.0}}, "num_steps_sampled": 688128, "num_steps_trained": 688128}, "done": false, "episodes_total": 1, "training_iteration": 21, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-38-24", "timestamp": 1611088704, "time_this_iter_s": 38.61794972419739, "time_total_s": 822.14049243927, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 822.14049243927, "timesteps_since_restore": 0, "iterations_since_restore": 21, "perf": {"cpu_util_percent": 8.034545454545455, "ram_util_percent": 60.95090909090909}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 338202272.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 720896, "timers": {"sample_time_ms": 6002.713, "sample_throughput": 5458.865, "learn_time_ms": 32548.207, "learn_throughput": 1006.753, "update_time_ms": 2.964}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.02109375, "cur_lr": 5e-05, "total_loss": 0.0033180181053467095, "policy_loss": -0.0017326836241409183, "vf_loss": 4.669334925245494, "vf_explained_var": 0.0015521999448537827, "kl": 0.018079688903526403, "entropy": 1.367099042981863, "entropy_coeff": 0.0}}, "num_steps_sampled": 720896, "num_steps_trained": 720896}, "done": false, "episodes_total": 1, "training_iteration": 22, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-39-03", "timestamp": 1611088743, "time_this_iter_s": 38.2922089099884, "time_total_s": 860.4327013492584, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 860.4327013492584, "timesteps_since_restore": 0, "iterations_since_restore": 22, "perf": {"cpu_util_percent": 7.994444444444445, "ram_util_percent": 61.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 807386688.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 753664, "timers": {"sample_time_ms": 6006.461, "sample_throughput": 5455.459, "learn_time_ms": 32553.523, "learn_throughput": 1006.588, "update_time_ms": 2.995}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.02109375, "cur_lr": 5e-05, "total_loss": 0.002732513123191893, "policy_loss": 0.000856878818012774, "vf_loss": 1.7841730024665594, "vf_explained_var": 0.004034055396914482, "kl": 0.004335921646998031, "entropy": 1.3375727944076061, "entropy_coeff": 0.0}}, "num_steps_sampled": 753664, "num_steps_trained": 753664}, "done": false, "episodes_total": 1, "training_iteration": 23, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-39-41", "timestamp": 1611088781, "time_this_iter_s": 38.753589391708374, "time_total_s": 899.1862907409668, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 899.1862907409668, "timesteps_since_restore": 0, "iterations_since_restore": 23, "perf": {"cpu_util_percent": 7.965454545454547, "ram_util_percent": 61.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 251221008.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 786432, "timers": {"sample_time_ms": 6002.394, "sample_throughput": 5459.155, "learn_time_ms": 32537.136, "learn_throughput": 1007.095, "update_time_ms": 2.997}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.0030330681474879384, "policy_loss": -0.0015411696513183415, "vf_loss": 4.455475316848606, "vf_explained_var": -0.006321495398879051, "kl": 0.011259965860517696, "entropy": 1.3236383311450481, "entropy_coeff": 0.0}}, "num_steps_sampled": 786432, "num_steps_trained": 786432}, "done": false, "episodes_total": 1, "training_iteration": 24, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-40-20", "timestamp": 1611088820, "time_this_iter_s": 38.75256848335266, "time_total_s": 937.9388592243195, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 937.9388592243195, "timesteps_since_restore": 0, "iterations_since_restore": 24, "perf": {"cpu_util_percent": 7.689090909090908, "ram_util_percent": 61.03090909090908}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 253674272.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 819200, "timers": {"sample_time_ms": 6000.648, "sample_throughput": 5460.744, "learn_time_ms": 32577.08, "learn_throughput": 1005.861, "update_time_ms": 3.004}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.0015509392833337188, "policy_loss": -0.0021557232248596847, "vf_loss": 3.5444502397440374, "vf_explained_var": -0.009272245690226555, "kl": 0.015380056924186647, "entropy": 1.2337074726819992, "entropy_coeff": 0.0}}, "num_steps_sampled": 819200, "num_steps_trained": 819200}, "done": false, "episodes_total": 1, "training_iteration": 25, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-40-59", "timestamp": 1611088859, "time_this_iter_s": 38.84910583496094, "time_total_s": 976.7879650592804, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 976.7879650592804, "timesteps_since_restore": 0, "iterations_since_restore": 25, "perf": {"cpu_util_percent": 7.696428571428571, "ram_util_percent": 61.10000000000001}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 13908204.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 851968, "timers": {"sample_time_ms": 6004.993, "sample_throughput": 5456.792, "learn_time_ms": 32565.613, "learn_throughput": 1006.215, "update_time_ms": 3.117}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.001443895947886631, "policy_loss": -0.0013613401097245514, "vf_loss": 2.739471670705825, "vf_explained_var": -0.007304612547159195, "kl": 0.006235002641915344, "entropy": 1.2749118991196156, "entropy_coeff": 0.0}}, "num_steps_sampled": 851968, "num_steps_trained": 851968}, "done": false, "episodes_total": 1, "training_iteration": 26, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-41-38", "timestamp": 1611088898, "time_this_iter_s": 38.65354609489441, "time_total_s": 1015.4415111541748, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1015.4415111541748, "timesteps_since_restore": 0, "iterations_since_restore": 26, "perf": {"cpu_util_percent": 7.643636363636364, "ram_util_percent": 61.13999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": -4.001599999999797, "episode_reward_min": -4.001599999999797, "episode_reward_mean": -4.001599999999797, "episode_len_mean": 10602.0, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1761617152.0}, "hist_stats": {"episode_reward": [-4.001599999999797], "episode_lengths": [10602]}, "sampler_perf": {"mean_env_wait_ms": 9.337812537405531, "mean_raw_obs_processing_ms": 0.3936777422619478, "mean_inference_ms": 1.4210411374384688, "mean_action_processing_ms": 0.08997524282405246}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 884736, "timers": {"sample_time_ms": 6010.759, "sample_throughput": 5451.557, "learn_time_ms": 32521.504, "learn_throughput": 1007.579, "update_time_ms": 3.231}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.0015895554679445922, "policy_loss": -0.001406945870257914, "vf_loss": 2.9327933425083756, "vf_explained_var": 0.0005447249859571457, "kl": 0.006041140950401314, "entropy": 1.2786965779960155, "entropy_coeff": 0.0}}, "num_steps_sampled": 884736, "num_steps_trained": 884736}, "done": false, "episodes_total": 1, "training_iteration": 27, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-42-16", "timestamp": 1611088936, "time_this_iter_s": 38.10418200492859, "time_total_s": 1053.5456931591034, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1053.5456931591034, "timesteps_since_restore": 0, "iterations_since_restore": 27, "perf": {"cpu_util_percent": 7.809259259259258, "ram_util_percent": 61.19999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -4.001599999999797, "episode_reward_mean": 10.514600000001153, "episode_len_mean": 12425.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 516992224.0}, "hist_stats": {"episode_reward": [25.030800000002102, -4.001599999999797], "episode_lengths": [14248, 10602]}, "sampler_perf": {"mean_env_wait_ms": 9.402339201913868, "mean_raw_obs_processing_ms": 0.3962324762559185, "mean_inference_ms": 1.4257637839349169, "mean_action_processing_ms": 0.09040134690639184}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 917504, "timers": {"sample_time_ms": 6021.525, "sample_throughput": 5441.811, "learn_time_ms": 32532.978, "learn_throughput": 1007.224, "update_time_ms": 3.101}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.0028512250864878297, "policy_loss": -0.000874646008014679, "vf_loss": 3.6446526222862303, "vf_explained_var": -0.01545688696205616, "kl": 0.007700664304138627, "entropy": 1.3245170675218105, "entropy_coeff": 0.0}}, "num_steps_sampled": 917504, "num_steps_trained": 917504}, "done": false, "episodes_total": 2, "training_iteration": 28, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-42-54", "timestamp": 1611088974, "time_this_iter_s": 37.99459767341614, "time_total_s": 1091.5402908325195, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1091.5402908325195, "timesteps_since_restore": 0, "iterations_since_restore": 28, "perf": {"cpu_util_percent": 7.979629629629629, "ram_util_percent": 61.19999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -6.034233333332668, "episode_len_mean": 13176.333333333334, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 381480576.0}, "hist_stats": {"episode_reward": [-39.13190000000031, -4.001599999999797, 25.030800000002102], "episode_lengths": [14679, 10602, 14248]}, "sampler_perf": {"mean_env_wait_ms": 9.386527687372283, "mean_raw_obs_processing_ms": 0.3954102591004573, "mean_inference_ms": 1.4237998530657041, "mean_action_processing_ms": 0.09029552483235752}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 950272, "timers": {"sample_time_ms": 6020.565, "sample_throughput": 5442.678, "learn_time_ms": 32471.422, "learn_throughput": 1009.134, "update_time_ms": 2.979}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.010546875, "cur_lr": 5e-05, "total_loss": 0.0029687307542189956, "policy_loss": -0.0005401336238719523, "vf_loss": 3.4667303739115596, "vf_explained_var": -0.015375865623354912, "kl": 0.003995674633188173, "entropy": 1.2815416418015957, "entropy_coeff": 0.0}}, "num_steps_sampled": 950272, "num_steps_trained": 950272}, "done": false, "episodes_total": 3, "training_iteration": 29, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-43-32", "timestamp": 1611089012, "time_this_iter_s": 38.06551790237427, "time_total_s": 1129.6058087348938, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1129.6058087348938, "timesteps_since_restore": 0, "iterations_since_restore": 29, "perf": {"cpu_util_percent": 7.992727272727271, "ram_util_percent": 61.254545454545486}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -4.5476749999995025, "episode_len_mean": 13722.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 220641520.0}, "hist_stats": {"episode_reward": [-0.0880000000000079, -4.001599999999797, 25.030800000002102, -39.13190000000031], "episode_lengths": [15359, 10602, 14248, 14679]}, "sampler_perf": {"mean_env_wait_ms": 9.396288951759322, "mean_raw_obs_processing_ms": 0.3988285668883135, "mean_inference_ms": 1.4321223434754182, "mean_action_processing_ms": 0.09015921284409938}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 983040, "timers": {"sample_time_ms": 6000.222, "sample_throughput": 5461.131, "learn_time_ms": 32335.045, "learn_throughput": 1013.39, "update_time_ms": 2.856}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0052734375, "cur_lr": 5e-05, "total_loss": 0.0014744661748409271, "policy_loss": -0.0008410259033553302, "vf_loss": 2.238219924736768, "vf_explained_var": -0.012246647849678993, "kl": 0.014653433754574507, "entropy": 1.148830872029066, "entropy_coeff": 0.0}}, "num_steps_sampled": 983040, "num_steps_trained": 983040}, "done": false, "episodes_total": 4, "training_iteration": 30, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-44-09", "timestamp": 1611089049, "time_this_iter_s": 37.3484320640564, "time_total_s": 1166.9542407989502, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1166.9542407989502, "timesteps_since_restore": 0, "iterations_since_restore": 30, "perf": {"cpu_util_percent": 8.424528301886792, "ram_util_percent": 61.30000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -0.4111599999996457, "episode_len_mean": 14133.6, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 152469552.0}, "hist_stats": {"episode_reward": [16.13489999999978, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079], "episode_lengths": [15780, 10602, 14248, 14679, 15359]}, "sampler_perf": {"mean_env_wait_ms": 9.404247620052216, "mean_raw_obs_processing_ms": 0.39913565444488663, "mean_inference_ms": 1.4378594412796697, "mean_action_processing_ms": 0.09052963763231982}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1015808, "timers": {"sample_time_ms": 5988.005, "sample_throughput": 5472.273, "learn_time_ms": 32344.794, "learn_throughput": 1013.084, "update_time_ms": 2.731}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0052734375, "cur_lr": 5e-05, "total_loss": 0.0029269107908476144, "policy_loss": -0.0008053214842220768, "vf_loss": 3.7075067767873406, "vf_explained_var": -0.022278232499957085, "kl": 0.0046885087140253745, "entropy": 1.1433109566569328, "entropy_coeff": 0.0}}, "num_steps_sampled": 1015808, "num_steps_trained": 1015808}, "done": false, "episodes_total": 5, "training_iteration": 31, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-44-48", "timestamp": 1611089088, "time_this_iter_s": 38.59207820892334, "time_total_s": 1205.5463190078735, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1205.5463190078735, "timesteps_since_restore": 0, "iterations_since_restore": 31, "perf": {"cpu_util_percent": 7.767272727272728, "ram_util_percent": 61.301818181818206}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -0.4111599999996457, "episode_len_mean": 14133.6, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 829809408.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978], "episode_lengths": [10602, 14248, 14679, 15359, 15780]}, "sampler_perf": {"mean_env_wait_ms": 9.404247620052217, "mean_raw_obs_processing_ms": 0.39913565444488663, "mean_inference_ms": 1.4378594412796695, "mean_action_processing_ms": 0.09052963763231982}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1048576, "timers": {"sample_time_ms": 5991.177, "sample_throughput": 5469.376, "learn_time_ms": 32359.297, "learn_throughput": 1012.63, "update_time_ms": 2.589}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00263671875, "cur_lr": 5e-05, "total_loss": 0.0029256747220642865, "policy_loss": -0.0012207592371851206, "vf_loss": 4.134892604430206, "vf_explained_var": -0.0019980166107416153, "kl": 0.004376269760541618, "entropy": 1.198277324438095, "entropy_coeff": 0.0}}, "num_steps_sampled": 1048576, "num_steps_trained": 1048576}, "done": false, "episodes_total": 5, "training_iteration": 32, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-45-26", "timestamp": 1611089126, "time_this_iter_s": 38.46846961975098, "time_total_s": 1244.0147886276245, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1244.0147886276245, "timesteps_since_restore": 0, "iterations_since_restore": 32, "perf": {"cpu_util_percent": 7.758181818181818, "ram_util_percent": 61.30363636363639}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -0.4111599999996457, "episode_len_mean": 14133.6, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 140509136.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978], "episode_lengths": [10602, 14248, 14679, 15359, 15780]}, "sampler_perf": {"mean_env_wait_ms": 9.404247620052217, "mean_raw_obs_processing_ms": 0.39913565444488663, "mean_inference_ms": 1.4378594412796695, "mean_action_processing_ms": 0.09052963763231982}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1081344, "timers": {"sample_time_ms": 5987.663, "sample_throughput": 5472.586, "learn_time_ms": 32326.423, "learn_throughput": 1013.66, "update_time_ms": 2.445}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.001318359375, "cur_lr": 5e-05, "total_loss": 0.0054439432569779456, "policy_loss": -0.00024906935868784785, "vf_loss": 5.6900770221836865, "vf_explained_var": -0.010361578315496445, "kl": 0.002224462497906643, "entropy": 1.1830473765730858, "entropy_coeff": 0.0}}, "num_steps_sampled": 1081344, "num_steps_trained": 1081344}, "done": false, "episodes_total": 5, "training_iteration": 33, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-46-05", "timestamp": 1611089165, "time_this_iter_s": 38.38903999328613, "time_total_s": 1282.4038286209106, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1282.4038286209106, "timesteps_since_restore": 0, "iterations_since_restore": 33, "perf": {"cpu_util_percent": 8.024074074074074, "ram_util_percent": 61.37777777777778}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -0.4111599999996457, "episode_len_mean": 14133.6, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 404545472.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978], "episode_lengths": [10602, 14248, 14679, 15359, 15780]}, "sampler_perf": {"mean_env_wait_ms": 9.404247620052217, "mean_raw_obs_processing_ms": 0.39913565444488663, "mean_inference_ms": 1.4378594412796695, "mean_action_processing_ms": 0.09052963763231982}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1114112, "timers": {"sample_time_ms": 5988.124, "sample_throughput": 5472.165, "learn_time_ms": 32281.537, "learn_throughput": 1015.069, "update_time_ms": 2.617}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0006591796875, "cur_lr": 5e-05, "total_loss": 0.0012906038318760693, "policy_loss": -0.0008886500727385283, "vf_loss": 2.176229241769761, "vf_explained_var": -0.014314798638224602, "kl": 0.004592075842083432, "entropy": 1.2709872163832188, "entropy_coeff": 0.0}}, "num_steps_sampled": 1114112, "num_steps_trained": 1114112}, "done": false, "episodes_total": 5, "training_iteration": 34, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-46-43", "timestamp": 1611089203, "time_this_iter_s": 38.31016492843628, "time_total_s": 1320.713993549347, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1320.713993549347, "timesteps_since_restore": 0, "iterations_since_restore": 34, "perf": {"cpu_util_percent": 7.814545454545455, "ram_util_percent": 61.400000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.647149999999723, "episode_len_mean": 14691.333333333334, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 400487936.0}, "hist_stats": {"episode_reward": [-13.827100000000108, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978], "episode_lengths": [17480, 10602, 14248, 14679, 15359, 15780]}, "sampler_perf": {"mean_env_wait_ms": 9.407469209302496, "mean_raw_obs_processing_ms": 0.40106839286219625, "mean_inference_ms": 1.441210055007061, "mean_action_processing_ms": 0.090422890106157}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1146880, "timers": {"sample_time_ms": 5994.363, "sample_throughput": 5466.469, "learn_time_ms": 32257.012, "learn_throughput": 1015.841, "update_time_ms": 2.474}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00032958984375, "cur_lr": 5e-05, "total_loss": 0.0020517203374765813, "policy_loss": -0.0019015991711057723, "vf_loss": 3.949711592402309, "vf_explained_var": -0.014512414112687111, "kl": 0.010942966415314004, "entropy": 1.129359856247902, "entropy_coeff": 0.0}}, "num_steps_sampled": 1146880, "num_steps_trained": 1146880}, "done": false, "episodes_total": 6, "training_iteration": 35, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-47-22", "timestamp": 1611089242, "time_this_iter_s": 38.66517663002014, "time_total_s": 1359.379170179367, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1359.379170179367, "timesteps_since_restore": 0, "iterations_since_restore": 35, "perf": {"cpu_util_percent": 7.6836363636363645, "ram_util_percent": 61.485454545454544}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.647149999999723, "episode_len_mean": 14691.333333333334, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 147097136.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480]}, "sampler_perf": {"mean_env_wait_ms": 9.407469209302498, "mean_raw_obs_processing_ms": 0.4010683928621963, "mean_inference_ms": 1.441210055007061, "mean_action_processing_ms": 0.090422890106157}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1179648, "timers": {"sample_time_ms": 5988.252, "sample_throughput": 5472.048, "learn_time_ms": 32229.473, "learn_throughput": 1016.709, "update_time_ms": 2.437}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00032958984375, "cur_lr": 5e-05, "total_loss": 0.001746360445395112, "policy_loss": -0.0011745896190404892, "vf_loss": 2.919070290401578, "vf_explained_var": 0.003920814022421837, "kl": 0.005720864282920957, "entropy": 1.1507390476763248, "entropy_coeff": 0.0}}, "num_steps_sampled": 1179648, "num_steps_trained": 1179648}, "done": false, "episodes_total": 6, "training_iteration": 36, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-48-00", "timestamp": 1611089280, "time_this_iter_s": 38.31650233268738, "time_total_s": 1397.6956725120544, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1397.6956725120544, "timesteps_since_restore": 0, "iterations_since_restore": 36, "perf": {"cpu_util_percent": 7.930909090909092, "ram_util_percent": 61.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -5.071899999999465, "episode_len_mean": 15727.125, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 197906704.0}, "hist_stats": {"episode_reward": [-11.081100000000216, -13.611199999997169, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108], "episode_lengths": [18793, 18876, 10602, 14248, 14679, 15359, 15780, 17480]}, "sampler_perf": {"mean_env_wait_ms": 9.40266366783221, "mean_raw_obs_processing_ms": 0.4005777364477732, "mean_inference_ms": 1.4427455774629967, "mean_action_processing_ms": 0.09086214017680184}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1212416, "timers": {"sample_time_ms": 5985.221, "sample_throughput": 5474.819, "learn_time_ms": 32218.865, "learn_throughput": 1017.044, "update_time_ms": 2.383}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00032958984375, "cur_lr": 5e-05, "total_loss": 0.0020198652055114508, "policy_loss": -0.0006860897410660982, "vf_loss": 2.7049586307257414, "vf_explained_var": 0.0008725449442863464, "kl": 0.0029960494866827503, "entropy": 1.1240528840571642, "entropy_coeff": 0.0}}, "num_steps_sampled": 1212416, "num_steps_trained": 1212416}, "done": false, "episodes_total": 8, "training_iteration": 37, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-48-38", "timestamp": 1611089318, "time_this_iter_s": 37.967501640319824, "time_total_s": 1435.6631741523743, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1435.6631741523743, "timesteps_since_restore": 0, "iterations_since_restore": 37, "perf": {"cpu_util_percent": 7.898148148148148, "ram_util_percent": 61.587037037037035}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -6.4099599999996375, "episode_len_mean": 16429.7, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1170333824.0}, "hist_stats": {"episode_reward": [-26.508100000001114, 2.9837000000004608, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169], "episode_lengths": [19159, 19321, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876]}, "sampler_perf": {"mean_env_wait_ms": 9.406070968796744, "mean_raw_obs_processing_ms": 0.4017179207815422, "mean_inference_ms": 1.4464458721033495, "mean_action_processing_ms": 0.09073030698555085}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1245184, "timers": {"sample_time_ms": 5989.524, "sample_throughput": 5470.886, "learn_time_ms": 32249.235, "learn_throughput": 1016.086, "update_time_ms": 2.377}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.000164794921875, "cur_lr": 5e-05, "total_loss": 0.002234628249425441, "policy_loss": -0.00031021435279399157, "vf_loss": 2.543837817851454, "vf_explained_var": 0.005556412041187286, "kl": 0.006104977284849156, "entropy": 1.1816670522093773, "entropy_coeff": 0.0}}, "num_steps_sampled": 1245184, "num_steps_trained": 1245184}, "done": false, "episodes_total": 10, "training_iteration": 38, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-49-17", "timestamp": 1611089357, "time_this_iter_s": 38.341065406799316, "time_total_s": 1474.0042395591736, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1474.0042395591736, "timesteps_since_restore": 0, "iterations_since_restore": 38, "perf": {"cpu_util_percent": 7.992592592592594, "ram_util_percent": 61.599999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -6.4099599999996375, "episode_len_mean": 16429.7, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 632588352.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321]}, "sampler_perf": {"mean_env_wait_ms": 9.406070968796746, "mean_raw_obs_processing_ms": 0.4017179207815422, "mean_inference_ms": 1.4464458721033495, "mean_action_processing_ms": 0.09073030698555086}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1277952, "timers": {"sample_time_ms": 6045.712, "sample_throughput": 5420.04, "learn_time_ms": 32262.779, "learn_throughput": 1015.66, "update_time_ms": 2.429}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.000164794921875, "cur_lr": 5e-05, "total_loss": 0.0023504142882302403, "policy_loss": -0.0005345137906260788, "vf_loss": 2.8841028306633234, "vf_explained_var": -0.04393252730369568, "kl": 0.004994698469090508, "entropy": 1.1305768061429262, "entropy_coeff": 0.0}}, "num_steps_sampled": 1277952, "num_steps_trained": 1277952}, "done": false, "episodes_total": 10, "training_iteration": 39, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-49-55", "timestamp": 1611089395, "time_this_iter_s": 38.762645959854126, "time_total_s": 1512.7668855190277, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1512.7668855190277, "timesteps_since_restore": 0, "iterations_since_restore": 39, "perf": {"cpu_util_percent": 8.621818181818183, "ram_util_percent": 61.599999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -4.794781818181522, "episode_len_mean": 16789.363636363636, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 193462400.0}, "hist_stats": {"episode_reward": [11.356999999999633, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608], "episode_lengths": [20386, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321]}, "sampler_perf": {"mean_env_wait_ms": 9.410302269891972, "mean_raw_obs_processing_ms": 0.40293466017260077, "mean_inference_ms": 1.447955470004153, "mean_action_processing_ms": 0.09088169816851749}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1310720, "timers": {"sample_time_ms": 6037.724, "sample_throughput": 5427.21, "learn_time_ms": 32351.124, "learn_throughput": 1012.886, "update_time_ms": 2.42}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.14217619341798127, "policy_loss": -0.0011013555922545493, "vf_loss": 143.2767971395515, "vf_explained_var": 0.0036165546625852585, "kl": 0.00899489488801919, "entropy": 1.207592599093914, "entropy_coeff": 0.0}}, "num_steps_sampled": 1310720, "num_steps_trained": 1310720}, "done": false, "episodes_total": 11, "training_iteration": 40, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-50-33", "timestamp": 1611089433, "time_this_iter_s": 38.15271210670471, "time_total_s": 1550.9195976257324, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1550.9195976257324, "timesteps_since_restore": 0, "iterations_since_restore": 40, "perf": {"cpu_util_percent": 7.7654545454545465, "ram_util_percent": 61.69636363636361}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -4.794781818181522, "episode_len_mean": 16789.363636363636, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1636943744.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386]}, "sampler_perf": {"mean_env_wait_ms": 9.410302269891973, "mean_raw_obs_processing_ms": 0.40293466017260077, "mean_inference_ms": 1.447955470004153, "mean_action_processing_ms": 0.09088169816851749}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1343488, "timers": {"sample_time_ms": 6036.174, "sample_throughput": 5428.604, "learn_time_ms": 32310.088, "learn_throughput": 1014.172, "update_time_ms": 2.514}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.002658406679984182, "policy_loss": -0.000990420565358363, "vf_loss": 3.6481026355177164, "vf_explained_var": -0.05684288218617439, "kl": 0.008710293710464612, "entropy": 1.3134188912808895, "entropy_coeff": 0.0}}, "num_steps_sampled": 1343488, "num_steps_trained": 1343488}, "done": false, "episodes_total": 11, "training_iteration": 41, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-51-12", "timestamp": 1611089472, "time_this_iter_s": 38.166935443878174, "time_total_s": 1589.0865330696106, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1589.0865330696106, "timesteps_since_restore": 0, "iterations_since_restore": 41, "perf": {"cpu_util_percent": 7.783333333333335, "ram_util_percent": 61.69999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.330553846153507, "episode_len_mean": 17474.923076923078, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 212285328.0}, "hist_stats": {"episode_reward": [16.092400000000552, 6.3530000000006055, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633], "episode_lengths": [21464, 21027, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386]}, "sampler_perf": {"mean_env_wait_ms": 9.42326775893076, "mean_raw_obs_processing_ms": 0.4023062249480186, "mean_inference_ms": 1.4488228502954124, "mean_action_processing_ms": 0.09124366469725247}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1376256, "timers": {"sample_time_ms": 6037.182, "sample_throughput": 5427.698, "learn_time_ms": 32362.573, "learn_throughput": 1012.528, "update_time_ms": 2.511}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0023233997053466737, "policy_loss": -0.0009195480379275978, "vf_loss": 3.2424571947194636, "vf_explained_var": -0.0372033417224884, "kl": 0.005910558029427193, "entropy": 1.3477426283061504, "entropy_coeff": 0.0}}, "num_steps_sampled": 1376256, "num_steps_trained": 1376256}, "done": false, "episodes_total": 13, "training_iteration": 42, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-51-51", "timestamp": 1611089511, "time_this_iter_s": 39.00312638282776, "time_total_s": 1628.0896594524384, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1628.0896594524384, "timesteps_since_restore": 0, "iterations_since_restore": 42, "perf": {"cpu_util_percent": 7.792857142857144, "ram_util_percent": 61.79464285714287}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.3305538461535065, "episode_len_mean": 17474.923076923078, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 514147104.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027]}, "sampler_perf": {"mean_env_wait_ms": 9.423267758930761, "mean_raw_obs_processing_ms": 0.40230622494801865, "mean_inference_ms": 1.4488228502954124, "mean_action_processing_ms": 0.09124366469725251}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1409024, "timers": {"sample_time_ms": 6037.974, "sample_throughput": 5426.986, "learn_time_ms": 32352.817, "learn_throughput": 1012.833, "update_time_ms": 2.616}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0024222910578828305, "policy_loss": -0.0011373604938853532, "vf_loss": 3.5590950716286898, "vf_explained_var": -0.0022905953228473663, "kl": 0.006747328683559317, "entropy": 1.396489392966032, "entropy_coeff": 0.0}}, "num_steps_sampled": 1409024, "num_steps_trained": 1409024}, "done": false, "episodes_total": 13, "training_iteration": 43, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-52-29", "timestamp": 1611089549, "time_this_iter_s": 38.299546003341675, "time_total_s": 1666.38920545578, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1666.38920545578, "timesteps_since_restore": 0, "iterations_since_restore": 43, "perf": {"cpu_util_percent": 7.887037037037039, "ram_util_percent": 61.80185185185187}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.3305538461535065, "episode_len_mean": 17474.923076923078, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 194616016.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027]}, "sampler_perf": {"mean_env_wait_ms": 9.423267758930761, "mean_raw_obs_processing_ms": 0.40230622494801865, "mean_inference_ms": 1.4488228502954124, "mean_action_processing_ms": 0.09124366469725251}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1441792, "timers": {"sample_time_ms": 6039.051, "sample_throughput": 5426.018, "learn_time_ms": 32381.533, "learn_throughput": 1011.935, "update_time_ms": 2.572}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.001249089284101501, "policy_loss": -0.0005519466067198664, "vf_loss": 1.8003482432104647, "vf_explained_var": 0.022542331367731094, "kl": 0.008308766336995177, "entropy": 1.3820372447371483, "entropy_coeff": 0.0}}, "num_steps_sampled": 1441792, "num_steps_trained": 1441792}, "done": false, "episodes_total": 13, "training_iteration": 44, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-53-08", "timestamp": 1611089588, "time_this_iter_s": 38.60671877861023, "time_total_s": 1704.9959242343903, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1704.9959242343903, "timesteps_since_restore": 0, "iterations_since_restore": 44, "perf": {"cpu_util_percent": 7.938181818181819, "ram_util_percent": 61.900000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -2.122013333333364, "episode_len_mean": 18160.666666666668, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1051785024.0}, "hist_stats": {"episode_reward": [15.009399999997484, -16.542400000002345, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055], "episode_lengths": [22588, 22648, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027]}, "sampler_perf": {"mean_env_wait_ms": 9.42603744850604, "mean_raw_obs_processing_ms": 0.4021245943335566, "mean_inference_ms": 1.448113581119742, "mean_action_processing_ms": 0.09133582408936579}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1474560, "timers": {"sample_time_ms": 6050.63, "sample_throughput": 5415.634, "learn_time_ms": 32310.998, "learn_throughput": 1014.144, "update_time_ms": 2.688}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.007698329602135345, "policy_loss": -0.0016086003161035478, "vf_loss": 9.305664555635303, "vf_explained_var": -0.0013461094349622726, "kl": 0.015318425022996962, "entropy": 1.48921562358737, "entropy_coeff": 0.0}}, "num_steps_sampled": 1474560, "num_steps_trained": 1474560}, "done": false, "episodes_total": 15, "training_iteration": 45, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-53-46", "timestamp": 1611089626, "time_this_iter_s": 38.07626223564148, "time_total_s": 1743.0721864700317, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1743.0721864700317, "timesteps_since_restore": 0, "iterations_since_restore": 45, "perf": {"cpu_util_percent": 8.012727272727272, "ram_util_percent": 61.900000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -1.7073250000002032, "episode_len_mean": 18483.875, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 39906264.0}, "hist_stats": {"episode_reward": [4.5129999999971915, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345], "episode_lengths": [23332, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648]}, "sampler_perf": {"mean_env_wait_ms": 9.431852862597129, "mean_raw_obs_processing_ms": 0.40202922499814314, "mean_inference_ms": 1.4474410190914062, "mean_action_processing_ms": 0.09133570339533517}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1507328, "timers": {"sample_time_ms": 6059.863, "sample_throughput": 5407.383, "learn_time_ms": 32270.944, "learn_throughput": 1015.403, "update_time_ms": 2.682}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0017027168505592272, "policy_loss": -0.001751531264744699, "vf_loss": 3.453158772084862, "vf_explained_var": -0.012714479118585587, "kl": 0.013186013093218207, "entropy": 1.5477465987205505, "entropy_coeff": 0.0}}, "num_steps_sampled": 1507328, "num_steps_trained": 1507328}, "done": false, "episodes_total": 16, "training_iteration": 46, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-54-24", "timestamp": 1611089664, "time_this_iter_s": 38.00782370567322, "time_total_s": 1781.080010175705, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1781.080010175705, "timesteps_since_restore": 0, "iterations_since_restore": 46, "perf": {"cpu_util_percent": 7.885185185185184, "ram_util_percent": 61.900000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -1.7073250000002036, "episode_len_mean": 18483.875, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 366037856.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332]}, "sampler_perf": {"mean_env_wait_ms": 9.431852862597129, "mean_raw_obs_processing_ms": 0.40202922499814314, "mean_inference_ms": 1.4474410190914062, "mean_action_processing_ms": 0.09133570339533517}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1540096, "timers": {"sample_time_ms": 6062.147, "sample_throughput": 5405.346, "learn_time_ms": 32340.535, "learn_throughput": 1013.218, "update_time_ms": 2.75}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0010864672949537635, "policy_loss": -0.0010008937970269471, "vf_loss": 2.0868080840446055, "vf_explained_var": 0.003044283017516136, "kl": 0.006676835400867276, "entropy": 1.5795504227280617, "entropy_coeff": 0.0}}, "num_steps_sampled": 1540096, "num_steps_trained": 1540096}, "done": false, "episodes_total": 16, "training_iteration": 47, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-55-02", "timestamp": 1611089702, "time_this_iter_s": 38.68729281425476, "time_total_s": 1819.7673029899597, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1819.7673029899597, "timesteps_since_restore": 0, "iterations_since_restore": 47, "perf": {"cpu_util_percent": 7.963636363636363, "ram_util_percent": 61.84545454545458}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -1.8494470588237253, "episode_len_mean": 18816.823529411766, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 364860352.0}, "hist_stats": {"episode_reward": [-4.123400000000066, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915], "episode_lengths": [24144, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332]}, "sampler_perf": {"mean_env_wait_ms": 9.432669777238276, "mean_raw_obs_processing_ms": 0.4016116487057321, "mean_inference_ms": 1.4479213165171976, "mean_action_processing_ms": 0.09131291847325503}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1572864, "timers": {"sample_time_ms": 6051.823, "sample_throughput": 5414.567, "learn_time_ms": 32359.585, "learn_throughput": 1012.621, "update_time_ms": 2.882}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0023041891181492247, "policy_loss": -0.002007743969443254, "vf_loss": 4.310897990129888, "vf_explained_var": -0.004557434469461441, "kl": 0.012604250587173738, "entropy": 1.566580355167389, "entropy_coeff": 0.0}}, "num_steps_sampled": 1572864, "num_steps_trained": 1572864}, "done": false, "episodes_total": 17, "training_iteration": 48, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-55-41", "timestamp": 1611089741, "time_this_iter_s": 38.430044412612915, "time_total_s": 1858.1973474025726, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1858.1973474025726, "timesteps_since_restore": 0, "iterations_since_restore": 48, "perf": {"cpu_util_percent": 7.827272727272727, "ram_util_percent": 61.800000000000026}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 25.030800000002102, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -1.8494470588237248, "episode_len_mean": 18816.823529411766, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 240928864.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144]}, "sampler_perf": {"mean_env_wait_ms": 9.432669777238276, "mean_raw_obs_processing_ms": 0.4016116487057322, "mean_inference_ms": 1.4479213165171976, "mean_action_processing_ms": 0.09131291847325503}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1605632, "timers": {"sample_time_ms": 6012.763, "sample_throughput": 5449.741, "learn_time_ms": 32362.314, "learn_throughput": 1012.536, "update_time_ms": 2.965}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0034267281589563936, "policy_loss": -0.0019403588958084583, "vf_loss": 5.365568267181516, "vf_explained_var": 0.0013773664832115173, "kl": 0.018462689156876877, "entropy": 1.558823425322771, "entropy_coeff": 0.0}}, "num_steps_sampled": 1605632, "num_steps_trained": 1605632}, "done": false, "episodes_total": 17, "training_iteration": 49, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-56-19", "timestamp": 1611089779, "time_this_iter_s": 38.40100336074829, "time_total_s": 1896.598350763321, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1896.598350763321, "timesteps_since_restore": 0, "iterations_since_restore": 49, "perf": {"cpu_util_percent": 8.022222222222224, "ram_util_percent": 61.80000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 26.822699999999823, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -0.25655000000019423, "episode_len_mean": 19188.277777777777, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 171240608.0}, "hist_stats": {"episode_reward": [26.822699999999823, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066], "episode_lengths": [25503, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144]}, "sampler_perf": {"mean_env_wait_ms": 9.437829131394924, "mean_raw_obs_processing_ms": 0.4016020777204999, "mean_inference_ms": 1.4473991745813044, "mean_action_processing_ms": 0.09132284497119732}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1638400, "timers": {"sample_time_ms": 6017.924, "sample_throughput": 5445.067, "learn_time_ms": 32358.411, "learn_throughput": 1012.658, "update_time_ms": 3.044}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.00473664456512779, "policy_loss": -0.0021755293128080666, "vf_loss": 6.910634194500744, "vf_explained_var": 0.014029959216713905, "kl": 0.018723610672168434, "entropy": 1.5563605949282646, "entropy_coeff": 0.0}}, "num_steps_sampled": 1638400, "num_steps_trained": 1638400}, "done": false, "episodes_total": 18, "training_iteration": 50, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-56-57", "timestamp": 1611089817, "time_this_iter_s": 38.16527843475342, "time_total_s": 1934.7636291980743, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1934.7636291980743, "timesteps_since_restore": 0, "iterations_since_restore": 50, "perf": {"cpu_util_percent": 7.785454545454545, "ram_util_percent": 61.800000000000026}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 26.822699999999823, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 0.39233684210505465, "episode_len_mean": 19540.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 33548826.0}, "hist_stats": {"episode_reward": [12.072299999999537, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823], "episode_lengths": [25871, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503]}, "sampler_perf": {"mean_env_wait_ms": 9.442325854816525, "mean_raw_obs_processing_ms": 0.40161447321582594, "mean_inference_ms": 1.4469087679919563, "mean_action_processing_ms": 0.09133180984977166}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1671168, "timers": {"sample_time_ms": 6022.088, "sample_throughput": 5441.302, "learn_time_ms": 32404.738, "learn_throughput": 1011.21, "update_time_ms": 3.013}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.002100358426105231, "policy_loss": -0.00028681138064712286, "vf_loss": 2.385817493777722, "vf_explained_var": 0.004517398774623871, "kl": 0.016388723073760048, "entropy": 1.49985870718956, "entropy_coeff": 0.0}}, "num_steps_sampled": 1671168, "num_steps_trained": 1671168}, "done": false, "episodes_total": 19, "training_iteration": 51, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-57-36", "timestamp": 1611089856, "time_this_iter_s": 38.67139649391174, "time_total_s": 1973.435025691986, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1973.435025691986, "timesteps_since_restore": 0, "iterations_since_restore": 51, "perf": {"cpu_util_percent": 7.829090909090908, "ram_util_percent": 61.88545454545455}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 26.822699999999823, "episode_reward_min": -39.13190000000031, "episode_reward_mean": -1.4199750000002607, "episode_len_mean": 19871.3, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 95172264.0}, "hist_stats": {"episode_reward": [-35.85390000000126, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537], "episode_lengths": [26166, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871]}, "sampler_perf": {"mean_env_wait_ms": 9.446157630757156, "mean_raw_obs_processing_ms": 0.40163796753206604, "mean_inference_ms": 1.4464310548034887, "mean_action_processing_ms": 0.09133777429035646}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1703936, "timers": {"sample_time_ms": 6024.63, "sample_throughput": 5439.006, "learn_time_ms": 32367.102, "learn_throughput": 1012.386, "update_time_ms": 3.166}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 0.0016515065217390656, "policy_loss": -0.0011815038742497563, "vf_loss": 2.832534310873598, "vf_explained_var": -0.0023074205964803696, "kl": 0.0057689643326739315, "entropy": 1.52402825653553, "entropy_coeff": 0.0}}, "num_steps_sampled": 1703936, "num_steps_trained": 1703936}, "done": false, "episodes_total": 20, "training_iteration": 52, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-58-15", "timestamp": 1611089895, "time_this_iter_s": 38.65220332145691, "time_total_s": 2012.087229013443, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2012.087229013443, "timesteps_since_restore": 0, "iterations_since_restore": 52, "perf": {"cpu_util_percent": 7.885454545454547, "ram_util_percent": 61.901818181818186}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 28.461300000002012, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 0.002942857142704454, "episode_len_mean": 20197.85714285714, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 112973456.0}, "hist_stats": {"episode_reward": [28.461300000002012, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126], "episode_lengths": [26729, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166]}, "sampler_perf": {"mean_env_wait_ms": 9.449500457054901, "mean_raw_obs_processing_ms": 0.4016873861051324, "mean_inference_ms": 1.4459965603880267, "mean_action_processing_ms": 0.09134193410093681}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1736704, "timers": {"sample_time_ms": 6020.784, "sample_throughput": 5442.481, "learn_time_ms": 32389.93, "learn_throughput": 1011.672, "update_time_ms": 3.185}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": -0.00017270981334149837, "policy_loss": -0.0017716785660013556, "vf_loss": 1.597566011827439, "vf_explained_var": -0.0114331915974617, "kl": 0.016973348043393344, "entropy": 1.4778889827430248, "entropy_coeff": 0.0}}, "num_steps_sampled": 1736704, "num_steps_trained": 1736704}, "done": false, "episodes_total": 21, "training_iteration": 53, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-58-53", "timestamp": 1611089933, "time_this_iter_s": 38.490429639816284, "time_total_s": 2050.5776586532593, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2050.5776586532593, "timesteps_since_restore": 0, "iterations_since_restore": 53, "perf": {"cpu_util_percent": 7.79090909090909, "ram_util_percent": 61.91818181818182}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 28.461300000002012, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 0.0029428571427042847, "episode_len_mean": 20197.85714285714, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 27210544.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729]}, "sampler_perf": {"mean_env_wait_ms": 9.449500457054901, "mean_raw_obs_processing_ms": 0.4016873861051324, "mean_inference_ms": 1.4459965603880267, "mean_action_processing_ms": 0.09134193410093681}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1769472, "timers": {"sample_time_ms": 6025.892, "sample_throughput": 5437.867, "learn_time_ms": 32378.599, "learn_throughput": 1012.026, "update_time_ms": 3.169}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.23974609375e-05, "cur_lr": 5e-05, "total_loss": 5.1346258260309696e-05, "policy_loss": -0.002186418860219419, "vf_loss": 2.2358301826752722, "vf_explained_var": -0.013590220361948013, "kl": 0.023483748780563474, "entropy": 1.3286649025976658, "entropy_coeff": 0.0}}, "num_steps_sampled": 1769472, "num_steps_trained": 1769472}, "done": false, "episodes_total": 21, "training_iteration": 54, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_15-59-32", "timestamp": 1611089972, "time_this_iter_s": 38.54515814781189, "time_total_s": 2089.122816801071, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2089.122816801071, "timesteps_since_restore": 0, "iterations_since_restore": 54, "perf": {"cpu_util_percent": 8.138181818181819, "ram_util_percent": 62.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 28.461300000002012, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 0.6523727272725697, "episode_len_mean": 20542.863636363636, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1039654.625}, "hist_stats": {"episode_reward": [14.290399999999742, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012], "episode_lengths": [27788, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729]}, "sampler_perf": {"mean_env_wait_ms": 9.449591151834307, "mean_raw_obs_processing_ms": 0.40143203963497814, "mean_inference_ms": 1.4464156779097137, "mean_action_processing_ms": 0.09132644692657169}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1802240, "timers": {"sample_time_ms": 6011.704, "sample_throughput": 5450.701, "learn_time_ms": 32443.166, "learn_throughput": 1010.012, "update_time_ms": 3.046}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": 0.0005636993446387351, "policy_loss": -0.0013221019180491567, "vf_loss": 1.8836963986977935, "vf_explained_var": -0.02344859018921852, "kl": 0.017052705603418872, "entropy": 1.1697671376168728, "entropy_coeff": 0.0}}, "num_steps_sampled": 1802240, "num_steps_trained": 1802240}, "done": false, "episodes_total": 22, "training_iteration": 55, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-00-11", "timestamp": 1611090011, "time_this_iter_s": 38.57918643951416, "time_total_s": 2127.7020032405853, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2127.7020032405853, "timesteps_since_restore": 0, "iterations_since_restore": 55, "perf": {"cpu_util_percent": 7.725454545454545, "ram_util_percent": 62.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 19.855679166666423, "episode_len_mean": 21191.916666666668, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5505175.0}, "hist_stats": {"episode_reward": [72.72949999999409, 389.4546000000035, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742], "episode_lengths": [28382, 28281, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788]}, "sampler_perf": {"mean_env_wait_ms": 9.444784774903935, "mean_raw_obs_processing_ms": 0.40125906551429696, "mean_inference_ms": 1.4460422585538624, "mean_action_processing_ms": 0.09134336229393486}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1835008, "timers": {"sample_time_ms": 6011.675, "sample_throughput": 5450.727, "learn_time_ms": 32521.836, "learn_throughput": 1007.569, "update_time_ms": 3.045}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": -0.00023949192836880684, "policy_loss": -0.0015303652035072446, "vf_loss": 1.2899572495371103, "vf_explained_var": 0.006741860881447792, "kl": 0.007386507058981806, "entropy": 1.1741268001496792, "entropy_coeff": 0.0}}, "num_steps_sampled": 1835008, "num_steps_trained": 1835008}, "done": false, "episodes_total": 24, "training_iteration": 56, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-00-49", "timestamp": 1611090049, "time_this_iter_s": 38.794463872909546, "time_total_s": 2166.496467113495, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2166.496467113495, "timesteps_since_restore": 0, "iterations_since_restore": 56, "perf": {"cpu_util_percent": 7.909090909090908, "ram_util_percent": 62.09272727272726}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -39.13190000000031, "episode_reward_mean": 19.22032399999978, "episode_len_mean": 20896.12, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1041186752.0}, "hist_stats": {"episode_reward": [3.971800000000485, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035], "episode_lengths": [13797, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281]}, "sampler_perf": {"mean_env_wait_ms": 9.445832310088782, "mean_raw_obs_processing_ms": 0.40169014850423806, "mean_inference_ms": 1.446800054962196, "mean_action_processing_ms": 0.09130002277001131}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1867776, "timers": {"sample_time_ms": 6014.794, "sample_throughput": 5447.901, "learn_time_ms": 32523.002, "learn_throughput": 1007.533, "update_time_ms": 2.98}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": 0.0172053060377948, "policy_loss": -0.0017982451827265322, "vf_loss": 19.00126433232799, "vf_explained_var": -0.006987743079662323, "kl": 0.0184801229625009, "entropy": 1.0989364571869373, "entropy_coeff": 0.0}}, "num_steps_sampled": 1867776, "num_steps_trained": 1867776}, "done": false, "episodes_total": 25, "training_iteration": 57, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-01-28", "timestamp": 1611090088, "time_this_iter_s": 38.72875952720642, "time_total_s": 2205.2252266407013, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2205.2252266407013, "timesteps_since_restore": 0, "iterations_since_restore": 57, "perf": {"cpu_util_percent": 7.996363636363637, "ram_util_percent": 62.099999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 16.45052692307681, "episode_len_mean": 21228.96153846154, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 257716688.0}, "hist_stats": {"episode_reward": [-52.79439999999747, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485], "episode_lengths": [29550, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797]}, "sampler_perf": {"mean_env_wait_ms": 9.44514816753824, "mean_raw_obs_processing_ms": 0.40161954721598503, "mean_inference_ms": 1.4472791521082693, "mean_action_processing_ms": 0.09125627966173012}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1900544, "timers": {"sample_time_ms": 6019.631, "sample_throughput": 5443.523, "learn_time_ms": 32516.966, "learn_throughput": 1007.72, "update_time_ms": 2.976}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": 0.060192053962964565, "policy_loss": -0.00039372427272610366, "vf_loss": 60.58513311063871, "vf_explained_var": -0.0010825898498296738, "kl": 0.00511865832231706, "entropy": 1.1533379293978214, "entropy_coeff": 0.0}}, "num_steps_sampled": 1900544, "num_steps_trained": 1900544}, "done": false, "episodes_total": 26, "training_iteration": 58, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-02-07", "timestamp": 1611090127, "time_this_iter_s": 38.41819453239441, "time_total_s": 2243.6434211730957, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2243.6434211730957, "timesteps_since_restore": 0, "iterations_since_restore": 58, "perf": {"cpu_util_percent": 7.85090909090909, "ram_util_percent": 62.099999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 16.450526923076815, "episode_len_mean": 21228.96153846154, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 54984616.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550]}, "sampler_perf": {"mean_env_wait_ms": 9.445148167538242, "mean_raw_obs_processing_ms": 0.40161954721598503, "mean_inference_ms": 1.4472791521082695, "mean_action_processing_ms": 0.0912562796617301}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1933312, "timers": {"sample_time_ms": 6012.82, "sample_throughput": 5449.689, "learn_time_ms": 32513.225, "learn_throughput": 1007.836, "update_time_ms": 2.97}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": -2.2314314264804125e-05, "policy_loss": -0.001440357242245227, "vf_loss": 1.4163985557388514, "vf_explained_var": -0.017726454883813858, "kl": 0.013341713187401183, "entropy": 1.0167595073580742, "entropy_coeff": 0.0}}, "num_steps_sampled": 1933312, "num_steps_trained": 1933312}, "done": false, "episodes_total": 26, "training_iteration": 59, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-02-45", "timestamp": 1611090165, "time_this_iter_s": 38.29516935348511, "time_total_s": 2281.938590526581, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2281.938590526581, "timesteps_since_restore": 0, "iterations_since_restore": 59, "perf": {"cpu_util_percent": 7.911111111111112, "ram_util_percent": 62.149999999999984}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 14.938192857142687, "episode_len_mean": 21902.928571428572, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 27697134.0}, "hist_stats": {"episode_reward": [-29.862400000000314, 20.41809999999849, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747], "episode_lengths": [30660, 30669, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550]}, "sampler_perf": {"mean_env_wait_ms": 9.45382827571649, "mean_raw_obs_processing_ms": 0.40191439260665096, "mean_inference_ms": 1.448440264223408, "mean_action_processing_ms": 0.0913257023123315}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1966080, "timers": {"sample_time_ms": 6018.222, "sample_throughput": 5444.798, "learn_time_ms": 32557.044, "learn_throughput": 1006.48, "update_time_ms": 3.022}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00012359619140625002, "cur_lr": 5e-05, "total_loss": 0.0013857088633812964, "policy_loss": -0.0006531548569910228, "vf_loss": 2.03847537713591, "vf_explained_var": -0.010592691600322723, "kl": 0.003125870462099556, "entropy": 1.0297855753451586, "entropy_coeff": 0.0}}, "num_steps_sampled": 1966080, "num_steps_trained": 1966080}, "done": false, "episodes_total": 28, "training_iteration": 60, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-03-23", "timestamp": 1611090203, "time_this_iter_s": 38.65785217285156, "time_total_s": 2320.5964426994324, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2320.5964426994324, "timesteps_since_restore": 0, "iterations_since_restore": 60, "perf": {"cpu_util_percent": 7.7821428571428575, "ram_util_percent": 62.199999999999996}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 14.938192857142692, "episode_len_mean": 21902.928571428572, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 65716728.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669]}, "sampler_perf": {"mean_env_wait_ms": 9.453828275716491, "mean_raw_obs_processing_ms": 0.40191439260665096, "mean_inference_ms": 1.448440264223408, "mean_action_processing_ms": 0.0913257023123315}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 1998848, "timers": {"sample_time_ms": 6019.774, "sample_throughput": 5443.394, "learn_time_ms": 32530.101, "learn_throughput": 1007.313, "update_time_ms": 3.107}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.179809570312501e-05, "cur_lr": 5e-05, "total_loss": 0.0010973727330565453, "policy_loss": -0.000716702634235844, "vf_loss": 1.813748454209417, "vf_explained_var": -2.1785497665405273e-05, "kl": 0.005263181948976126, "entropy": 1.0454425793141127, "entropy_coeff": 0.0}}, "num_steps_sampled": 1998848, "num_steps_trained": 1998848}, "done": false, "episodes_total": 28, "training_iteration": 61, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-04-02", "timestamp": 1611090242, "time_this_iter_s": 38.41849613189697, "time_total_s": 2359.0149388313293, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2359.0149388313293, "timesteps_since_restore": 0, "iterations_since_restore": 61, "perf": {"cpu_util_percent": 7.809259259259258, "ram_util_percent": 62.229629629629656}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 14.938192857142692, "episode_len_mean": 21902.928571428572, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 849164480.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669]}, "sampler_perf": {"mean_env_wait_ms": 9.453828275716491, "mean_raw_obs_processing_ms": 0.40191439260665096, "mean_inference_ms": 1.448440264223408, "mean_action_processing_ms": 0.0913257023123315}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2031616, "timers": {"sample_time_ms": 6023.673, "sample_throughput": 5439.87, "learn_time_ms": 32503.572, "learn_throughput": 1008.135, "update_time_ms": 3.114}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.179809570312501e-05, "cur_lr": 5e-05, "total_loss": 0.0016445738729089499, "policy_loss": -0.001170783449197188, "vf_loss": 2.814926458057016, "vf_explained_var": -0.005312366411089897, "kl": 0.006995785181061365, "entropy": 0.9423924684524536, "entropy_coeff": 0.0}}, "num_steps_sampled": 2031616, "num_steps_trained": 2031616}, "done": false, "episodes_total": 28, "training_iteration": 62, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-04-40", "timestamp": 1611090280, "time_this_iter_s": 38.42690467834473, "time_total_s": 2397.441843509674, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2397.441843509674, "timesteps_since_restore": 0, "iterations_since_restore": 62, "perf": {"cpu_util_percent": 7.781818181818183, "ram_util_percent": 62.27636363636362}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.939456666666285, "episode_len_mean": 21464.233333333334, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 46622412.0}, "hist_stats": {"episode_reward": [-9.923300000006435, -20.16240000000026, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849], "episode_lengths": [17623, 13022, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669]}, "sampler_perf": {"mean_env_wait_ms": 9.455114974937638, "mean_raw_obs_processing_ms": 0.4019295381177209, "mean_inference_ms": 1.448525212499846, "mean_action_processing_ms": 0.09129382420462329}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2064384, "timers": {"sample_time_ms": 6050.099, "sample_throughput": 5416.109, "learn_time_ms": 32480.024, "learn_throughput": 1008.866, "update_time_ms": 3.126}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.179809570312501e-05, "cur_lr": 5e-05, "total_loss": 0.000825019960757345, "policy_loss": -0.0009459636057727039, "vf_loss": 1.7706455681473017, "vf_explained_var": -0.005338890478014946, "kl": 0.005445394039270468, "entropy": 0.9380166772753, "entropy_coeff": 0.0}}, "num_steps_sampled": 2064384, "num_steps_trained": 2064384}, "done": false, "episodes_total": 30, "training_iteration": 63, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-05-19", "timestamp": 1611090319, "time_this_iter_s": 38.519213914871216, "time_total_s": 2435.9610574245453, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2435.9610574245453, "timesteps_since_restore": 0, "iterations_since_restore": 63, "perf": {"cpu_util_percent": 7.845454545454546, "ram_util_percent": 62.27636363636367}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 13.533022580644834, "episode_len_mean": 21826.25806451613, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 10346444.0}, "hist_stats": {"episode_reward": [31.340000000001275, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026], "episode_lengths": [32687, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022]}, "sampler_perf": {"mean_env_wait_ms": 9.455586617047096, "mean_raw_obs_processing_ms": 0.40175544480900566, "mean_inference_ms": 1.4488269952631965, "mean_action_processing_ms": 0.09128857826521326}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2097152, "timers": {"sample_time_ms": 6048.786, "sample_throughput": 5417.285, "learn_time_ms": 32449.143, "learn_throughput": 1009.826, "update_time_ms": 3.091}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.179809570312501e-05, "cur_lr": 5e-05, "total_loss": 0.001439412881154567, "policy_loss": -0.00038120782119221985, "vf_loss": 1.8203408939298242, "vf_explained_var": -0.00819483958184719, "kl": 0.004497798814554699, "entropy": 1.0168330539017916, "entropy_coeff": 0.0}}, "num_steps_sampled": 2097152, "num_steps_trained": 2097152}, "done": false, "episodes_total": 31, "training_iteration": 64, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-05-57", "timestamp": 1611090357, "time_this_iter_s": 38.2228479385376, "time_total_s": 2474.183905363083, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2474.183905363083, "timesteps_since_restore": 0, "iterations_since_restore": 64, "perf": {"cpu_util_percent": 7.864814814814814, "ram_util_percent": 62.30000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.084842424242105, "episode_len_mean": 22517.21212121212, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 52819772.0}, "hist_stats": {"episode_reward": [-3.1845000000004404, -17.53939999999998, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275], "episode_lengths": [33214, 33240, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687]}, "sampler_perf": {"mean_env_wait_ms": 9.453993921223859, "mean_raw_obs_processing_ms": 0.4017323981034775, "mean_inference_ms": 1.449454815857329, "mean_action_processing_ms": 0.09122254610006966}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2129920, "timers": {"sample_time_ms": 6056.615, "sample_throughput": 5410.283, "learn_time_ms": 32459.283, "learn_throughput": 1009.511, "update_time_ms": 3.232}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0899047851562505e-05, "cur_lr": 5e-05, "total_loss": 0.0007226824964163825, "policy_loss": -0.0010654031939338893, "vf_loss": 1.7878237806726247, "vf_explained_var": 0.006236555054783821, "kl": 0.00833613215945661, "entropy": 0.9601362533867359, "entropy_coeff": 0.0}}, "num_steps_sampled": 2129920, "num_steps_trained": 2129920}, "done": false, "episodes_total": 33, "training_iteration": 65, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-06-36", "timestamp": 1611090396, "time_this_iter_s": 38.7602264881134, "time_total_s": 2512.9441318511963, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2512.9441318511963, "timesteps_since_restore": 0, "iterations_since_restore": 65, "perf": {"cpu_util_percent": 7.667857142857143, "ram_util_percent": 62.310714285714276}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.182941176470244, "episode_len_mean": 22846.735294117647, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 67325048.0}, "hist_stats": {"episode_reward": [15.420199999998843, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998], "episode_lengths": [33721, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240]}, "sampler_perf": {"mean_env_wait_ms": 9.451968749599612, "mean_raw_obs_processing_ms": 0.4018063317076082, "mean_inference_ms": 1.4494982546106043, "mean_action_processing_ms": 0.09126781854694999}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2162688, "timers": {"sample_time_ms": 6054.009, "sample_throughput": 5412.611, "learn_time_ms": 32386.314, "learn_throughput": 1011.785, "update_time_ms": 3.317}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0899047851562505e-05, "cur_lr": 5e-05, "total_loss": 0.0012908737699035555, "policy_loss": -0.0010095660691149533, "vf_loss": 2.3002536855638027, "vf_explained_var": 0.008381465449929237, "kl": 0.006045075671863742, "entropy": 0.8965124022215605, "entropy_coeff": 0.0}}, "num_steps_sampled": 2162688, "num_steps_trained": 2162688}, "done": false, "episodes_total": 34, "training_iteration": 66, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-07-14", "timestamp": 1611090434, "time_this_iter_s": 38.03932857513428, "time_total_s": 2550.9834604263306, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2550.9834604263306, "timesteps_since_restore": 0, "iterations_since_restore": 66, "perf": {"cpu_util_percent": 7.714814814814814, "ram_util_percent": 62.400000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.182941176470244, "episode_len_mean": 22846.735294117647, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 53219544.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721]}, "sampler_perf": {"mean_env_wait_ms": 9.451968749599612, "mean_raw_obs_processing_ms": 0.4018063317076082, "mean_inference_ms": 1.449498254610604, "mean_action_processing_ms": 0.09126781854694999}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2195456, "timers": {"sample_time_ms": 6059.892, "sample_throughput": 5407.357, "learn_time_ms": 32368.608, "learn_throughput": 1012.339, "update_time_ms": 3.322}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0899047851562505e-05, "cur_lr": 5e-05, "total_loss": 0.0017651227535679936, "policy_loss": -0.0007632703636772931, "vf_loss": 2.528208342846483, "vf_explained_var": -0.017859457060694695, "kl": 0.005860327568370849, "entropy": 0.9930371716618538, "entropy_coeff": 0.0}}, "num_steps_sampled": 2195456, "num_steps_trained": 2195456}, "done": false, "episodes_total": 34, "training_iteration": 67, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-07-53", "timestamp": 1611090473, "time_this_iter_s": 38.6105592250824, "time_total_s": 2589.594019651413, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2589.594019651413, "timesteps_since_restore": 0, "iterations_since_restore": 67, "perf": {"cpu_util_percent": 7.623636363636364, "ram_util_percent": 62.400000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.182941176470244, "episode_len_mean": 22846.735294117647, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1528182016.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721]}, "sampler_perf": {"mean_env_wait_ms": 9.451968749599612, "mean_raw_obs_processing_ms": 0.4018063317076082, "mean_inference_ms": 1.449498254610604, "mean_action_processing_ms": 0.09126781854694999}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2228224, "timers": {"sample_time_ms": 6058.532, "sample_throughput": 5408.57, "learn_time_ms": 32403.249, "learn_throughput": 1011.257, "update_time_ms": 3.325}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0899047851562505e-05, "cur_lr": 5e-05, "total_loss": 0.0008903781417757273, "policy_loss": -0.000908203364815563, "vf_loss": 1.7984903012402356, "vf_explained_var": 0.0008600950241088867, "kl": 0.0030214846483431756, "entropy": 0.9358423911035061, "entropy_coeff": 0.0}}, "num_steps_sampled": 2228224, "num_steps_trained": 2228224}, "done": false, "episodes_total": 34, "training_iteration": 68, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-08-31", "timestamp": 1611090511, "time_this_iter_s": 38.75029015541077, "time_total_s": 2628.3443098068237, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2628.3443098068237, "timesteps_since_restore": 0, "iterations_since_restore": 68, "perf": {"cpu_util_percent": 7.694545454545454, "ram_util_percent": 62.443636363636365}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.182941176470244, "episode_len_mean": 22846.735294117647, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 502772992.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721]}, "sampler_perf": {"mean_env_wait_ms": 9.451968749599612, "mean_raw_obs_processing_ms": 0.4018063317076082, "mean_inference_ms": 1.449498254610604, "mean_action_processing_ms": 0.09126781854694999}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2260992, "timers": {"sample_time_ms": 6059.363, "sample_throughput": 5407.829, "learn_time_ms": 32396.823, "learn_throughput": 1011.457, "update_time_ms": 3.323}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.5449523925781253e-05, "cur_lr": 5e-05, "total_loss": 0.0013228245661593974, "policy_loss": -0.0014121997519396245, "vf_loss": 2.73489820654504, "vf_explained_var": -0.004635820165276527, "kl": 0.00797229832096491, "entropy": 1.0457446034997702, "entropy_coeff": 0.0}}, "num_steps_sampled": 2260992, "num_steps_trained": 2260992}, "done": false, "episodes_total": 34, "training_iteration": 69, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-09-10", "timestamp": 1611090550, "time_this_iter_s": 38.23863911628723, "time_total_s": 2666.582948923111, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2666.582948923111, "timesteps_since_restore": 0, "iterations_since_restore": 69, "perf": {"cpu_util_percent": 7.714545454545456, "ram_util_percent": 62.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.722573684210218, "episode_len_mean": 23230.315789473683, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5600958.0}, "hist_stats": {"episode_reward": [-23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843], "episode_lengths": [16585, 35544, 18019, 35815, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721]}, "sampler_perf": {"mean_env_wait_ms": 9.454472952833882, "mean_raw_obs_processing_ms": 0.4028781258098156, "mean_inference_ms": 1.4511503592810506, "mean_action_processing_ms": 0.09126787480339035}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2293760, "timers": {"sample_time_ms": 6060.381, "sample_throughput": 5406.921, "learn_time_ms": 32414.724, "learn_throughput": 1010.899, "update_time_ms": 3.241}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.5449523925781253e-05, "cur_lr": 5e-05, "total_loss": 0.006646784546319395, "policy_loss": -0.0012097180297132581, "vf_loss": 7.856436331290752, "vf_explained_var": -0.0004780162125825882, "kl": 0.004408371474710293, "entropy": 1.0784481205046177, "entropy_coeff": 0.0}}, "num_steps_sampled": 2293760, "num_steps_trained": 2293760}, "done": false, "episodes_total": 38, "training_iteration": 70, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-09-48", "timestamp": 1611090588, "time_this_iter_s": 38.84673619270325, "time_total_s": 2705.429685115814, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2705.429685115814, "timesteps_since_restore": 0, "iterations_since_restore": 70, "perf": {"cpu_util_percent": 8.247272727272726, "ram_util_percent": 62.534545454545444}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.711964102563801, "episode_len_mean": 23554.20512820513, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1297054208.0}, "hist_stats": {"episode_reward": [10.308800000000106, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237], "episode_lengths": [35862, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815]}, "sampler_perf": {"mean_env_wait_ms": 9.460077548755338, "mean_raw_obs_processing_ms": 0.40280220037211795, "mean_inference_ms": 1.4514727392168094, "mean_action_processing_ms": 0.09134405703260377}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2326528, "timers": {"sample_time_ms": 6051.686, "sample_throughput": 5414.689, "learn_time_ms": 32427.081, "learn_throughput": 1010.513, "update_time_ms": 3.138}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0028168343123979867, "policy_loss": -0.001037911235471256, "vf_loss": 3.8546806485392153, "vf_explained_var": -0.014998726546764374, "kl": 0.009039764758199453, "entropy": 1.184677328914404, "entropy_coeff": 0.0}}, "num_steps_sampled": 2326528, "num_steps_trained": 2326528}, "done": false, "episodes_total": 39, "training_iteration": 71, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-10-27", "timestamp": 1611090627, "time_this_iter_s": 38.45376944541931, "time_total_s": 2743.8834545612335, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2743.8834545612335, "timesteps_since_restore": 0, "iterations_since_restore": 71, "perf": {"cpu_util_percent": 7.785454545454544, "ram_util_percent": 62.599999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.932027499999666, "episode_len_mean": 23881.575, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 611172800.0}, "hist_stats": {"episode_reward": [-20.485500000001725, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106], "episode_lengths": [36649, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862]}, "sampler_perf": {"mean_env_wait_ms": 9.458353133387915, "mean_raw_obs_processing_ms": 0.4028503960654561, "mean_inference_ms": 1.4514435302774724, "mean_action_processing_ms": 0.0913806509247523}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2359296, "timers": {"sample_time_ms": 6044.734, "sample_throughput": 5420.916, "learn_time_ms": 32432.13, "learn_throughput": 1010.356, "update_time_ms": 2.982}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0008698611636646092, "policy_loss": -0.0020245071209501475, "vf_loss": 2.8943076881114393, "vf_explained_var": -0.011363700032234192, "kl": 0.008539171831216663, "entropy": 1.1776237711310387, "entropy_coeff": 0.0}}, "num_steps_sampled": 2359296, "num_steps_trained": 2359296}, "done": false, "episodes_total": 40, "training_iteration": 72, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-11-05", "timestamp": 1611090665, "time_this_iter_s": 38.40684366226196, "time_total_s": 2782.2902982234955, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2782.2902982234955, "timesteps_since_restore": 0, "iterations_since_restore": 72, "perf": {"cpu_util_percent": 7.798148148148147, "ram_util_percent": 62.599999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.07671666666633, "episode_len_mean": 24010.54761904762, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 29019006.0}, "hist_stats": {"episode_reward": [1.00989999999981, 24.931099999999404, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725], "episode_lengths": [16173, 37007, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649]}, "sampler_perf": {"mean_env_wait_ms": 9.462689570073621, "mean_raw_obs_processing_ms": 0.4026363234292263, "mean_inference_ms": 1.4513076855556817, "mean_action_processing_ms": 0.09142617291483165}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2392064, "timers": {"sample_time_ms": 6024.668, "sample_throughput": 5438.972, "learn_time_ms": 32457.434, "learn_throughput": 1009.568, "update_time_ms": 2.992}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0013659247488249093, "policy_loss": -0.001371979044051841, "vf_loss": 2.7377871840726584, "vf_explained_var": -0.006536751985549927, "kl": 0.015814269485417753, "entropy": 1.0493642762303352, "entropy_coeff": 0.0}}, "num_steps_sampled": 2392064, "num_steps_trained": 2392064}, "done": false, "episodes_total": 42, "training_iteration": 73, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-11-44", "timestamp": 1611090704, "time_this_iter_s": 38.571784019470215, "time_total_s": 2820.8620822429657, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2820.8620822429657, "timesteps_since_restore": 0, "iterations_since_restore": 73, "perf": {"cpu_util_percent": 7.69090909090909, "ram_util_percent": 62.610909090909075}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.076716666666329, "episode_len_mean": 24010.54761904762, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 610693696.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007]}, "sampler_perf": {"mean_env_wait_ms": 9.462689570073621, "mean_raw_obs_processing_ms": 0.40263632342922634, "mean_inference_ms": 1.4513076855556815, "mean_action_processing_ms": 0.09142617291483165}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2424832, "timers": {"sample_time_ms": 6026.759, "sample_throughput": 5437.085, "learn_time_ms": 32528.457, "learn_throughput": 1007.364, "update_time_ms": 3.082}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.003398598826606758, "policy_loss": -0.0011521985288709402, "vf_loss": 4.550753090530634, "vf_explained_var": -0.017507657408714294, "kl": 0.006413884955691174, "entropy": 0.9852478615939617, "entropy_coeff": 0.0}}, "num_steps_sampled": 2424832, "num_steps_trained": 2424832}, "done": false, "episodes_total": 42, "training_iteration": 74, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-12-23", "timestamp": 1611090743, "time_this_iter_s": 38.954262495040894, "time_total_s": 2859.8163447380066, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2859.8163447380066, "timesteps_since_restore": 0, "iterations_since_restore": 74, "perf": {"cpu_util_percent": 7.655357142857143, "ram_util_percent": 62.699999999999996}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.076716666666329, "episode_len_mean": 24010.54761904762, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1425583744.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007]}, "sampler_perf": {"mean_env_wait_ms": 9.462689570073621, "mean_raw_obs_processing_ms": 0.40263632342922634, "mean_inference_ms": 1.4513076855556815, "mean_action_processing_ms": 0.09142617291483165}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2457600, "timers": {"sample_time_ms": 6026.843, "sample_throughput": 5437.009, "learn_time_ms": 32514.036, "learn_throughput": 1007.811, "update_time_ms": 3.057}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0005276118608890101, "policy_loss": -0.0014596239634556696, "vf_loss": 1.9871517869178206, "vf_explained_var": -0.010211467742919922, "kl": 0.011425215227063745, "entropy": 1.1046837978065014, "entropy_coeff": 0.0}}, "num_steps_sampled": 2457600, "num_steps_trained": 2457600}, "done": false, "episodes_total": 42, "training_iteration": 75, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-13-02", "timestamp": 1611090782, "time_this_iter_s": 38.61662554740906, "time_total_s": 2898.4329702854156, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2898.4329702854156, "timesteps_since_restore": 0, "iterations_since_restore": 75, "perf": {"cpu_util_percent": 7.883636363636365, "ram_util_percent": 62.71272727272729}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.052641860464792, "episode_len_mean": 24352.06976744186, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 41269952.0}, "hist_stats": {"episode_reward": [9.04150000000034, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404], "episode_lengths": [38696, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007]}, "sampler_perf": {"mean_env_wait_ms": 9.461847437100225, "mean_raw_obs_processing_ms": 0.4025088173390168, "mean_inference_ms": 1.4508982715166776, "mean_action_processing_ms": 0.09140402428914868}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2490368, "timers": {"sample_time_ms": 6031.894, "sample_throughput": 5432.456, "learn_time_ms": 32453.609, "learn_throughput": 1009.687, "update_time_ms": 3.067}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": -0.0002596670528873801, "policy_loss": -0.001884480589069426, "vf_loss": 1.6247277110815048, "vf_explained_var": -0.013793066143989563, "kl": 0.011003404564689845, "entropy": 1.2137530110776424, "entropy_coeff": 0.0}}, "num_steps_sampled": 2490368, "num_steps_trained": 2490368}, "done": false, "episodes_total": 43, "training_iteration": 76, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-13-39", "timestamp": 1611090819, "time_this_iter_s": 37.485987424850464, "time_total_s": 2935.918957710266, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2935.918957710266, "timesteps_since_restore": 0, "iterations_since_restore": 76, "perf": {"cpu_util_percent": 8.094444444444445, "ram_util_percent": 62.80000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.052641860464794, "episode_len_mean": 24352.06976744186, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1687915520.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696]}, "sampler_perf": {"mean_env_wait_ms": 9.461847437100227, "mean_raw_obs_processing_ms": 0.4025088173390169, "mean_inference_ms": 1.4508982715166776, "mean_action_processing_ms": 0.09140402428914868}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2523136, "timers": {"sample_time_ms": 6035.017, "sample_throughput": 5429.645, "learn_time_ms": 32455.785, "learn_throughput": 1009.62, "update_time_ms": 3.131}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0013777498825220391, "policy_loss": -0.0014076414954615757, "vf_loss": 2.78527754265815, "vf_explained_var": 0.001176217570900917, "kl": 0.015204985364107415, "entropy": 1.3125027753412724, "entropy_coeff": 0.0}}, "num_steps_sampled": 2523136, "num_steps_trained": 2523136}, "done": false, "episodes_total": 43, "training_iteration": 77, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-14-18", "timestamp": 1611090858, "time_this_iter_s": 38.665122270584106, "time_total_s": 2974.58407998085, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2974.58407998085, "timesteps_since_restore": 0, "iterations_since_restore": 77, "perf": {"cpu_util_percent": 7.75090909090909, "ram_util_percent": 62.800000000000026}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 10.052641860464794, "episode_len_mean": 24352.06976744186, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 22716186.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696]}, "sampler_perf": {"mean_env_wait_ms": 9.461847437100227, "mean_raw_obs_processing_ms": 0.4025088173390169, "mean_inference_ms": 1.4508982715166776, "mean_action_processing_ms": 0.09140402428914868}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2555904, "timers": {"sample_time_ms": 6031.728, "sample_throughput": 5432.606, "learn_time_ms": 32449.051, "learn_throughput": 1009.829, "update_time_ms": 3.128}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0012289588630665094, "policy_loss": -0.0012902696034871042, "vf_loss": 2.5191808585077524, "vf_explained_var": -0.021901626139879227, "kl": 0.006519262213259935, "entropy": 1.2958483137190342, "entropy_coeff": 0.0}}, "num_steps_sampled": 2555904, "num_steps_trained": 2555904}, "done": false, "episodes_total": 43, "training_iteration": 78, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-14-56", "timestamp": 1611090896, "time_this_iter_s": 38.64983630180359, "time_total_s": 3013.233916282654, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3013.233916282654, "timesteps_since_restore": 0, "iterations_since_restore": 78, "perf": {"cpu_util_percent": 7.916363636363637, "ram_util_percent": 62.827272727272735}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.45061136363603, "episode_len_mean": 24707.113636363636, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 124658928.0}, "hist_stats": {"episode_reward": [-16.436700000000755, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034], "episode_lengths": [39974, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696]}, "sampler_perf": {"mean_env_wait_ms": 9.46250117049574, "mean_raw_obs_processing_ms": 0.4023971486804012, "mean_inference_ms": 1.451085259341376, "mean_action_processing_ms": 0.09140313578617146}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2588672, "timers": {"sample_time_ms": 6028.543, "sample_throughput": 5435.476, "learn_time_ms": 32464.253, "learn_throughput": 1009.356, "update_time_ms": 3.135}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.0010188049054704607, "policy_loss": -0.0015230491990223527, "vf_loss": 2.5417994188610464, "vf_explained_var": -0.00603056512773037, "kl": 0.0073749501461861655, "entropy": 1.3113531470298767, "entropy_coeff": 0.0}}, "num_steps_sampled": 2588672, "num_steps_trained": 2588672}, "done": false, "episodes_total": 44, "training_iteration": 79, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-15-35", "timestamp": 1611090935, "time_this_iter_s": 38.358914613723755, "time_total_s": 3051.5928308963776, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3051.5928308963776, "timesteps_since_restore": 0, "iterations_since_restore": 79, "perf": {"cpu_util_percent": 7.8870370370370395, "ram_util_percent": 62.86481481481483}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.631033333332983, "episode_len_mean": 25063.222222222223, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 463777504.0}, "hist_stats": {"episode_reward": [17.569599999998893, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755], "episode_lengths": [40732, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974]}, "sampler_perf": {"mean_env_wait_ms": 9.463174842501136, "mean_raw_obs_processing_ms": 0.40230272658025906, "mean_inference_ms": 1.4512795868754027, "mean_action_processing_ms": 0.09140315822394272}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2621440, "timers": {"sample_time_ms": 6023.655, "sample_throughput": 5439.887, "learn_time_ms": 32470.268, "learn_throughput": 1009.169, "update_time_ms": 3.208}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.724761962890626e-06, "cur_lr": 5e-05, "total_loss": 0.006450086744735017, "policy_loss": -0.0015726062410976738, "vf_loss": 8.022517104400322, "vf_explained_var": -0.01900351233780384, "kl": 0.02225242427084595, "entropy": 1.1803187504410744, "entropy_coeff": 0.0}}, "num_steps_sampled": 2621440, "num_steps_trained": 2621440}, "done": false, "episodes_total": 45, "training_iteration": 80, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-16-14", "timestamp": 1611090974, "time_this_iter_s": 38.85890436172485, "time_total_s": 3090.4517352581024, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3090.4517352581024, "timesteps_since_restore": 0, "iterations_since_restore": 80, "perf": {"cpu_util_percent": 7.767857142857143, "ram_util_percent": 62.89999999999999}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.631033333332983, "episode_len_mean": 25063.222222222223, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 74422552.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732]}, "sampler_perf": {"mean_env_wait_ms": 9.463174842501138, "mean_raw_obs_processing_ms": 0.40230272658025895, "mean_inference_ms": 1.4512795868754027, "mean_action_processing_ms": 0.09140315822394272}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2654208, "timers": {"sample_time_ms": 6032.466, "sample_throughput": 5431.941, "learn_time_ms": 32414.092, "learn_throughput": 1010.918, "update_time_ms": 3.267}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": -0.0012325369752943516, "policy_loss": -0.00281911576166749, "vf_loss": 1.5864287440199405, "vf_explained_var": -0.007937921211123466, "kl": 0.012513893540017307, "entropy": 1.2816661894321442, "entropy_coeff": 0.0}}, "num_steps_sampled": 2654208, "num_steps_trained": 2654208}, "done": false, "episodes_total": 45, "training_iteration": 81, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-16-52", "timestamp": 1611091012, "time_this_iter_s": 37.98163819313049, "time_total_s": 3128.433373451233, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3128.433373451233, "timesteps_since_restore": 0, "iterations_since_restore": 81, "perf": {"cpu_util_percent": 7.8962962962962955, "ram_util_percent": 62.900000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1274676224.0}, "hist_stats": {"episode_reward": [18.450500000003913, -10.601799999999795, -33.14240000000105, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893], "episode_lengths": [13097, 21236, 41913, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734341, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950169, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2686976, "timers": {"sample_time_ms": 6028.495, "sample_throughput": 5435.519, "learn_time_ms": 32439.176, "learn_throughput": 1010.137, "update_time_ms": 3.434}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": 0.022169700445374474, "policy_loss": -0.0018243143567815423, "vf_loss": 23.99389418400824, "vf_explained_var": 0.00989084504544735, "kl": 0.010308347613317892, "entropy": 1.2484329044818878, "entropy_coeff": 0.0}}, "num_steps_sampled": 2686976, "num_steps_trained": 2686976}, "done": false, "episodes_total": 48, "training_iteration": 82, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-17-30", "timestamp": 1611091050, "time_this_iter_s": 38.61866021156311, "time_total_s": 3167.052033662796, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3167.052033662796, "timesteps_since_restore": 0, "iterations_since_restore": 82, "perf": {"cpu_util_percent": 7.950909090909091, "ram_util_percent": 62.95636363636363}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2212117248.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734343, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950173, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2719744, "timers": {"sample_time_ms": 6037.189, "sample_throughput": 5427.692, "learn_time_ms": 32402.083, "learn_throughput": 1011.293, "update_time_ms": 3.34}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": 0.003003544334205799, "policy_loss": -0.0026367749960627407, "vf_loss": 5.640094233909622, "vf_explained_var": -0.015952004119753838, "kl": 0.018812000227626413, "entropy": 1.132911056280136, "entropy_coeff": 0.0}}, "num_steps_sampled": 2719744, "num_steps_trained": 2719744}, "done": false, "episodes_total": 48, "training_iteration": 83, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-18-09", "timestamp": 1611091089, "time_this_iter_s": 38.28646373748779, "time_total_s": 3205.338497400284, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3205.338497400284, "timesteps_since_restore": 0, "iterations_since_restore": 83, "perf": {"cpu_util_percent": 7.933333333333333, "ram_util_percent": 63.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1252025600.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734343, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950173, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2752512, "timers": {"sample_time_ms": 6036.026, "sample_throughput": 5428.737, "learn_time_ms": 32379.6, "learn_throughput": 1011.995, "update_time_ms": 3.329}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": 0.0021463771699927747, "policy_loss": -0.0007062344666337594, "vf_loss": 2.8525101831182837, "vf_explained_var": 0.009542487561702728, "kl": 0.008483079829602502, "entropy": 1.0700515769422054, "entropy_coeff": 0.0}}, "num_steps_sampled": 2752512, "num_steps_trained": 2752512}, "done": false, "episodes_total": 48, "training_iteration": 84, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-18-47", "timestamp": 1611091127, "time_this_iter_s": 38.71727776527405, "time_total_s": 3244.055775165558, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3244.055775165558, "timesteps_since_restore": 0, "iterations_since_restore": 84, "perf": {"cpu_util_percent": 8.00909090909091, "ram_util_percent": 63.059999999999995}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 49944532.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734343, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950173, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2785280, "timers": {"sample_time_ms": 6038.018, "sample_throughput": 5426.947, "learn_time_ms": 32422.638, "learn_throughput": 1010.652, "update_time_ms": 3.284}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": 0.07938492885659798, "policy_loss": -0.001134434322011657, "vf_loss": 80.51921055465937, "vf_explained_var": 0.020755939185619354, "kl": 0.013072093657683581, "entropy": 1.1373846344649792, "entropy_coeff": 0.0}}, "num_steps_sampled": 2785280, "num_steps_trained": 2785280}, "done": false, "episodes_total": 48, "training_iteration": 85, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-19-26", "timestamp": 1611091166, "time_this_iter_s": 39.06670808792114, "time_total_s": 3283.122483253479, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3283.122483253479, "timesteps_since_restore": 0, "iterations_since_restore": 85, "perf": {"cpu_util_percent": 8.04107142857143, "ram_util_percent": 63.10000000000001}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 19301716.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734343, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950173, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2818048, "timers": {"sample_time_ms": 6039.559, "sample_throughput": 5425.561, "learn_time_ms": 32489.153, "learn_throughput": 1008.583, "update_time_ms": 3.142}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.158714294433594e-05, "cur_lr": 5e-05, "total_loss": 0.0014826543920207769, "policy_loss": -0.0008147224580170587, "vf_loss": 2.2973506432026625, "vf_explained_var": -0.010241249576210976, "kl": 0.00242493036785163, "entropy": 1.137899348512292, "entropy_coeff": 0.0}}, "num_steps_sampled": 2818048, "num_steps_trained": 2818048}, "done": false, "episodes_total": 48, "training_iteration": 86, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-20-05", "timestamp": 1611091205, "time_this_iter_s": 38.16615557670593, "time_total_s": 3321.288638830185, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3321.288638830185, "timesteps_since_restore": 0, "iterations_since_restore": 86, "perf": {"cpu_util_percent": 7.848148148148149, "ram_util_percent": 63.14814814814813}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.502141666666404, "episode_len_mean": 25085.229166666668, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 68259160.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.461521596734343, "mean_raw_obs_processing_ms": 0.40248728983325494, "mean_inference_ms": 1.4512356834950173, "mean_action_processing_ms": 0.09143590127844037}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2850816, "timers": {"sample_time_ms": 6029.715, "sample_throughput": 5434.419, "learn_time_ms": 32481.807, "learn_throughput": 1008.811, "update_time_ms": 3.164}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.79357147216797e-06, "cur_lr": 5e-05, "total_loss": 0.002131113549694419, "policy_loss": -0.0007180805550888181, "vf_loss": 2.8491416042670608, "vf_explained_var": -0.04743541404604912, "kl": 0.009684427350293845, "entropy": 1.0762826036661863, "entropy_coeff": 0.0}}, "num_steps_sampled": 2850816, "num_steps_trained": 2850816}, "done": false, "episodes_total": 48, "training_iteration": 87, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-20-43", "timestamp": 1611091243, "time_this_iter_s": 38.49292016029358, "time_total_s": 3359.7815589904785, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3359.7815589904785, "timesteps_since_restore": 0, "iterations_since_restore": 87, "perf": {"cpu_util_percent": 7.838181818181819, "ram_util_percent": 63.199999999999974}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.12233199999981, "episode_len_mean": 25880.04, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 17352698.0}, "hist_stats": {"episode_reward": [2.7613000000015937, -4.7474999999984675, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105], "episode_lengths": [44989, 44922, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913]}, "sampler_perf": {"mean_env_wait_ms": 9.466783525635869, "mean_raw_obs_processing_ms": 0.4026654115843854, "mean_inference_ms": 1.4517611502548788, "mean_action_processing_ms": 0.09147233496048772}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2883584, "timers": {"sample_time_ms": 6053.928, "sample_throughput": 5412.684, "learn_time_ms": 32477.822, "learn_throughput": 1008.935, "update_time_ms": 3.089}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.79357147216797e-06, "cur_lr": 5e-05, "total_loss": 0.0012814686633646488, "policy_loss": -0.0006803266005590558, "vf_loss": 1.9617771403864026, "vf_explained_var": -0.018254008144140244, "kl": 0.0031689266206740285, "entropy": 1.085784262046218, "entropy_coeff": 0.0}}, "num_steps_sampled": 2883584, "num_steps_trained": 2883584}, "done": false, "episodes_total": 50, "training_iteration": 88, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-21-22", "timestamp": 1611091282, "time_this_iter_s": 38.852200508117676, "time_total_s": 3398.633759498596, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3398.633759498596, "timesteps_since_restore": 0, "iterations_since_restore": 88, "perf": {"cpu_util_percent": 7.747272727272727, "ram_util_percent": 63.199999999999974}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 6.964433962263998, "episode_len_mean": 26979.603773584906, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 602689920.0}, "hist_stats": {"episode_reward": [13.927900000005309, -39.07960000000052, -11.849900000003458, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675], "episode_lengths": [45452, 45221, 45244, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922]}, "sampler_perf": {"mean_env_wait_ms": 9.4741732163075, "mean_raw_obs_processing_ms": 0.40267460574671793, "mean_inference_ms": 1.4521473985117723, "mean_action_processing_ms": 0.09160714329211639}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2916352, "timers": {"sample_time_ms": 6066.665, "sample_throughput": 5401.32, "learn_time_ms": 32479.803, "learn_throughput": 1008.873, "update_time_ms": 3.117}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.896785736083985e-06, "cur_lr": 5e-05, "total_loss": 0.0031010663660708815, "policy_loss": -0.0006857963453512639, "vf_loss": 3.7868471880210564, "vf_explained_var": -0.022250337526202202, "kl": 0.0052663952847069595, "entropy": 1.1289610676467419, "entropy_coeff": 0.0}}, "num_steps_sampled": 2916352, "num_steps_trained": 2916352}, "done": false, "episodes_total": 53, "training_iteration": 89, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-22-01", "timestamp": 1611091321, "time_this_iter_s": 38.50701451301575, "time_total_s": 3437.140774011612, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3437.140774011612, "timesteps_since_restore": 0, "iterations_since_restore": 89, "perf": {"cpu_util_percent": 7.95090909090909, "ram_util_percent": 63.28181818181822}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 6.25085555555538, "episode_len_mean": 26969.444444444445, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 175668512.0}, "hist_stats": {"episode_reward": [-31.56880000000131, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458], "episode_lengths": [26431, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244]}, "sampler_perf": {"mean_env_wait_ms": 9.47460816555558, "mean_raw_obs_processing_ms": 0.40288184354110074, "mean_inference_ms": 1.4524324592332705, "mean_action_processing_ms": 0.09158680985414094}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2949120, "timers": {"sample_time_ms": 6062.168, "sample_throughput": 5405.327, "learn_time_ms": 32410.969, "learn_throughput": 1011.016, "update_time_ms": 3.137}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.896785736083985e-06, "cur_lr": 5e-05, "total_loss": 0.002718012605328113, "policy_loss": -0.0017687649233266711, "vf_loss": 4.486750380601734, "vf_explained_var": -0.01981789991259575, "kl": 0.0123405332560651, "entropy": 1.1338130850344896, "entropy_coeff": 0.0}}, "num_steps_sampled": 2949120, "num_steps_trained": 2949120}, "done": false, "episodes_total": 54, "training_iteration": 90, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-22-39", "timestamp": 1611091359, "time_this_iter_s": 38.12596392631531, "time_total_s": 3475.2667379379272, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3475.2667379379272, "timesteps_since_restore": 0, "iterations_since_restore": 90, "perf": {"cpu_util_percent": 7.769090909090909, "ram_util_percent": 63.301818181818206}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 6.3406249999999025, "episode_len_mean": 27198.785714285714, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 79555584.0}, "hist_stats": {"episode_reward": [-12.833099999995, 30.361899999998997, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131], "episode_lengths": [46184, 20598, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431]}, "sampler_perf": {"mean_env_wait_ms": 9.476204427764417, "mean_raw_obs_processing_ms": 0.4028519911671818, "mean_inference_ms": 1.4524511013777759, "mean_action_processing_ms": 0.0915828505923356}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 2981888, "timers": {"sample_time_ms": 6079.556, "sample_throughput": 5389.867, "learn_time_ms": 32450.36, "learn_throughput": 1009.788, "update_time_ms": 3.099}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.896785736083985e-06, "cur_lr": 5e-05, "total_loss": 0.0015302584215532988, "policy_loss": -0.0007615619542775676, "vf_loss": 2.2918127672746778, "vf_explained_var": 0.010577216744422913, "kl": 0.0032910014197113924, "entropy": 1.1304099522531033, "entropy_coeff": 0.0}}, "num_steps_sampled": 2981888, "num_steps_trained": 2981888}, "done": false, "episodes_total": 56, "training_iteration": 91, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-23-17", "timestamp": 1611091397, "time_this_iter_s": 38.548381090164185, "time_total_s": 3513.8151190280914, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3513.8151190280914, "timesteps_since_restore": 0, "iterations_since_restore": 91, "perf": {"cpu_util_percent": 7.7148148148148135, "ram_util_percent": 63.385185185185186}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.338672881355727, "episode_len_mean": 27102.881355932204, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 19470080.0}, "hist_stats": {"episode_reward": [69.26969999999415, 4.87629999999924, 3.7606999999999235, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997], "episode_lengths": [46791, 17718, 11429, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598]}, "sampler_perf": {"mean_env_wait_ms": 9.480565286849156, "mean_raw_obs_processing_ms": 0.40320232894027414, "mean_inference_ms": 1.4530678731107423, "mean_action_processing_ms": 0.09159192415251295}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3014656, "timers": {"sample_time_ms": 6088.982, "sample_throughput": 5381.524, "learn_time_ms": 32428.042, "learn_throughput": 1010.483, "update_time_ms": 3.054}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4483928680419924e-06, "cur_lr": 5e-05, "total_loss": 0.005303115845890716, "policy_loss": -0.0017855108890216798, "vf_loss": 7.088605941040441, "vf_explained_var": -0.015191368758678436, "kl": 0.01714716770220548, "entropy": 0.9813035074621439, "entropy_coeff": 0.0}}, "num_steps_sampled": 3014656, "num_steps_trained": 3014656}, "done": false, "episodes_total": 59, "training_iteration": 92, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-23-56", "timestamp": 1611091436, "time_this_iter_s": 38.48918008804321, "time_total_s": 3552.3042991161346, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3552.3042991161346, "timesteps_since_restore": 0, "iterations_since_restore": 92, "perf": {"cpu_util_percent": 7.93090909090909, "ram_util_percent": 63.400000000000006}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.338672881355728, "episode_len_mean": 27102.881355932204, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 680444928.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429]}, "sampler_perf": {"mean_env_wait_ms": 9.480565286849156, "mean_raw_obs_processing_ms": 0.403202328940274, "mean_inference_ms": 1.4530678731107425, "mean_action_processing_ms": 0.091591924152513}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3047424, "timers": {"sample_time_ms": 6078.635, "sample_throughput": 5390.684, "learn_time_ms": 32457.843, "learn_throughput": 1009.556, "update_time_ms": 3.024}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4483928680419924e-06, "cur_lr": 5e-05, "total_loss": 0.0003584795049391687, "policy_loss": -0.0013625200954265893, "vf_loss": 1.7209919893648475, "vf_explained_var": -0.002614794299006462, "kl": 0.004617135149601381, "entropy": 0.9172567538917065, "entropy_coeff": 0.0}}, "num_steps_sampled": 3047424, "num_steps_trained": 3047424}, "done": false, "episodes_total": 59, "training_iteration": 93, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-24-34", "timestamp": 1611091474, "time_this_iter_s": 38.48117423057556, "time_total_s": 3590.78547334671, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3590.78547334671, "timesteps_since_restore": 0, "iterations_since_restore": 93, "perf": {"cpu_util_percent": 7.801818181818181, "ram_util_percent": 63.476363636363644}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.344120634920481, "episode_len_mean": 27987.06349206349, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 171743760.0}, "hist_stats": {"episode_reward": [9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235], "episode_lengths": [20236, 48056, 47905, 47918, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429]}, "sampler_perf": {"mean_env_wait_ms": 9.481063068409973, "mean_raw_obs_processing_ms": 0.40326057060982007, "mean_inference_ms": 1.4537425027277455, "mean_action_processing_ms": 0.09158353309833193}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3080192, "timers": {"sample_time_ms": 6079.941, "sample_throughput": 5389.526, "learn_time_ms": 32459.219, "learn_throughput": 1009.513, "update_time_ms": 2.898}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.241964340209962e-07, "cur_lr": 5e-05, "total_loss": 1.787807559594512e-05, "policy_loss": -0.0009996186126954854, "vf_loss": 1.0174970724037848, "vf_explained_var": -0.0169700738042593, "kl": 0.005127855896716937, "entropy": 0.8483133316040039, "entropy_coeff": 0.0}}, "num_steps_sampled": 3080192, "num_steps_trained": 3080192}, "done": false, "episodes_total": 63, "training_iteration": 94, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-25-13", "timestamp": 1611091513, "time_this_iter_s": 38.744598388671875, "time_total_s": 3629.530071735382, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3629.530071735382, "timesteps_since_restore": 0, "iterations_since_restore": 94, "perf": {"cpu_util_percent": 8.085454545454546, "ram_util_percent": 63.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.396749999999865, "episode_len_mean": 28308.671875, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 21475814.0}, "hist_stats": {"episode_reward": [10.71240000000111, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051], "episode_lengths": [48570, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918]}, "sampler_perf": {"mean_env_wait_ms": 9.4812605327338, "mean_raw_obs_processing_ms": 0.40343530257705296, "mean_inference_ms": 1.4539306509513596, "mean_action_processing_ms": 0.0915662412287093}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3112960, "timers": {"sample_time_ms": 6068.826, "sample_throughput": 5399.397, "learn_time_ms": 32437.186, "learn_throughput": 1010.199, "update_time_ms": 2.954}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.241964340209962e-07, "cur_lr": 5e-05, "total_loss": 0.0011058965174015611, "policy_loss": -0.0010366271890234202, "vf_loss": 2.142518699984066, "vf_explained_var": 0.009335886687040329, "kl": 0.004293243364372756, "entropy": 0.8809620290994644, "entropy_coeff": 0.0}}, "num_steps_sampled": 3112960, "num_steps_trained": 3112960}, "done": false, "episodes_total": 64, "training_iteration": 95, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-25-52", "timestamp": 1611091552, "time_this_iter_s": 38.735535621643066, "time_total_s": 3668.265607357025, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3668.265607357025, "timesteps_since_restore": 0, "iterations_since_restore": 95, "perf": {"cpu_util_percent": 7.630909090909092, "ram_util_percent": 63.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.265541791044696, "episode_len_mean": 29223.567164179105, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 23547254.0}, "hist_stats": {"episode_reward": [11.177200000001193, -29.811299999998653, 32.03340000000059, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111], "episode_lengths": [48650, 48743, 48831, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570]}, "sampler_perf": {"mean_env_wait_ms": 9.480790755475981, "mean_raw_obs_processing_ms": 0.40365195849293994, "mean_inference_ms": 1.4540762568726122, "mean_action_processing_ms": 0.09157577957434482}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3145728, "timers": {"sample_time_ms": 6066.668, "sample_throughput": 5401.318, "learn_time_ms": 32482.382, "learn_throughput": 1008.793, "update_time_ms": 3.032}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.620982170104981e-07, "cur_lr": 5e-05, "total_loss": 0.00026439176872372627, "policy_loss": -0.000938682584092021, "vf_loss": 1.2030658782459795, "vf_explained_var": -0.024731667712330818, "kl": 0.0034865655725297984, "entropy": 0.8672900088131428, "entropy_coeff": 0.0}}, "num_steps_sampled": 3145728, "num_steps_trained": 3145728}, "done": false, "episodes_total": 67, "training_iteration": 96, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-26-30", "timestamp": 1611091590, "time_this_iter_s": 38.59710192680359, "time_total_s": 3706.8627092838287, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3706.8627092838287, "timesteps_since_restore": 0, "iterations_since_restore": 96, "perf": {"cpu_util_percent": 7.916363636363637, "ram_util_percent": 63.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.265541791044697, "episode_len_mean": 29223.567164179105, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 22985486.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831]}, "sampler_perf": {"mean_env_wait_ms": 9.480790755475985, "mean_raw_obs_processing_ms": 0.4036519584929399, "mean_inference_ms": 1.454076256872612, "mean_action_processing_ms": 0.09157577957434482}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3178496, "timers": {"sample_time_ms": 6081.366, "sample_throughput": 5388.263, "learn_time_ms": 32444.041, "learn_throughput": 1009.985, "update_time_ms": 2.968}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.8104910850524906e-07, "cur_lr": 5e-05, "total_loss": 0.0008426732092630118, "policy_loss": -0.000536716979695484, "vf_loss": 1.3793923305347562, "vf_explained_var": -0.03755577281117439, "kl": 0.002948162933535059, "entropy": 0.8348910193890333, "entropy_coeff": 0.0}}, "num_steps_sampled": 3178496, "num_steps_trained": 3178496}, "done": false, "episodes_total": 67, "training_iteration": 97, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-27-09", "timestamp": 1611091629, "time_this_iter_s": 38.255584955215454, "time_total_s": 3745.118294239044, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3745.118294239044, "timesteps_since_restore": 0, "iterations_since_restore": 97, "perf": {"cpu_util_percent": 7.89090909090909, "ram_util_percent": 63.563636363636355}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.265541791044697, "episode_len_mean": 29223.567164179105, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1201305088.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831]}, "sampler_perf": {"mean_env_wait_ms": 9.480790755475985, "mean_raw_obs_processing_ms": 0.4036519584929399, "mean_inference_ms": 1.454076256872612, "mean_action_processing_ms": 0.09157577957434482}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3211264, "timers": {"sample_time_ms": 6066.344, "sample_throughput": 5401.606, "learn_time_ms": 32428.012, "learn_throughput": 1010.484, "update_time_ms": 3.052}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.052455425262453e-08, "cur_lr": 5e-05, "total_loss": 0.0005585490725934505, "policy_loss": -0.0011908155865967274, "vf_loss": 1.749366719974205, "vf_explained_var": -0.0036406181752681732, "kl": 0.006054633646272123, "entropy": 0.6987725906074047, "entropy_coeff": 0.0}}, "num_steps_sampled": 3211264, "num_steps_trained": 3211264}, "done": false, "episodes_total": 67, "training_iteration": 98, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-27-47", "timestamp": 1611091667, "time_this_iter_s": 38.54261493682861, "time_total_s": 3783.660909175873, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3783.660909175873, "timesteps_since_restore": 0, "iterations_since_restore": 98, "perf": {"cpu_util_percent": 7.943636363636363, "ram_util_percent": 63.599999999999994}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.1757117647058095, "episode_len_mean": 29382.014705882353, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4380778496.0}, "hist_stats": {"episode_reward": [1.1571000000005398, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059], "episode_lengths": [39998, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831]}, "sampler_perf": {"mean_env_wait_ms": 9.480262534939957, "mean_raw_obs_processing_ms": 0.4035856561846579, "mean_inference_ms": 1.4538105718237055, "mean_action_processing_ms": 0.0915638659133291}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3244032, "timers": {"sample_time_ms": 6048.955, "sample_throughput": 5417.134, "learn_time_ms": 32430.523, "learn_throughput": 1010.406, "update_time_ms": 3.03}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.052455425262453e-08, "cur_lr": 5e-05, "total_loss": 0.0011088316387031227, "policy_loss": -0.0011611554509727284, "vf_loss": 2.2699856663821265, "vf_explained_var": -0.012769173830747604, "kl": 0.006777281960239634, "entropy": 0.6723759109154344, "entropy_coeff": 0.0}}, "num_steps_sampled": 3244032, "num_steps_trained": 3244032}, "done": false, "episodes_total": 68, "training_iteration": 99, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-28-26", "timestamp": 1611091706, "time_this_iter_s": 38.35754632949829, "time_total_s": 3822.018455505371, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3822.018455505371, "timesteps_since_restore": 0, "iterations_since_restore": 99, "perf": {"cpu_util_percent": 7.985185185185184, "ram_util_percent": 63.63703703703701}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.806366666666615, "episode_len_mean": 29694.478260869564, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2061825280.0}, "hist_stats": {"episode_reward": [50.69090000000135, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398], "episode_lengths": [50942, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998]}, "sampler_perf": {"mean_env_wait_ms": 9.47993548153403, "mean_raw_obs_processing_ms": 0.403579297435151, "mean_inference_ms": 1.4539652253264288, "mean_action_processing_ms": 0.09154701608450685}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3276800, "timers": {"sample_time_ms": 6052.927, "sample_throughput": 5413.579, "learn_time_ms": 32372.529, "learn_throughput": 1012.216, "update_time_ms": 2.888}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.052455425262453e-08, "cur_lr": 5e-05, "total_loss": -3.294163616374135e-05, "policy_loss": -0.0012315460189711303, "vf_loss": 1.1986051568528637, "vf_explained_var": -0.01102982647716999, "kl": 0.004529848542006221, "entropy": 0.747054111212492, "entropy_coeff": 0.0}}, "num_steps_sampled": 3276800, "num_steps_trained": 3276800}, "done": false, "episodes_total": 69, "training_iteration": 100, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-29-03", "timestamp": 1611091743, "time_this_iter_s": 37.584171533584595, "time_total_s": 3859.6026270389557, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3859.6026270389557, "timesteps_since_restore": 0, "iterations_since_restore": 100, "perf": {"cpu_util_percent": 8.064814814814813, "ram_util_percent": 63.69999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.507302857142804, "episode_len_mean": 29679.285714285714, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 26129880.0}, "hist_stats": {"episode_reward": [-13.128100000000082, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135], "episode_lengths": [28631, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942]}, "sampler_perf": {"mean_env_wait_ms": 9.480808940676171, "mean_raw_obs_processing_ms": 0.40358809339814716, "mean_inference_ms": 1.4538310614502699, "mean_action_processing_ms": 0.09154490117334184}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3309568, "timers": {"sample_time_ms": 6043.648, "sample_throughput": 5421.891, "learn_time_ms": 32434.629, "learn_throughput": 1010.278, "update_time_ms": 2.95}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.5262277126312264e-08, "cur_lr": 5e-05, "total_loss": 0.0004599638414219953, "policy_loss": -0.0005982098882668652, "vf_loss": 1.0581843487452716, "vf_explained_var": 0.00216645747423172, "kl": 0.003554660637746565, "entropy": 0.8086368180811405, "entropy_coeff": 0.0}}, "num_steps_sampled": 3309568, "num_steps_trained": 3309568}, "done": false, "episodes_total": 70, "training_iteration": 101, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-29-42", "timestamp": 1611091782, "time_this_iter_s": 39.076669216156006, "time_total_s": 3898.6792962551117, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3898.6792962551117, "timesteps_since_restore": 0, "iterations_since_restore": 101, "perf": {"cpu_util_percent": 8.227272727272727, "ram_util_percent": 63.74727272727275}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.507302857142806, "episode_len_mean": 29679.285714285714, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 429816544.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631]}, "sampler_perf": {"mean_env_wait_ms": 9.480808940676173, "mean_raw_obs_processing_ms": 0.4035880933981471, "mean_inference_ms": 1.4538310614502699, "mean_action_processing_ms": 0.09154490117334185}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3342336, "timers": {"sample_time_ms": 6034.97, "sample_throughput": 5429.687, "learn_time_ms": 32436.477, "learn_throughput": 1010.221, "update_time_ms": 2.951}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.2631138563156132e-08, "cur_lr": 5e-05, "total_loss": 0.0007260960119310766, "policy_loss": -0.0005220443708822131, "vf_loss": 1.2481380449025892, "vf_explained_var": -0.0035892855376005173, "kl": 0.006453239322581794, "entropy": 0.7590008340775967, "entropy_coeff": 0.0}}, "num_steps_sampled": 3342336, "num_steps_trained": 3342336}, "done": false, "episodes_total": 70, "training_iteration": 102, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-30-21", "timestamp": 1611091821, "time_this_iter_s": 38.420872926712036, "time_total_s": 3937.1001691818237, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3937.1001691818237, "timesteps_since_restore": 0, "iterations_since_restore": 102, "perf": {"cpu_util_percent": 7.943636363636363, "ram_util_percent": 63.800000000000026}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.30134225352109, "episode_len_mean": 29998.478873239437, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 14826600.0}, "hist_stats": {"episode_reward": [63.8841000000011, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082], "episode_lengths": [52342, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631]}, "sampler_perf": {"mean_env_wait_ms": 9.480923394592928, "mean_raw_obs_processing_ms": 0.40372663532751396, "mean_inference_ms": 1.4540342808140674, "mean_action_processing_ms": 0.09155644351310292}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3375104, "timers": {"sample_time_ms": 6037.655, "sample_throughput": 5427.273, "learn_time_ms": 32408.392, "learn_throughput": 1011.096, "update_time_ms": 2.934}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.2631138563156132e-08, "cur_lr": 5e-05, "total_loss": 0.0003763729182537645, "policy_loss": -0.000682537560351193, "vf_loss": 1.0589097780175507, "vf_explained_var": -0.022484146058559418, "kl": 0.008934502155170776, "entropy": 0.6503183394670486, "entropy_coeff": 0.0}}, "num_steps_sampled": 3375104, "num_steps_trained": 3375104}, "done": false, "episodes_total": 71, "training_iteration": 103, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-30-59", "timestamp": 1611091859, "time_this_iter_s": 38.227548122406006, "time_total_s": 3975.3277173042297, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3975.3277173042297, "timesteps_since_restore": 0, "iterations_since_restore": 103, "perf": {"cpu_util_percent": 7.876363636363637, "ram_util_percent": 63.801818181818206}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.734931944444402, "episode_len_mean": 30002.625, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 251113536.0}, "hist_stats": {"episode_reward": [-32.48020000000047, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011], "episode_lengths": [30297, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342]}, "sampler_perf": {"mean_env_wait_ms": 9.480238565500095, "mean_raw_obs_processing_ms": 0.4037826677614993, "mean_inference_ms": 1.4540457864866414, "mean_action_processing_ms": 0.0915795000047091}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3407872, "timers": {"sample_time_ms": 6055.877, "sample_throughput": 5410.942, "learn_time_ms": 32406.728, "learn_throughput": 1011.148, "update_time_ms": 3.009}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.2631138563156132e-08, "cur_lr": 5e-05, "total_loss": 0.0005448130541481078, "policy_loss": -0.0005418671644292772, "vf_loss": 1.0866826188284904, "vf_explained_var": 0.011132624000310898, "kl": 0.0018216392418253236, "entropy": 0.6586436498910189, "entropy_coeff": 0.0}}, "num_steps_sampled": 3407872, "num_steps_trained": 3407872}, "done": false, "episodes_total": 72, "training_iteration": 104, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-31-38", "timestamp": 1611091898, "time_this_iter_s": 38.90948939323425, "time_total_s": 4014.237206697464, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4014.237206697464, "timesteps_since_restore": 0, "iterations_since_restore": 104, "perf": {"cpu_util_percent": 8.976363636363635, "ram_util_percent": 63.88545454545455}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.252057534246569, "episode_len_mean": 30323.561643835616, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 30457850.0}, "hist_stats": {"episode_reward": [-27.514899999997425, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047], "episode_lengths": [53431, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297]}, "sampler_perf": {"mean_env_wait_ms": 9.479960675838194, "mean_raw_obs_processing_ms": 0.40378570476399567, "mean_inference_ms": 1.4541875034769385, "mean_action_processing_ms": 0.09156331452808768}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3440640, "timers": {"sample_time_ms": 6067.416, "sample_throughput": 5400.651, "learn_time_ms": 32342.692, "learn_throughput": 1013.15, "update_time_ms": 2.973}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1315569281578066e-08, "cur_lr": 5e-05, "total_loss": 0.0007586121209897101, "policy_loss": -0.0007495380705222487, "vf_loss": 1.5081483970861882, "vf_explained_var": -0.010442746803164482, "kl": 0.005139869099366479, "entropy": 0.6094881165772676, "entropy_coeff": 0.0}}, "num_steps_sampled": 3440640, "num_steps_trained": 3440640}, "done": false, "episodes_total": 73, "training_iteration": 105, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-32-16", "timestamp": 1611091936, "time_this_iter_s": 38.209632396698, "time_total_s": 4052.446839094162, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4052.446839094162, "timesteps_since_restore": 0, "iterations_since_restore": 105, "perf": {"cpu_util_percent": 8.948148148148148, "ram_util_percent": 64.17037037037035}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.252057534246571, "episode_len_mean": 30323.561643835616, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 39530780.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431]}, "sampler_perf": {"mean_env_wait_ms": 9.479960675838193, "mean_raw_obs_processing_ms": 0.40378570476399567, "mean_inference_ms": 1.4541875034769385, "mean_action_processing_ms": 0.09156331452808768}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3473408, "timers": {"sample_time_ms": 6074.99, "sample_throughput": 5393.918, "learn_time_ms": 32668.193, "learn_throughput": 1003.055, "update_time_ms": 3.052}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1315569281578066e-08, "cur_lr": 5e-05, "total_loss": 0.00031663538538850844, "policy_loss": -0.0011041393445339054, "vf_loss": 1.4207685211440548, "vf_explained_var": -0.008714204654097557, "kl": 0.004508923622779548, "entropy": 0.6951566971838474, "entropy_coeff": 0.0}}, "num_steps_sampled": 3473408, "num_steps_trained": 3473408}, "done": false, "episodes_total": 73, "training_iteration": 106, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-32-58", "timestamp": 1611091978, "time_this_iter_s": 41.93734931945801, "time_total_s": 4094.38418841362, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4094.38418841362, "timesteps_since_restore": 0, "iterations_since_restore": 106, "perf": {"cpu_util_percent": 14.286666666666665, "ram_util_percent": 67.70166666666668}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.711526666666645, "episode_len_mean": 30495.97333333333, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 472948064.0}, "hist_stats": {"episode_reward": [35.65750000000102, 88.30679999999768, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425], "episode_lengths": [54762, 18816, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431]}, "sampler_perf": {"mean_env_wait_ms": 9.480256977514777, "mean_raw_obs_processing_ms": 0.40396152349882825, "mean_inference_ms": 1.4546358772115975, "mean_action_processing_ms": 0.09156579213051336}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3506176, "timers": {"sample_time_ms": 6165.059, "sample_throughput": 5315.115, "learn_time_ms": 33750.339, "learn_throughput": 970.894, "update_time_ms": 2.981}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.657784640789033e-09, "cur_lr": 5e-05, "total_loss": -1.3417797163128853e-05, "policy_loss": -0.0008895775536075234, "vf_loss": 0.8761585322790779, "vf_explained_var": 0.008327508345246315, "kl": 0.007041265300358646, "entropy": 0.5898848511278629, "entropy_coeff": 0.0}}, "num_steps_sampled": 3506176, "num_steps_trained": 3506176}, "done": false, "episodes_total": 75, "training_iteration": 107, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-33-48", "timestamp": 1611092028, "time_this_iter_s": 49.979172468185425, "time_total_s": 4144.363360881805, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4144.363360881805, "timesteps_since_restore": 0, "iterations_since_restore": 107, "perf": {"cpu_util_percent": 24.842253521126764, "ram_util_percent": 77.23521126760564}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.242980519480534, "episode_len_mean": 30923.402597402597, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 84212248.0}, "hist_stats": {"episode_reward": [-14.927599999999574, 73.27260000000231, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768], "episode_lengths": [39118, 54786, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816]}, "sampler_perf": {"mean_env_wait_ms": 9.480809057637169, "mean_raw_obs_processing_ms": 0.40410548497860405, "mean_inference_ms": 1.454805266921925, "mean_action_processing_ms": 0.09158027910667574}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3538944, "timers": {"sample_time_ms": 6288.923, "sample_throughput": 5210.431, "learn_time_ms": 34878.818, "learn_throughput": 939.481, "update_time_ms": 2.898}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.657784640789033e-09, "cur_lr": 5e-05, "total_loss": 0.00021559222659561783, "policy_loss": -0.0009159484761767089, "vf_loss": 1.1315326194744557, "vf_explained_var": 0.004181878641247749, "kl": 0.002364408122957684, "entropy": 0.596596259623766, "entropy_coeff": 0.0}}, "num_steps_sampled": 3538944, "num_steps_trained": 3538944}, "done": false, "episodes_total": 77, "training_iteration": 108, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-34-39", "timestamp": 1611092079, "time_this_iter_s": 51.06562852859497, "time_total_s": 4195.4289894104, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4195.4289894104, "timesteps_since_restore": 0, "iterations_since_restore": 108, "perf": {"cpu_util_percent": 24.853424657534244, "ram_util_percent": 79.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.242980519480534, "episode_len_mean": 30923.402597402597, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 251084720.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786]}, "sampler_perf": {"mean_env_wait_ms": 9.480809057637169, "mean_raw_obs_processing_ms": 0.404105484978604, "mean_inference_ms": 1.454805266921925, "mean_action_processing_ms": 0.09158027910667574}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3571712, "timers": {"sample_time_ms": 6420.783, "sample_throughput": 5103.427, "learn_time_ms": 36017.768, "learn_throughput": 909.773, "update_time_ms": 2.807}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.8288923203945165e-09, "cur_lr": 5e-05, "total_loss": 0.0007105347176548094, "policy_loss": -0.00026196376711595803, "vf_loss": 0.9724971239920706, "vf_explained_var": -0.012991975992918015, "kl": 0.00117490007323795, "entropy": 0.5780383422970772, "entropy_coeff": 0.0}}, "num_steps_sampled": 3571712, "num_steps_trained": 3571712}, "done": false, "episodes_total": 77, "training_iteration": 109, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-35-30", "timestamp": 1611092130, "time_this_iter_s": 51.06535840034485, "time_total_s": 4246.494347810745, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4246.494347810745, "timesteps_since_restore": 0, "iterations_since_restore": 109, "perf": {"cpu_util_percent": 24.767123287671232, "ram_util_percent": 79.08082191780822}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.305934615384633, "episode_len_mean": 31242.666666666668, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 14024887.0}, "hist_stats": {"episode_reward": [14.1534000000002, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231], "episode_lengths": [55826, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786]}, "sampler_perf": {"mean_env_wait_ms": 9.481743100732439, "mean_raw_obs_processing_ms": 0.404294672839563, "mean_inference_ms": 1.4551487552047961, "mean_action_processing_ms": 0.09157710724870968}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3604480, "timers": {"sample_time_ms": 6585.039, "sample_throughput": 4976.129, "learn_time_ms": 37357.185, "learn_throughput": 877.154, "update_time_ms": 2.935}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4144461601972582e-09, "cur_lr": 5e-05, "total_loss": 0.00036336720222607255, "policy_loss": -0.0005900760879740119, "vf_loss": 0.9534416329115629, "vf_explained_var": -0.014561757445335388, "kl": 0.003145823000522796, "entropy": 0.62185781262815, "entropy_coeff": 0.0}}, "num_steps_sampled": 3604480, "num_steps_trained": 3604480}, "done": false, "episodes_total": 78, "training_iteration": 110, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-36-23", "timestamp": 1611092183, "time_this_iter_s": 52.62206220626831, "time_total_s": 4299.116410017014, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4299.116410017014, "timesteps_since_restore": 0, "iterations_since_restore": 110, "perf": {"cpu_util_percent": 28.605333333333334, "ram_util_percent": 80.37999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.966255696202532, "episode_len_mean": 31031.569620253165, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 39914372.0}, "hist_stats": {"episode_reward": [-17.528700000001308, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002], "episode_lengths": [14566, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826]}, "sampler_perf": {"mean_env_wait_ms": 9.482284729913223, "mean_raw_obs_processing_ms": 0.4043183065627924, "mean_inference_ms": 1.4551551058130974, "mean_action_processing_ms": 0.09158232353614848}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3637248, "timers": {"sample_time_ms": 6696.499, "sample_throughput": 4893.303, "learn_time_ms": 38711.882, "learn_throughput": 846.458, "update_time_ms": 2.912}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.072230800986291e-10, "cur_lr": 5e-05, "total_loss": -2.967439650092274e-05, "policy_loss": -0.0010849004611372948, "vf_loss": 1.0552224986022338, "vf_explained_var": 0.004453789442777634, "kl": 0.004851348734518979, "entropy": 0.6140101421624422, "entropy_coeff": 0.0}}, "num_steps_sampled": 3637248, "num_steps_trained": 3637248}, "done": false, "episodes_total": 79, "training_iteration": 111, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-37-17", "timestamp": 1611092237, "time_this_iter_s": 53.73844528198242, "time_total_s": 4352.854855298996, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4352.854855298996, "timesteps_since_restore": 0, "iterations_since_restore": 111, "perf": {"cpu_util_percent": 29.862337662337662, "ram_util_percent": 83.0662337662338}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.966255696202532, "episode_len_mean": 31031.569620253165, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1358689536.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566]}, "sampler_perf": {"mean_env_wait_ms": 9.48228472991322, "mean_raw_obs_processing_ms": 0.4043183065627924, "mean_inference_ms": 1.4551551058130974, "mean_action_processing_ms": 0.09158232353614848}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3670016, "timers": {"sample_time_ms": 6853.099, "sample_throughput": 4781.487, "learn_time_ms": 40073.518, "learn_throughput": 817.697, "update_time_ms": 2.87}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.5361154004931456e-10, "cur_lr": 5e-05, "total_loss": 0.0003300919634057209, "policy_loss": -0.001029520877636969, "vf_loss": 1.3596064154990017, "vf_explained_var": -0.007292559370398521, "kl": 0.003701945533975959, "entropy": 0.6225573476403952, "entropy_coeff": 0.0}}, "num_steps_sampled": 3670016, "num_steps_trained": 3670016}, "done": false, "episodes_total": 79, "training_iteration": 112, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-38-10", "timestamp": 1611092290, "time_this_iter_s": 53.60434079170227, "time_total_s": 4406.459196090698, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4406.459196090698, "timesteps_since_restore": 0, "iterations_since_restore": 112, "perf": {"cpu_util_percent": 29.29473684210526, "ram_util_percent": 83.10000000000002}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.095572839506161, "episode_len_mean": 31189.0987654321, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 637012544.0}, "hist_stats": {"episode_reward": [1.0649000000000015, 27.34229999999927, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308], "episode_lengths": [17402, 57421, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566]}, "sampler_perf": {"mean_env_wait_ms": 9.48636150558804, "mean_raw_obs_processing_ms": 0.40449100602931176, "mean_inference_ms": 1.455777781800781, "mean_action_processing_ms": 0.0916201317609853}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3702784, "timers": {"sample_time_ms": 7004.169, "sample_throughput": 4678.357, "learn_time_ms": 41503.893, "learn_throughput": 789.516, "update_time_ms": 2.979}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7680577002465728e-10, "cur_lr": 5e-05, "total_loss": -0.000549385033082217, "policy_loss": -0.0016335254476871341, "vf_loss": 1.0841404554666951, "vf_explained_var": 0.007575176656246185, "kl": 0.008324642418301664, "entropy": 0.5321827847510576, "entropy_coeff": 0.0}}, "num_steps_sampled": 3702784, "num_steps_trained": 3702784}, "done": false, "episodes_total": 81, "training_iteration": 113, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-39-04", "timestamp": 1611092344, "time_this_iter_s": 54.042973041534424, "time_total_s": 4460.502169132233, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4460.502169132233, "timesteps_since_restore": 0, "iterations_since_restore": 113, "perf": {"cpu_util_percent": 29.302597402597417, "ram_util_percent": 83.10129870129875}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.095572839506163, "episode_len_mean": 31189.0987654321, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 39997172.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421]}, "sampler_perf": {"mean_env_wait_ms": 9.48636150558804, "mean_raw_obs_processing_ms": 0.40449100602931176, "mean_inference_ms": 1.455777781800781, "mean_action_processing_ms": 0.09162013176098531}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3735552, "timers": {"sample_time_ms": 7167.536, "sample_throughput": 4571.724, "learn_time_ms": 42908.803, "learn_throughput": 763.666, "update_time_ms": 3.024}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7680577002465728e-10, "cur_lr": 5e-05, "total_loss": 0.0006811644125264138, "policy_loss": -0.0005615625414066017, "vf_loss": 1.2427303011063486, "vf_explained_var": 0.007984776049852371, "kl": 0.0022086707103881054, "entropy": 0.5950341504067183, "entropy_coeff": 0.0}}, "num_steps_sampled": 3735552, "num_steps_trained": 3735552}, "done": false, "episodes_total": 81, "training_iteration": 114, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-39-59", "timestamp": 1611092399, "time_this_iter_s": 54.5933837890625, "time_total_s": 4515.095552921295, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4515.095552921295, "timesteps_since_restore": 0, "iterations_since_restore": 114, "perf": {"cpu_util_percent": 29.66923076923077, "ram_util_percent": 83.17692307692307}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.771575609756082, "episode_len_mean": 31525.878048780487, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 79254560.0}, "hist_stats": {"episode_reward": [-17.472200000000292, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927], "episode_lengths": [58805, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421]}, "sampler_perf": {"mean_env_wait_ms": 9.487567165336975, "mean_raw_obs_processing_ms": 0.4046549102413099, "mean_inference_ms": 1.4561692197661842, "mean_action_processing_ms": 0.09166450997072544}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3768320, "timers": {"sample_time_ms": 7292.022, "sample_throughput": 4493.678, "learn_time_ms": 44274.158, "learn_throughput": 740.116, "update_time_ms": 2.982}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.840288501232864e-11, "cur_lr": 5e-05, "total_loss": 0.1957701638020808, "policy_loss": -0.0011008622532244772, "vf_loss": 196.87104605557397, "vf_explained_var": 0.0017449967563152313, "kl": 0.0041314299232908525, "entropy": 0.5775600839406252, "entropy_coeff": 0.0}}, "num_steps_sampled": 3768320, "num_steps_trained": 3768320}, "done": false, "episodes_total": 82, "training_iteration": 115, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-40-52", "timestamp": 1611092452, "time_this_iter_s": 53.11009502410889, "time_total_s": 4568.205647945404, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4568.205647945404, "timesteps_since_restore": 0, "iterations_since_restore": 115, "perf": {"cpu_util_percent": 29.252000000000002, "ram_util_percent": 83.2}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 8.771575609756084, "episode_len_mean": 31525.878048780487, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 6586092.5}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805]}, "sampler_perf": {"mean_env_wait_ms": 9.487567165336973, "mean_raw_obs_processing_ms": 0.4046549102413099, "mean_inference_ms": 1.4561692197661844, "mean_action_processing_ms": 0.09166450997072545}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3801088, "timers": {"sample_time_ms": 7429.18, "sample_throughput": 4410.715, "learn_time_ms": 45167.351, "learn_throughput": 725.48, "update_time_ms": 2.886}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.420144250616432e-11, "cur_lr": 5e-05, "total_loss": 0.049510787503095344, "policy_loss": -0.0004059701750520617, "vf_loss": 49.916757736355066, "vf_explained_var": -0.01880725473165512, "kl": 0.003131787794700358, "entropy": 0.6575730349868536, "entropy_coeff": 0.0}}, "num_steps_sampled": 3801088, "num_steps_trained": 3801088}, "done": false, "episodes_total": 82, "training_iteration": 116, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-41-44", "timestamp": 1611092504, "time_this_iter_s": 52.23110365867615, "time_total_s": 4620.43675160408, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4620.43675160408, "timesteps_since_restore": 0, "iterations_since_restore": 116, "perf": {"cpu_util_percent": 28.12933333333333, "ram_util_percent": 82.16}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.896217441860472, "episode_len_mean": 32258.337209302324, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 23819528.0}, "hist_stats": {"episode_reward": [4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292], "episode_lengths": [41084, 59562, 59503, 28946, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805]}, "sampler_perf": {"mean_env_wait_ms": 9.500214739737734, "mean_raw_obs_processing_ms": 0.4051851127774998, "mean_inference_ms": 1.4582272377282577, "mean_action_processing_ms": 0.0918597298221112}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3833856, "timers": {"sample_time_ms": 7423.282, "sample_throughput": 4414.22, "learn_time_ms": 45247.952, "learn_throughput": 724.187, "update_time_ms": 2.951}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.210072125308216e-11, "cur_lr": 5e-05, "total_loss": 0.001047009885951411, "policy_loss": -0.0010248876715195365, "vf_loss": 2.071892992593348, "vf_explained_var": -0.011841578409075737, "kl": 0.0060809379574493505, "entropy": 0.5604294715449214, "entropy_coeff": 0.0}}, "num_steps_sampled": 3833856, "num_steps_trained": 3833856}, "done": false, "episodes_total": 86, "training_iteration": 117, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-42-35", "timestamp": 1611092555, "time_this_iter_s": 50.72592544555664, "time_total_s": 4671.162677049637, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4671.162677049637, "timesteps_since_restore": 0, "iterations_since_restore": 117, "perf": {"cpu_util_percent": 25.458333333333332, "ram_util_percent": 79.475}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.896217441860473, "episode_len_mean": 32258.337209302324, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 22495870.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946]}, "sampler_perf": {"mean_env_wait_ms": 9.500214739737732, "mean_raw_obs_processing_ms": 0.40518511277749963, "mean_inference_ms": 1.4582272377282577, "mean_action_processing_ms": 0.0918597298221112}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3866624, "timers": {"sample_time_ms": 7420.303, "sample_throughput": 4415.992, "learn_time_ms": 45018.381, "learn_throughput": 727.88, "update_time_ms": 2.995}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.210072125308216e-11, "cur_lr": 5e-05, "total_loss": 0.0015324277919717133, "policy_loss": -0.00030812606564722955, "vf_loss": 1.8405504405964166, "vf_explained_var": -0.0206949170678854, "kl": 0.0026746936164272483, "entropy": 0.5029552904888988, "entropy_coeff": 0.0}}, "num_steps_sampled": 3866624, "num_steps_trained": 3866624}, "done": false, "episodes_total": 86, "training_iteration": 118, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-43-24", "timestamp": 1611092604, "time_this_iter_s": 48.74034333229065, "time_total_s": 4719.9030203819275, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4719.9030203819275, "timesteps_since_restore": 0, "iterations_since_restore": 118, "perf": {"cpu_util_percent": 24.61428571428571, "ram_util_percent": 77.49428571428571}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 7.896217441860473, "episode_len_mean": 32258.337209302324, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 13077620.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946]}, "sampler_perf": {"mean_env_wait_ms": 9.500214739737732, "mean_raw_obs_processing_ms": 0.40518511277749963, "mean_inference_ms": 1.4582272377282577, "mean_action_processing_ms": 0.0918597298221112}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3899392, "timers": {"sample_time_ms": 7389.864, "sample_throughput": 4434.182, "learn_time_ms": 44823.979, "learn_throughput": 731.037, "update_time_ms": 2.989}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.105036062654108e-11, "cur_lr": 5e-05, "total_loss": 0.0001495112373959273, "policy_loss": -0.0009592074202373624, "vf_loss": 1.1087212641723454, "vf_explained_var": -0.0010218564420938492, "kl": 0.0031771232243045233, "entropy": 0.4461718639358878, "entropy_coeff": 0.0}}, "num_steps_sampled": 3899392, "num_steps_trained": 3899392}, "done": false, "episodes_total": 86, "training_iteration": 119, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-44-13", "timestamp": 1611092653, "time_this_iter_s": 48.8167028427124, "time_total_s": 4768.71972322464, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4768.71972322464, "timesteps_since_restore": 0, "iterations_since_restore": 119, "perf": {"cpu_util_percent": 22.078260869565216, "ram_util_percent": 75.78985507246378}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.78708068181819, "episode_len_mean": 32037.272727272728, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2593697792.0}, "hist_stats": {"episode_reward": [1.6380999999999588, 180.55030000000014, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082], "episode_lengths": [12263, 32800, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946]}, "sampler_perf": {"mean_env_wait_ms": 9.504036466873528, "mean_raw_obs_processing_ms": 0.4055746274777835, "mean_inference_ms": 1.4592042658993314, "mean_action_processing_ms": 0.09192246599583992}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3932160, "timers": {"sample_time_ms": 7327.26, "sample_throughput": 4472.067, "learn_time_ms": 44429.71, "learn_throughput": 737.525, "update_time_ms": 2.888}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.52518031327054e-12, "cur_lr": 5e-05, "total_loss": 0.0015278271748684347, "policy_loss": -0.00026894945767708123, "vf_loss": 1.7967717261053622, "vf_explained_var": -0.025425728410482407, "kl": 0.0013147066711098887, "entropy": 0.4462585272267461, "entropy_coeff": 0.0}}, "num_steps_sampled": 3932160, "num_steps_trained": 3932160}, "done": false, "episodes_total": 88, "training_iteration": 120, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-45-01", "timestamp": 1611092701, "time_this_iter_s": 48.052587032318115, "time_total_s": 4816.772310256958, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4816.772310256958, "timesteps_since_restore": 0, "iterations_since_restore": 120, "perf": {"cpu_util_percent": 21.740579710144928, "ram_util_percent": 75.80144927536232}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.78708068181819, "episode_len_mean": 32037.272727272728, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 650515.625}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800]}, "sampler_perf": {"mean_env_wait_ms": 9.504036466873528, "mean_raw_obs_processing_ms": 0.4055746274777835, "mean_inference_ms": 1.4592042658993314, "mean_action_processing_ms": 0.09192246599583992}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3964928, "timers": {"sample_time_ms": 7335.293, "sample_throughput": 4467.17, "learn_time_ms": 44043.205, "learn_throughput": 743.997, "update_time_ms": 2.835}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.76259015663527e-12, "cur_lr": 5e-05, "total_loss": 0.0006642030784860253, "policy_loss": -0.0003889660583809018, "vf_loss": 1.0531751899980009, "vf_explained_var": -0.010464208200573921, "kl": 0.001381606674840441, "entropy": 0.4789411146193743, "entropy_coeff": 0.0}}, "num_steps_sampled": 3964928, "num_steps_trained": 3964928}, "done": false, "episodes_total": 88, "training_iteration": 121, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-45-51", "timestamp": 1611092751, "time_this_iter_s": 49.95293974876404, "time_total_s": 4866.725250005722, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4866.725250005722, "timesteps_since_restore": 0, "iterations_since_restore": 121, "perf": {"cpu_util_percent": 28.485915492957748, "ram_util_percent": 76.26901408450703}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.78708068181819, "episode_len_mean": 32037.272727272728, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 77932176.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800]}, "sampler_perf": {"mean_env_wait_ms": 9.504036466873528, "mean_raw_obs_processing_ms": 0.4055746274777835, "mean_inference_ms": 1.4592042658993314, "mean_action_processing_ms": 0.09192246599583992}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3997696, "timers": {"sample_time_ms": 7282.84, "sample_throughput": 4499.343, "learn_time_ms": 43379.59, "learn_throughput": 755.378, "update_time_ms": 2.82}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.381295078317635e-12, "cur_lr": 5e-05, "total_loss": 0.0013732053921557963, "policy_loss": -0.0009515500860288739, "vf_loss": 2.324751010281034, "vf_explained_var": -0.004873478785157204, "kl": 0.005403330971603282, "entropy": 0.4035484157502651, "entropy_coeff": 0.0}}, "num_steps_sampled": 3997696, "num_steps_trained": 3997696}, "done": false, "episodes_total": 88, "training_iteration": 122, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-46-37", "timestamp": 1611092797, "time_this_iter_s": 46.44295620918274, "time_total_s": 4913.168206214905, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4913.168206214905, "timesteps_since_restore": 0, "iterations_since_restore": 122, "perf": {"cpu_util_percent": 19.70757575757575, "ram_util_percent": 74.90606060606059}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.78708068181819, "episode_len_mean": 32037.272727272728, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 23109086.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800]}, "sampler_perf": {"mean_env_wait_ms": 9.504036466873528, "mean_raw_obs_processing_ms": 0.4055746274777835, "mean_inference_ms": 1.4592042658993314, "mean_action_processing_ms": 0.09192246599583992}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4030464, "timers": {"sample_time_ms": 7193.004, "sample_throughput": 4555.538, "learn_time_ms": 42422.527, "learn_throughput": 772.42, "update_time_ms": 2.836}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.381295078317635e-12, "cur_lr": 5e-05, "total_loss": -5.7031604228541255e-05, "policy_loss": -0.0019028127717319876, "vf_loss": 1.8457784922793508, "vf_explained_var": -0.0013532843440771103, "kl": 0.0037290411564754322, "entropy": 0.39787485357373953, "entropy_coeff": 0.0}}, "num_steps_sampled": 4030464, "num_steps_trained": 4030464}, "done": false, "episodes_total": 88, "training_iteration": 123, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-47-21", "timestamp": 1611092841, "time_this_iter_s": 43.57387852668762, "time_total_s": 4956.742084741592, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4956.742084741592, "timesteps_since_restore": 0, "iterations_since_restore": 123, "perf": {"cpu_util_percent": 14.859677419354838, "ram_util_percent": 70.89999999999998}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.48672000000001, "episode_len_mean": 31692.81111111111, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 286165152.0}, "hist_stats": {"episode_reward": [-11.694500000000097, 4.236200000000206, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014], "episode_lengths": [17969, 15104, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800]}, "sampler_perf": {"mean_env_wait_ms": 9.508717761605222, "mean_raw_obs_processing_ms": 0.40597234912882996, "mean_inference_ms": 1.4604444230400646, "mean_action_processing_ms": 0.0920100793182702}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4063232, "timers": {"sample_time_ms": 7039.11, "sample_throughput": 4655.134, "learn_time_ms": 41397.142, "learn_throughput": 791.552, "update_time_ms": 2.797}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.906475391588175e-13, "cur_lr": 5e-05, "total_loss": 0.0006134725554147735, "policy_loss": -0.00047485461982432753, "vf_loss": 1.0883270180784166, "vf_explained_var": -0.0014849603176116943, "kl": 0.001661824015172897, "entropy": 0.4246581243351102, "entropy_coeff": 0.0}}, "num_steps_sampled": 4063232, "num_steps_trained": 4063232}, "done": false, "episodes_total": 90, "training_iteration": 124, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-48-04", "timestamp": 1611092884, "time_this_iter_s": 42.800944566726685, "time_total_s": 4999.543029308319, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4999.543029308319, "timesteps_since_restore": 0, "iterations_since_restore": 124, "perf": {"cpu_util_percent": 13.657377049180328, "ram_util_percent": 68.76885245901641}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.48672000000001, "episode_len_mean": 31692.81111111111, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2244766.25}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104]}, "sampler_perf": {"mean_env_wait_ms": 9.508717761605222, "mean_raw_obs_processing_ms": 0.4059723491288298, "mean_inference_ms": 1.4604444230400646, "mean_action_processing_ms": 0.09201007931827022}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4096000, "timers": {"sample_time_ms": 6969.609, "sample_throughput": 4701.555, "learn_time_ms": 40188.921, "learn_throughput": 815.349, "update_time_ms": 2.753}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4532376957940875e-13, "cur_lr": 5e-05, "total_loss": 0.0008083889551926404, "policy_loss": -0.0011641626188065857, "vf_loss": 1.9725538418861106, "vf_explained_var": 0.018412578850984573, "kl": 0.0030279872589744627, "entropy": 0.3856481108814478, "entropy_coeff": 0.0}}, "num_steps_sampled": 4096000, "num_steps_trained": 4096000}, "done": false, "episodes_total": 90, "training_iteration": 125, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-48-44", "timestamp": 1611092924, "time_this_iter_s": 40.33072090148926, "time_total_s": 5039.873750209808, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5039.873750209808, "timesteps_since_restore": 0, "iterations_since_restore": 125, "perf": {"cpu_util_percent": 11.242105263157894, "ram_util_percent": 66.35614035087718}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.48672000000001, "episode_len_mean": 31692.81111111111, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 521999136.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104]}, "sampler_perf": {"mean_env_wait_ms": 9.508717761605222, "mean_raw_obs_processing_ms": 0.4059723491288298, "mean_inference_ms": 1.4604444230400646, "mean_action_processing_ms": 0.09201007931827022}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4128768, "timers": {"sample_time_ms": 6838.703, "sample_throughput": 4791.552, "learn_time_ms": 39042.57, "learn_throughput": 839.289, "update_time_ms": 2.669}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7266188478970438e-13, "cur_lr": 5e-05, "total_loss": 0.0034892479015979916, "policy_loss": -0.00010924309026449919, "vf_loss": 3.5984842355828732, "vf_explained_var": -0.0018598269671201706, "kl": 0.0008605990005889907, "entropy": 0.4119318053126335, "entropy_coeff": 0.0}}, "num_steps_sampled": 4128768, "num_steps_trained": 4128768}, "done": false, "episodes_total": 90, "training_iteration": 126, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-49-23", "timestamp": 1611092963, "time_this_iter_s": 39.457642555236816, "time_total_s": 5079.331392765045, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5079.331392765045, "timesteps_since_restore": 0, "iterations_since_restore": 126, "perf": {"cpu_util_percent": 11.100000000000001, "ram_util_percent": 64.99649122807018}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.48672000000001, "episode_len_mean": 31692.81111111111, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 152221600.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104]}, "sampler_perf": {"mean_env_wait_ms": 9.508717761605222, "mean_raw_obs_processing_ms": 0.4059723491288298, "mean_inference_ms": 1.4604444230400646, "mean_action_processing_ms": 0.09201007931827022}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4161536, "timers": {"sample_time_ms": 6752.689, "sample_throughput": 4852.585, "learn_time_ms": 38033.342, "learn_throughput": 861.56, "update_time_ms": 2.599}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.633094239485219e-14, "cur_lr": 5e-05, "total_loss": 0.001784385065548122, "policy_loss": -7.941265357658267e-05, "vf_loss": 1.8638011722359806, "vf_explained_var": -0.013678787276148796, "kl": 0.0003185870050401718, "entropy": 0.4037642013281584, "entropy_coeff": 0.0}}, "num_steps_sampled": 4161536, "num_steps_trained": 4161536}, "done": false, "episodes_total": 90, "training_iteration": 127, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-50-03", "timestamp": 1611093003, "time_this_iter_s": 39.7722373008728, "time_total_s": 5119.103630065918, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5119.103630065918, "timesteps_since_restore": 0, "iterations_since_restore": 127, "perf": {"cpu_util_percent": 10.780357142857142, "ram_util_percent": 64.60178571428571}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.32944175824178, "episode_len_mean": 31604.120879120877, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 256539456.0}, "hist_stats": {"episode_reward": [-4.825599999998971, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206], "episode_lengths": [23622, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104]}, "sampler_perf": {"mean_env_wait_ms": 9.510681651821985, "mean_raw_obs_processing_ms": 0.40620316711163595, "mean_inference_ms": 1.4610175531591243, "mean_action_processing_ms": 0.09206357554246854}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4194304, "timers": {"sample_time_ms": 6633.436, "sample_throughput": 4939.823, "learn_time_ms": 37187.713, "learn_throughput": 881.151, "update_time_ms": 2.671}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.3165471197426094e-14, "cur_lr": 5e-05, "total_loss": 0.0003792368806898594, "policy_loss": -0.0012454306415747851, "vf_loss": 1.624668693402782, "vf_explained_var": -0.006058137863874435, "kl": 0.0033496125251986086, "entropy": 0.4906985620036721, "entropy_coeff": 0.0}}, "num_steps_sampled": 4194304, "num_steps_trained": 4194304}, "done": false, "episodes_total": 91, "training_iteration": 128, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-50-42", "timestamp": 1611093042, "time_this_iter_s": 39.09160232543945, "time_total_s": 5158.195232391357, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5158.195232391357, "timesteps_since_restore": 0, "iterations_since_restore": 128, "perf": {"cpu_util_percent": 8.042857142857143, "ram_util_percent": 64.20892857142857}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.32944175824178, "episode_len_mean": 31604.120879120877, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 42629576.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622]}, "sampler_perf": {"mean_env_wait_ms": 9.510681651821985, "mean_raw_obs_processing_ms": 0.4062031671116359, "mean_inference_ms": 1.4610175531591243, "mean_action_processing_ms": 0.09206357554246855}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4227072, "timers": {"sample_time_ms": 6546.65, "sample_throughput": 5005.308, "learn_time_ms": 36292.041, "learn_throughput": 902.898, "update_time_ms": 2.658}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.1582735598713047e-14, "cur_lr": 5e-05, "total_loss": 0.0011594977404456586, "policy_loss": -0.0009036078554345295, "vf_loss": 2.0631036253180355, "vf_explained_var": -0.0005915500223636627, "kl": 0.00306847757747164, "entropy": 0.5529189556837082, "entropy_coeff": 0.0}}, "num_steps_sampled": 4227072, "num_steps_trained": 4227072}, "done": false, "episodes_total": 91, "training_iteration": 129, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-51-21", "timestamp": 1611093081, "time_this_iter_s": 38.9924578666687, "time_total_s": 5197.187690258026, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5197.187690258026, "timesteps_since_restore": 0, "iterations_since_restore": 129, "perf": {"cpu_util_percent": 8.144642857142857, "ram_util_percent": 64.30178571428571}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.32944175824178, "episode_len_mean": 31604.120879120877, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 176943152.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622]}, "sampler_perf": {"mean_env_wait_ms": 9.510681651821985, "mean_raw_obs_processing_ms": 0.4062031671116359, "mean_inference_ms": 1.4610175531591243, "mean_action_processing_ms": 0.09206357554246855}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4259840, "timers": {"sample_time_ms": 6454.21, "sample_throughput": 5076.997, "learn_time_ms": 35523.866, "learn_throughput": 922.422, "update_time_ms": 2.771}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.0791367799356523e-14, "cur_lr": 5e-05, "total_loss": 0.0001611539046280086, "policy_loss": -0.0010874949512071908, "vf_loss": 1.2486475745681673, "vf_explained_var": 0.00744672492146492, "kl": 0.004942678002407774, "entropy": 0.45508724078536034, "entropy_coeff": 0.0}}, "num_steps_sampled": 4259840, "num_steps_trained": 4259840}, "done": false, "episodes_total": 91, "training_iteration": 130, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-52-01", "timestamp": 1611093121, "time_this_iter_s": 39.44650173187256, "time_total_s": 5236.634191989899, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5236.634191989899, "timesteps_since_restore": 0, "iterations_since_restore": 130, "perf": {"cpu_util_percent": 8.616071428571429, "ram_util_percent": 64.28392857142858}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.197797826086978, "episode_len_mean": 31391.945652173912, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5733454.0}, "hist_stats": {"episode_reward": [-2.7817999999999614, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971], "episode_lengths": [12084, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622]}, "sampler_perf": {"mean_env_wait_ms": 9.512783765687818, "mean_raw_obs_processing_ms": 0.4064786887798435, "mean_inference_ms": 1.4617188892282205, "mean_action_processing_ms": 0.09210471450568906}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4292608, "timers": {"sample_time_ms": 6331.71, "sample_throughput": 5175.221, "learn_time_ms": 34547.345, "learn_throughput": 948.495, "update_time_ms": 2.84}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.395683899678262e-15, "cur_lr": 5e-05, "total_loss": 0.0004856889136135578, "policy_loss": -0.0006335583748295903, "vf_loss": 1.1192498300224543, "vf_explained_var": -0.012600500136613846, "kl": 0.0032829323172336444, "entropy": 0.3757291669026017, "entropy_coeff": 0.0}}, "num_steps_sampled": 4292608, "num_steps_trained": 4292608}, "done": false, "episodes_total": 92, "training_iteration": 131, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-52-40", "timestamp": 1611093160, "time_this_iter_s": 38.96434164047241, "time_total_s": 5275.598533630371, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5275.598533630371, "timesteps_since_restore": 0, "iterations_since_restore": 131, "perf": {"cpu_util_percent": 9.518181818181816, "ram_util_percent": 64.3618181818182}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.197797826086978, "episode_len_mean": 31391.945652173912, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 13863739.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084]}, "sampler_perf": {"mean_env_wait_ms": 9.512783765687818, "mean_raw_obs_processing_ms": 0.4064786887798434, "mean_inference_ms": 1.4617188892282205, "mean_action_processing_ms": 0.09210471450568909}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4325376, "timers": {"sample_time_ms": 6252.974, "sample_throughput": 5240.386, "learn_time_ms": 33907.715, "learn_throughput": 966.388, "update_time_ms": 2.943}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.697841949839131e-15, "cur_lr": 5e-05, "total_loss": 0.0013809784431941807, "policy_loss": -0.00038308073999360204, "vf_loss": 1.764058485860005, "vf_explained_var": 0.011462721973657608, "kl": 0.0016750879731262103, "entropy": 0.4341268464922905, "entropy_coeff": 0.0}}, "num_steps_sampled": 4325376, "num_steps_trained": 4325376}, "done": false, "episodes_total": 92, "training_iteration": 132, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-53-19", "timestamp": 1611093199, "time_this_iter_s": 39.26017451286316, "time_total_s": 5314.858708143234, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5314.858708143234, "timesteps_since_restore": 0, "iterations_since_restore": 132, "perf": {"cpu_util_percent": 8.253571428571428, "ram_util_percent": 64.5}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.197797826086978, "episode_len_mean": 31391.945652173912, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8432587.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084]}, "sampler_perf": {"mean_env_wait_ms": 9.512783765687818, "mean_raw_obs_processing_ms": 0.4064786887798434, "mean_inference_ms": 1.4617188892282205, "mean_action_processing_ms": 0.09210471450568909}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4358144, "timers": {"sample_time_ms": 6212.921, "sample_throughput": 5274.169, "learn_time_ms": 33596.158, "learn_throughput": 975.35, "update_time_ms": 2.943}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.3489209749195654e-15, "cur_lr": 5e-05, "total_loss": 0.0028855465352535248, "policy_loss": -0.0008623198664281517, "vf_loss": 3.747867528698407, "vf_explained_var": 0.0033785738050937653, "kl": 0.003358408939675428, "entropy": 0.36366038490086794, "entropy_coeff": 0.0}}, "num_steps_sampled": 4358144, "num_steps_trained": 4358144}, "done": false, "episodes_total": 92, "training_iteration": 133, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-53-59", "timestamp": 1611093239, "time_this_iter_s": 40.05673813819885, "time_total_s": 5354.915446281433, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5354.915446281433, "timesteps_since_restore": 0, "iterations_since_restore": 133, "perf": {"cpu_util_percent": 8.671929824561404, "ram_util_percent": 64.53333333333335}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.41964086021508, "episode_len_mean": 31387.21505376344, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 14256005.0}, "hist_stats": {"episode_reward": [29.829200000000668, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614], "episode_lengths": [30952, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084]}, "sampler_perf": {"mean_env_wait_ms": 9.516983710342949, "mean_raw_obs_processing_ms": 0.4066217008683444, "mean_inference_ms": 1.4623207999378656, "mean_action_processing_ms": 0.0921641310533236}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4390912, "timers": {"sample_time_ms": 6190.998, "sample_throughput": 5292.846, "learn_time_ms": 33236.584, "learn_throughput": 985.902, "update_time_ms": 2.996}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.744604874597827e-16, "cur_lr": 5e-05, "total_loss": 0.0018667038530111313, "policy_loss": -0.0008760045457165688, "vf_loss": 2.7427101315697655, "vf_explained_var": -0.009911546483635902, "kl": 0.0018130773132725153, "entropy": 0.41948163229972124, "entropy_coeff": 0.0}}, "num_steps_sampled": 4390912, "num_steps_trained": 4390912}, "done": false, "episodes_total": 93, "training_iteration": 134, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-54-38", "timestamp": 1611093278, "time_this_iter_s": 38.98576855659485, "time_total_s": 5393.901214838028, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5393.901214838028, "timesteps_since_restore": 0, "iterations_since_restore": 134, "perf": {"cpu_util_percent": 9.407142857142857, "ram_util_percent": 64.56964285714285}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.85530531914897, "episode_len_mean": 31470.840425531915, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8527610.0}, "hist_stats": {"episode_reward": [50.37210000000047, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668], "episode_lengths": [39248, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952]}, "sampler_perf": {"mean_env_wait_ms": 9.518787872601852, "mean_raw_obs_processing_ms": 0.40676617451440794, "mean_inference_ms": 1.4629236639415115, "mean_action_processing_ms": 0.09218098716995354}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4423680, "timers": {"sample_time_ms": 6154.423, "sample_throughput": 5324.301, "learn_time_ms": 33151.995, "learn_throughput": 988.417, "update_time_ms": 3.073}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.3723024372989136e-16, "cur_lr": 5e-05, "total_loss": 0.0002290442935191095, "policy_loss": -0.0006590975099243224, "vf_loss": 0.8881450365297496, "vf_explained_var": 0.0003016851842403412, "kl": 0.002123068396031158, "entropy": 0.4034286392852664, "entropy_coeff": 0.0}}, "num_steps_sampled": 4423680, "num_steps_trained": 4423680}, "done": false, "episodes_total": 94, "training_iteration": 135, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-55-17", "timestamp": 1611093317, "time_this_iter_s": 39.119656562805176, "time_total_s": 5433.020871400833, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5433.020871400833, "timesteps_since_restore": 0, "iterations_since_restore": 135, "perf": {"cpu_util_percent": 9.105357142857143, "ram_util_percent": 64.38571428571429}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 9.665288421052667, "episode_len_mean": 31644.115789473683, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1120274816.0}, "hist_stats": {"episode_reward": [-8.196299999999944, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047], "episode_lengths": [47932, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248]}, "sampler_perf": {"mean_env_wait_ms": 9.52056022078683, "mean_raw_obs_processing_ms": 0.40697870956602233, "mean_inference_ms": 1.4634391167370615, "mean_action_processing_ms": 0.09222987449662064}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4456448, "timers": {"sample_time_ms": 6156.215, "sample_throughput": 5322.751, "learn_time_ms": 33177.444, "learn_throughput": 987.659, "update_time_ms": 3.283}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.6861512186494568e-16, "cur_lr": 5e-05, "total_loss": 0.00012866471661254764, "policy_loss": -0.0011454052582848817, "vf_loss": 1.2740739547880366, "vf_explained_var": -0.017773743718862534, "kl": 0.0030947050763643347, "entropy": 0.34376945719122887, "entropy_coeff": 0.0}}, "num_steps_sampled": 4456448, "num_steps_trained": 4456448}, "done": false, "episodes_total": 95, "training_iteration": 136, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-55-57", "timestamp": 1611093357, "time_this_iter_s": 39.73226261138916, "time_total_s": 5472.753134012222, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5472.753134012222, "timesteps_since_restore": 0, "iterations_since_restore": 136, "perf": {"cpu_util_percent": 9.519642857142856, "ram_util_percent": 64.36785714285712}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 13.055633333333311, "episode_len_mean": 31798.40625, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 299745472.0}, "hist_stats": {"episode_reward": [335.13839999999493, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944], "episode_lengths": [46456, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932]}, "sampler_perf": {"mean_env_wait_ms": 9.52346129190903, "mean_raw_obs_processing_ms": 0.40713120328608127, "mean_inference_ms": 1.4638570068880306, "mean_action_processing_ms": 0.09225572286064176}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4489216, "timers": {"sample_time_ms": 6151.231, "sample_throughput": 5327.064, "learn_time_ms": 33094.735, "learn_throughput": 990.127, "update_time_ms": 3.265}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.430756093247284e-17, "cur_lr": 5e-05, "total_loss": 0.0019515047606546432, "policy_loss": -0.0005281424673739821, "vf_loss": 2.479650385212153, "vf_explained_var": 0.000393083319067955, "kl": 0.002006923961744178, "entropy": 0.31068726256489754, "entropy_coeff": 0.0}}, "num_steps_sampled": 4489216, "num_steps_trained": 4489216}, "done": false, "episodes_total": 96, "training_iteration": 137, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-56-36", "timestamp": 1611093396, "time_this_iter_s": 38.89472484588623, "time_total_s": 5511.6478588581085, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5511.6478588581085, "timesteps_since_restore": 0, "iterations_since_restore": 137, "perf": {"cpu_util_percent": 9.360714285714286, "ram_util_percent": 64.46964285714286}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.670427835051528, "episode_len_mean": 31675.701030927834, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 12626018.0}, "hist_stats": {"episode_reward": [-24.30929999999975, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493], "episode_lengths": [19896, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456]}, "sampler_perf": {"mean_env_wait_ms": 9.525009435669123, "mean_raw_obs_processing_ms": 0.4072412228645571, "mean_inference_ms": 1.4641523063803885, "mean_action_processing_ms": 0.09227530295135114}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4521984, "timers": {"sample_time_ms": 6146.83, "sample_throughput": 5330.877, "learn_time_ms": 33151.203, "learn_throughput": 988.441, "update_time_ms": 3.232}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.215378046623642e-17, "cur_lr": 5e-05, "total_loss": 0.00016276672249659896, "policy_loss": -0.0009643273078836501, "vf_loss": 1.1270867444109172, "vf_explained_var": 0.0037469621747732162, "kl": 0.0026044143887702376, "entropy": 0.32451868802309036, "entropy_coeff": 0.0}}, "num_steps_sampled": 4521984, "num_steps_trained": 4521984}, "done": false, "episodes_total": 97, "training_iteration": 138, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-57-16", "timestamp": 1611093436, "time_this_iter_s": 39.62104940414429, "time_total_s": 5551.268908262253, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5551.268908262253, "timesteps_since_restore": 0, "iterations_since_restore": 138, "perf": {"cpu_util_percent": 10.867857142857142, "ram_util_percent": 65.80892857142857}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.481764285714267, "episode_len_mean": 31555.938775510203, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 237302688.0}, "hist_stats": {"episode_reward": [-5.818600000000135, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975], "episode_lengths": [19939, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896]}, "sampler_perf": {"mean_env_wait_ms": 9.526751697450534, "mean_raw_obs_processing_ms": 0.4073814452229728, "mean_inference_ms": 1.4647289380122235, "mean_action_processing_ms": 0.0922936036437798}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4554752, "timers": {"sample_time_ms": 6254.419, "sample_throughput": 5239.176, "learn_time_ms": 34390.091, "learn_throughput": 952.833, "update_time_ms": 3.268}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.107689023311821e-17, "cur_lr": 5e-05, "total_loss": 0.0003196916659362614, "policy_loss": -0.000584285386139527, "vf_loss": 0.9039775951532647, "vf_explained_var": 0.004727641120553017, "kl": 0.002572662222519284, "entropy": 0.2695299689657986, "entropy_coeff": 0.0}}, "num_steps_sampled": 4554752, "num_steps_trained": 4554752}, "done": false, "episodes_total": 98, "training_iteration": 139, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-58-08", "timestamp": 1611093488, "time_this_iter_s": 52.458433389663696, "time_total_s": 5603.7273416519165, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5603.7273416519165, "timesteps_since_restore": 0, "iterations_since_restore": 139, "perf": {"cpu_util_percent": 29.434666666666658, "ram_util_percent": 80.24133333333332}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.48176428571427, "episode_len_mean": 31555.938775510203, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 31126614.0}, "hist_stats": {"episode_reward": [-4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135], "episode_lengths": [10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939]}, "sampler_perf": {"mean_env_wait_ms": 9.526751697450534, "mean_raw_obs_processing_ms": 0.40738144522297287, "mean_inference_ms": 1.4647289380122233, "mean_action_processing_ms": 0.0922936036437798}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4587520, "timers": {"sample_time_ms": 6395.423, "sample_throughput": 5123.664, "learn_time_ms": 35635.562, "learn_throughput": 919.531, "update_time_ms": 3.268}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.0538445116559105e-17, "cur_lr": 5e-05, "total_loss": 0.0011020951787941158, "policy_loss": -0.0004993183247279376, "vf_loss": 1.6014187084510922, "vf_explained_var": -0.002566050738096237, "kl": 0.0014034826399438316, "entropy": 0.23934056516736746, "entropy_coeff": 0.0}}, "num_steps_sampled": 4587520, "num_steps_trained": 4587520}, "done": false, "episodes_total": 98, "training_iteration": 140, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-59-01", "timestamp": 1611093541, "time_this_iter_s": 53.31213355064392, "time_total_s": 5657.03947520256, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5657.03947520256, "timesteps_since_restore": 0, "iterations_since_restore": 140, "perf": {"cpu_util_percent": 29.564473684210526, "ram_util_percent": 83.48157894736842}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.222130999999989, "episode_len_mean": 31527.63, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8602797.0}, "hist_stats": {"episode_reward": [17.133100000000027, -18.13289999999963, -4.001599999999797, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135], "episode_lengths": [19019, 41262, 10602, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939]}, "sampler_perf": {"mean_env_wait_ms": 9.531025417372215, "mean_raw_obs_processing_ms": 0.4078631343018149, "mean_inference_ms": 1.4659430546972225, "mean_action_processing_ms": 0.09236314399146314}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4620288, "timers": {"sample_time_ms": 6565.581, "sample_throughput": 4990.876, "learn_time_ms": 36978.997, "learn_throughput": 886.125, "update_time_ms": 3.24}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.2692225582795525e-18, "cur_lr": 5e-05, "total_loss": 0.001024971017614007, "policy_loss": -0.0004766813071910292, "vf_loss": 1.501652706763707, "vf_explained_var": -0.006355777382850647, "kl": 0.0009037408890435472, "entropy": 0.2548764222301543, "entropy_coeff": 0.0}}, "num_steps_sampled": 4620288, "num_steps_trained": 4620288}, "done": false, "episodes_total": 100, "training_iteration": 141, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_16-59-56", "timestamp": 1611093596, "time_this_iter_s": 54.09930396080017, "time_total_s": 5711.138779163361, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5711.138779163361, "timesteps_since_restore": 0, "iterations_since_restore": 141, "perf": {"cpu_util_percent": 30.3909090909091, "ram_util_percent": 83.64025974025976}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 12.252426999999976, "episode_len_mean": 31691.38, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 16217099264.0}, "hist_stats": {"episode_reward": [-0.9720000000009392, 25.030800000002102, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963], "episode_lengths": [26977, 14248, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262]}, "sampler_perf": {"mean_env_wait_ms": 9.537102290140178, "mean_raw_obs_processing_ms": 0.40815537611847685, "mean_inference_ms": 1.4670169677513534, "mean_action_processing_ms": 0.0924467580024931}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4653056, "timers": {"sample_time_ms": 6681.683, "sample_throughput": 4904.153, "learn_time_ms": 38463.084, "learn_throughput": 851.934, "update_time_ms": 3.101}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.6346112791397762e-18, "cur_lr": 5e-05, "total_loss": 0.0020077641820535064, "policy_loss": -0.000444440491264686, "vf_loss": 2.4522079105954617, "vf_explained_var": -0.00023903325200080872, "kl": 0.0011594516508921515, "entropy": 0.3027642397210002, "entropy_coeff": 0.0}}, "num_steps_sampled": 4653056, "num_steps_trained": 4653056}, "done": false, "episodes_total": 101, "training_iteration": 142, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-00-51", "timestamp": 1611093651, "time_this_iter_s": 55.261701345443726, "time_total_s": 5766.400480508804, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5766.400480508804, "timesteps_since_restore": 0, "iterations_since_restore": 142, "perf": {"cpu_util_percent": 36.45384615384615, "ram_util_percent": 83.98717948717945}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 11.673252999999955, "episode_len_mean": 31818.07, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 31080952.0}, "hist_stats": {"episode_reward": [-32.886600000000044, -39.13190000000031, -0.0880000000000079, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392], "episode_lengths": [26917, 14679, 15359, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977]}, "sampler_perf": {"mean_env_wait_ms": 9.540494031560737, "mean_raw_obs_processing_ms": 0.4084143324081478, "mean_inference_ms": 1.4680491217558063, "mean_action_processing_ms": 0.09249635681161482}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4685824, "timers": {"sample_time_ms": 6826.164, "sample_throughput": 4800.354, "learn_time_ms": 39738.516, "learn_throughput": 824.59, "update_time_ms": 3.038}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.3173056395698881e-18, "cur_lr": 5e-05, "total_loss": 0.0011414008622523397, "policy_loss": -0.0002780145441647619, "vf_loss": 1.4194163482752629, "vf_explained_var": -0.008395332843065262, "kl": 0.0010095484994963044, "entropy": 0.3066613175906241, "entropy_coeff": 0.0}}, "num_steps_sampled": 4685824, "num_steps_trained": 4685824}, "done": false, "episodes_total": 102, "training_iteration": 143, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-01-45", "timestamp": 1611093705, "time_this_iter_s": 54.256723165512085, "time_total_s": 5820.657203674316, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5820.657203674316, "timesteps_since_restore": 0, "iterations_since_restore": 143, "perf": {"cpu_util_percent": 30.688461538461542, "ram_util_percent": 84.40128205128202}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 11.932669999999966, "episode_len_mean": 32206.19, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 640425600.0}, "hist_stats": {"episode_reward": [-20.698999999999472, 7.420800000000469, 16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044], "episode_lengths": [46671, 22179, 15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917]}, "sampler_perf": {"mean_env_wait_ms": 9.550325023361273, "mean_raw_obs_processing_ms": 0.40893193316042703, "mean_inference_ms": 1.4696934695148574, "mean_action_processing_ms": 0.09261510802244045}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4718592, "timers": {"sample_time_ms": 6954.189, "sample_throughput": 4711.98, "learn_time_ms": 41145.116, "learn_throughput": 796.401, "update_time_ms": 2.929}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.586528197849441e-19, "cur_lr": 5e-05, "total_loss": 0.002373954135691747, "policy_loss": -0.00032164613367058337, "vf_loss": 2.695597980171442, "vf_explained_var": 0.002474037930369377, "kl": 0.0012723757135972846, "entropy": 0.2707046829164028, "entropy_coeff": 0.0}}, "num_steps_sampled": 4718592, "num_steps_trained": 4718592}, "done": false, "episodes_total": 104, "training_iteration": 144, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-02-40", "timestamp": 1611093760, "time_this_iter_s": 54.33099937438965, "time_total_s": 5874.988203048706, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5874.988203048706, "timesteps_since_restore": 0, "iterations_since_restore": 144, "perf": {"cpu_util_percent": 30.436363636363634, "ram_util_percent": 84.40389610389607}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -52.79439999999747, "episode_reward_mean": 11.932669999999968, "episode_len_mean": 32206.19, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 12928347.0}, "hist_stats": {"episode_reward": [16.13489999999978, -13.827100000000108, -11.081100000000216, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469], "episode_lengths": [15780, 17480, 18793, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179]}, "sampler_perf": {"mean_env_wait_ms": 9.550325023361273, "mean_raw_obs_processing_ms": 0.40893193316042714, "mean_inference_ms": 1.4696934695148576, "mean_action_processing_ms": 0.09261510802244047}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4751360, "timers": {"sample_time_ms": 7085.131, "sample_throughput": 4624.897, "learn_time_ms": 42572.346, "learn_throughput": 769.702, "update_time_ms": 2.961}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.2932640989247203e-19, "cur_lr": 5e-05, "total_loss": 0.004781356954481453, "policy_loss": -0.00048279762268066406, "vf_loss": 5.264156318502501, "vf_explained_var": -0.029959052801132202, "kl": 0.0013512977047867025, "entropy": 0.29241560585796833, "entropy_coeff": 0.0}}, "num_steps_sampled": 4751360, "num_steps_trained": 4751360}, "done": false, "episodes_total": 104, "training_iteration": 145, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-03-34", "timestamp": 1611093814, "time_this_iter_s": 54.701677083969116, "time_total_s": 5929.689880132675, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5929.689880132675, "timesteps_since_restore": 0, "iterations_since_restore": 145, "perf": {"cpu_util_percent": 31.67307692307693, "ram_util_percent": 84.43461538461534}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -66.33349999999997, "episode_reward_mean": 11.212807999999962, "episode_len_mean": 32972.46, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 13008042.0}, "hist_stats": {"episode_reward": [-13.125100000000362, -1.3009000000010786, -66.33349999999997, -13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469], "episode_lengths": [49204, 19564, 59912, 18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179]}, "sampler_perf": {"mean_env_wait_ms": 9.562869052040151, "mean_raw_obs_processing_ms": 0.40964179299519443, "mean_inference_ms": 1.471739473299494, "mean_action_processing_ms": 0.0927469527916011}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4784128, "timers": {"sample_time_ms": 7241.077, "sample_throughput": 4525.294, "learn_time_ms": 43954.609, "learn_throughput": 745.496, "update_time_ms": 2.851}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.6466320494623601e-19, "cur_lr": 5e-05, "total_loss": 0.002247738419100642, "policy_loss": -0.0005211449606576934, "vf_loss": 2.768890990933869, "vf_explained_var": 0.011717729270458221, "kl": 0.0017692686160444282, "entropy": 0.32911448273807764, "entropy_coeff": 0.0}}, "num_steps_sampled": 4784128, "num_steps_trained": 4784128}, "done": false, "episodes_total": 107, "training_iteration": 146, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-04-29", "timestamp": 1611093869, "time_this_iter_s": 55.112852811813354, "time_total_s": 5984.8027329444885, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 5984.8027329444885, "timesteps_since_restore": 0, "iterations_since_restore": 146, "perf": {"cpu_util_percent": 33.19358974358974, "ram_util_percent": 84.4948717948718}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -66.33349999999997, "episode_reward_mean": 11.21280799999996, "episode_len_mean": 32972.46, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 84716560.0}, "hist_stats": {"episode_reward": [-13.611199999997169, -26.508100000001114, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997], "episode_lengths": [18876, 19159, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912]}, "sampler_perf": {"mean_env_wait_ms": 9.562869052040151, "mean_raw_obs_processing_ms": 0.4096417929951945, "mean_inference_ms": 1.471739473299494, "mean_action_processing_ms": 0.09274695279160108}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4816896, "timers": {"sample_time_ms": 7409.095, "sample_throughput": 4422.672, "learn_time_ms": 45292.001, "learn_throughput": 723.483, "update_time_ms": 2.939}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.233160247311801e-20, "cur_lr": 5e-05, "total_loss": 0.005040016534621827, "policy_loss": -0.00041202333522960544, "vf_loss": 5.452036600210704, "vf_explained_var": -0.010580714792013168, "kl": 0.0016406533650297206, "entropy": 0.3237840300425887, "entropy_coeff": 0.0}}, "num_steps_sampled": 4816896, "num_steps_trained": 4816896}, "done": false, "episodes_total": 107, "training_iteration": 147, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-05-23", "timestamp": 1611093923, "time_this_iter_s": 53.95068359375, "time_total_s": 6038.7534165382385, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6038.7534165382385, "timesteps_since_restore": 0, "iterations_since_restore": 147, "perf": {"cpu_util_percent": 29.636363636363637, "ram_util_percent": 84.5818181818182}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -66.33349999999997, "episode_reward_mean": 11.73413999999995, "episode_len_mean": 32951.5, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 22704800.0}, "hist_stats": {"episode_reward": [5.604800000000708, 6.409100000000013, 2.9837000000004608, 11.356999999999633, 16.092400000000552, 6.3530000000006055, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997], "episode_lengths": [16858, 19081, 19321, 20386, 21464, 21027, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912]}, "sampler_perf": {"mean_env_wait_ms": 9.57035095946437, "mean_raw_obs_processing_ms": 0.4102424133696422, "mean_inference_ms": 1.4730702900512014, "mean_action_processing_ms": 0.09286442125002617}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4849664, "timers": {"sample_time_ms": 7598.086, "sample_throughput": 4312.665, "learn_time_ms": 46653.188, "learn_throughput": 702.374, "update_time_ms": 2.897}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.1165801236559004e-20, "cur_lr": 5e-05, "total_loss": 0.002662577258888632, "policy_loss": -0.0004767969367094338, "vf_loss": 3.1393726601963863, "vf_explained_var": -0.0013833679258823395, "kl": 0.001776791650627274, "entropy": 0.2800911394879222, "entropy_coeff": 0.0}}, "num_steps_sampled": 4849664, "num_steps_trained": 4849664}, "done": false, "episodes_total": 109, "training_iteration": 148, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-06-18", "timestamp": 1611093978, "time_this_iter_s": 55.11402487754822, "time_total_s": 6093.867441415787, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6093.867441415787, "timesteps_since_restore": 0, "iterations_since_restore": 148, "perf": {"cpu_util_percent": 31.28607594936708, "ram_util_percent": 84.62151898734176}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -66.33349999999997, "episode_reward_mean": 11.913614999999918, "episode_len_mean": 33244.43, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 14355026.0}, "hist_stats": {"episode_reward": [-3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, 15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013], "episode_lengths": [29552, 21527, 20048, 40364, 22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081]}, "sampler_perf": {"mean_env_wait_ms": 9.586649618181276, "mean_raw_obs_processing_ms": 0.4115398112627897, "mean_inference_ms": 1.4767156713551939, "mean_action_processing_ms": 0.09303021546407164}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4882432, "timers": {"sample_time_ms": 7650.759, "sample_throughput": 4282.974, "learn_time_ms": 46605.095, "learn_throughput": 703.099, "update_time_ms": 2.93}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.0582900618279502e-20, "cur_lr": 5e-05, "total_loss": 0.009633839974412695, "policy_loss": -0.00036556279519572854, "vf_loss": 9.999405737500638, "vf_explained_var": 0.012919118627905846, "kl": 0.0014029349058546359, "entropy": 0.32948994915932417, "entropy_coeff": 0.0}}, "num_steps_sampled": 4882432, "num_steps_trained": 4882432}, "done": false, "episodes_total": 113, "training_iteration": 149, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-07-11", "timestamp": 1611094031, "time_this_iter_s": 52.5034704208374, "time_total_s": 6146.370911836624, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6146.370911836624, "timesteps_since_restore": 0, "iterations_since_restore": 149, "perf": {"cpu_util_percent": 29.46933333333334, "ram_util_percent": 82.04}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -66.33349999999997, "episode_reward_mean": 11.913614999999915, "episode_len_mean": 33244.43, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4721266176.0}, "hist_stats": {"episode_reward": [15.009399999997484, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494], "episode_lengths": [22588, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364]}, "sampler_perf": {"mean_env_wait_ms": 9.586649618181276, "mean_raw_obs_processing_ms": 0.41153981126278955, "mean_inference_ms": 1.4767156713551939, "mean_action_processing_ms": 0.09303021546407166}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4915200, "timers": {"sample_time_ms": 7646.84, "sample_throughput": 4285.169, "learn_time_ms": 46317.566, "learn_throughput": 707.464, "update_time_ms": 2.886}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.0291450309139751e-20, "cur_lr": 5e-05, "total_loss": 0.003172226352035068, "policy_loss": -0.0005219741287874058, "vf_loss": 3.694205366773531, "vf_explained_var": 0.010883230715990067, "kl": 0.002637360379594611, "entropy": 0.3055989667773247, "entropy_coeff": 0.0}}, "num_steps_sampled": 4915200, "num_steps_trained": 4915200}, "done": false, "episodes_total": 113, "training_iteration": 150, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-08-01", "timestamp": 1611094081, "time_this_iter_s": 50.396822929382324, "time_total_s": 6196.7677347660065, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6196.7677347660065, "timesteps_since_restore": 0, "iterations_since_restore": 150, "perf": {"cpu_util_percent": 26.38169014084507, "ram_util_percent": 80.59295774647887}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.168572999999903, "episode_len_mean": 33546.45, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 12064042.0}, "hist_stats": {"episode_reward": [-359.4948000000042, -16.542400000002345, 4.5129999999971915, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494], "episode_lengths": [52790, 22648, 23332, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364]}, "sampler_perf": {"mean_env_wait_ms": 9.591975346428114, "mean_raw_obs_processing_ms": 0.41183585569870845, "mean_inference_ms": 1.4777588957283183, "mean_action_processing_ms": 0.09307513563398782}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4947968, "timers": {"sample_time_ms": 7556.588, "sample_throughput": 4336.348, "learn_time_ms": 45823.729, "learn_throughput": 715.088, "update_time_ms": 2.925}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.1457251545698755e-21, "cur_lr": 5e-05, "total_loss": 0.002616157798911445, "policy_loss": -0.0011183896276634187, "vf_loss": 3.7345436413306743, "vf_explained_var": 0.0018435511738061905, "kl": 0.00248574442230165, "entropy": 0.2779520954936743, "entropy_coeff": 0.0}}, "num_steps_sampled": 4947968, "num_steps_trained": 4947968}, "done": false, "episodes_total": 114, "training_iteration": 151, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-08-50", "timestamp": 1611094130, "time_this_iter_s": 48.259641885757446, "time_total_s": 6245.027376651764, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6245.027376651764, "timesteps_since_restore": 0, "iterations_since_restore": 151, "perf": {"cpu_util_percent": 21.63623188405797, "ram_util_percent": 77.1057971014493}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.57351999999995, "episode_len_mean": 33712.04, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 365119040.0}, "hist_stats": {"episode_reward": [1.179699999999789, 27.28560000000038, -4.123400000000066, 26.822699999999823, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042], "episode_lengths": [31748, 30791, 24144, 25503, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790]}, "sampler_perf": {"mean_env_wait_ms": 9.599351986388, "mean_raw_obs_processing_ms": 0.4126863660241418, "mean_inference_ms": 1.4801580424411782, "mean_action_processing_ms": 0.09316743197226808}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 4980736, "timers": {"sample_time_ms": 7528.399, "sample_throughput": 4352.585, "learn_time_ms": 45158.044, "learn_throughput": 725.629, "update_time_ms": 2.978}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.5728625772849377e-21, "cur_lr": 5e-05, "total_loss": 0.0035229027562309057, "policy_loss": -0.0005055604706285521, "vf_loss": 4.028465605515521, "vf_explained_var": -0.005711246281862259, "kl": 0.0009932089033100056, "entropy": 0.3067992450669408, "entropy_coeff": 0.0}}, "num_steps_sampled": 4980736, "num_steps_trained": 4980736}, "done": false, "episodes_total": 116, "training_iteration": 152, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-09-38", "timestamp": 1611094178, "time_this_iter_s": 48.322166204452515, "time_total_s": 6293.349542856216, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6293.349542856216, "timesteps_since_restore": 0, "iterations_since_restore": 152, "perf": {"cpu_util_percent": 21.760869565217394, "ram_util_percent": 77.0}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.642877999999943, "episode_len_mean": 34126.34, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 87924744.0}, "hist_stats": {"episode_reward": [8.979500000000286, 20.655599999998493, 12.072299999999537, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038], "episode_lengths": [51917, 39160, 25871, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791]}, "sampler_perf": {"mean_env_wait_ms": 9.607762343871851, "mean_raw_obs_processing_ms": 0.41337883000968795, "mean_inference_ms": 1.4819218965552639, "mean_action_processing_ms": 0.09327973112717641}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5013504, "timers": {"sample_time_ms": 7472.964, "sample_throughput": 4384.873, "learn_time_ms": 44698.905, "learn_throughput": 733.083, "update_time_ms": 2.932}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.2864312886424689e-21, "cur_lr": 5e-05, "total_loss": 0.003536578151397407, "policy_loss": -0.0004739221330964938, "vf_loss": 4.010499382042326, "vf_explained_var": 0.008090851828455925, "kl": 0.0008615284341431106, "entropy": 0.3440617620944977, "entropy_coeff": 0.0}}, "num_steps_sampled": 5013504, "num_steps_trained": 5013504}, "done": false, "episodes_total": 118, "training_iteration": 153, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-10-27", "timestamp": 1611094227, "time_this_iter_s": 49.11103653907776, "time_total_s": 6342.460579395294, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6342.460579395294, "timesteps_since_restore": 0, "iterations_since_restore": 153, "perf": {"cpu_util_percent": 25.45571428571429, "ram_util_percent": 78.85285714285718}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.158004999999946, "episode_len_mean": 34328.58, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 45927240.0}, "hist_stats": {"episode_reward": [63.58499999999965, -35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493], "episode_lengths": [46095, 26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160]}, "sampler_perf": {"mean_env_wait_ms": 9.611771585880007, "mean_raw_obs_processing_ms": 0.4136905504321801, "mean_inference_ms": 1.4831289100804272, "mean_action_processing_ms": 0.09333873055292351}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5046272, "timers": {"sample_time_ms": 7464.37, "sample_throughput": 4389.922, "learn_time_ms": 44081.517, "learn_throughput": 743.35, "update_time_ms": 2.996}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.432156443212344e-22, "cur_lr": 5e-05, "total_loss": 0.0044495221227407455, "policy_loss": -0.0001704511814750731, "vf_loss": 4.619973137509078, "vf_explained_var": -0.007444722577929497, "kl": 0.0008789218618403538, "entropy": 0.37239564023911953, "entropy_coeff": 0.0}}, "num_steps_sampled": 5046272, "num_steps_trained": 5046272}, "done": false, "episodes_total": 119, "training_iteration": 154, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-11-15", "timestamp": 1611094275, "time_this_iter_s": 48.07261419296265, "time_total_s": 6390.533193588257, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6390.533193588257, "timesteps_since_restore": 0, "iterations_since_restore": 154, "perf": {"cpu_util_percent": 21.94264705882353, "ram_util_percent": 78.59411764705884}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.158004999999946, "episode_len_mean": 34328.58, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 68301696.0}, "hist_stats": {"episode_reward": [-35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965], "episode_lengths": [26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095]}, "sampler_perf": {"mean_env_wait_ms": 9.611771585880005, "mean_raw_obs_processing_ms": 0.4136905504321801, "mean_inference_ms": 1.4831289100804272, "mean_action_processing_ms": 0.09333873055292351}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5079040, "timers": {"sample_time_ms": 7399.214, "sample_throughput": 4428.579, "learn_time_ms": 43178.208, "learn_throughput": 758.901, "update_time_ms": 2.919}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.216078221606172e-22, "cur_lr": 5e-05, "total_loss": 0.002731863030930981, "policy_loss": -0.00024515451514162123, "vf_loss": 2.9770208923728205, "vf_explained_var": 0.005390159785747528, "kl": 0.0005597254867097945, "entropy": 0.35076238587498665, "entropy_coeff": 0.0}}, "num_steps_sampled": 5079040, "num_steps_trained": 5079040}, "done": false, "episodes_total": 119, "training_iteration": 155, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-12-00", "timestamp": 1611094320, "time_this_iter_s": 45.01641535758972, "time_total_s": 6435.549608945847, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6435.549608945847, "timesteps_since_restore": 0, "iterations_since_restore": 155, "perf": {"cpu_util_percent": 15.887500000000001, "ram_util_percent": 72.915625}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.158004999999946, "episode_len_mean": 34328.58, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 7582316032.0}, "hist_stats": {"episode_reward": [-35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965], "episode_lengths": [26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095]}, "sampler_perf": {"mean_env_wait_ms": 9.611771585880005, "mean_raw_obs_processing_ms": 0.4136905504321801, "mean_inference_ms": 1.4831289100804272, "mean_action_processing_ms": 0.09333873055292351}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5111808, "timers": {"sample_time_ms": 7289.756, "sample_throughput": 4495.075, "learn_time_ms": 41805.678, "learn_throughput": 783.817, "update_time_ms": 2.913}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.608039110803086e-22, "cur_lr": 5e-05, "total_loss": 0.0029345863149501383, "policy_loss": -0.0001444597728550434, "vf_loss": 3.0790444627637044, "vf_explained_var": -0.0034470409154891968, "kl": 0.000597673472839233, "entropy": 0.325478982180357, "entropy_coeff": 0.0}}, "num_steps_sampled": 5111808, "num_steps_trained": 5111808}, "done": false, "episodes_total": 119, "training_iteration": 156, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-12-41", "timestamp": 1611094361, "time_this_iter_s": 40.29377317428589, "time_total_s": 6475.843382120132, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6475.843382120132, "timesteps_since_restore": 0, "iterations_since_restore": 156, "perf": {"cpu_util_percent": 13.206896551724139, "ram_util_percent": 68.25172413793102}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.158004999999946, "episode_len_mean": 34328.58, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 100175824.0}, "hist_stats": {"episode_reward": [-35.85390000000126, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965], "episode_lengths": [26166, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095]}, "sampler_perf": {"mean_env_wait_ms": 9.611771585880005, "mean_raw_obs_processing_ms": 0.4136905504321801, "mean_inference_ms": 1.4831289100804272, "mean_action_processing_ms": 0.09333873055292351}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5144576, "timers": {"sample_time_ms": 7150.203, "sample_throughput": 4582.807, "learn_time_ms": 40563.298, "learn_throughput": 807.824, "update_time_ms": 2.919}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.04019555401543e-23, "cur_lr": 5e-05, "total_loss": 0.013151457504136488, "policy_loss": -0.0003713428450282663, "vf_loss": 13.522809247719124, "vf_explained_var": 0.008809594437479973, "kl": 0.0007477379804186057, "entropy": 0.34511460550129414, "entropy_coeff": 0.0}}, "num_steps_sampled": 5144576, "num_steps_trained": 5144576}, "done": false, "episodes_total": 119, "training_iteration": 157, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-13-21", "timestamp": 1611094401, "time_this_iter_s": 40.131595611572266, "time_total_s": 6515.974977731705, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6515.974977731705, "timesteps_since_restore": 0, "iterations_since_restore": 157, "perf": {"cpu_util_percent": 11.328070175438597, "ram_util_percent": 65.8157894736842}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.482532999999968, "episode_len_mean": 34550.24, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 7510929.5}, "hist_stats": {"episode_reward": [-3.401099999998955, 28.461300000002012, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965], "episode_lengths": [48332, 26729, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095]}, "sampler_perf": {"mean_env_wait_ms": 9.615428566502704, "mean_raw_obs_processing_ms": 0.41398524972298795, "mean_inference_ms": 1.4843646431163995, "mean_action_processing_ms": 0.0933899163127872}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5177344, "timers": {"sample_time_ms": 7015.322, "sample_throughput": 4670.919, "learn_time_ms": 39266.937, "learn_throughput": 834.493, "update_time_ms": 2.835}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.020097777007715e-23, "cur_lr": 5e-05, "total_loss": 0.01076346673653461, "policy_loss": -0.0009946416248567402, "vf_loss": 11.75810473866295, "vf_explained_var": -0.006751690059900284, "kl": 0.0027320580993546173, "entropy": 0.2910317722707987, "entropy_coeff": 0.0}}, "num_steps_sampled": 5177344, "num_steps_trained": 5177344}, "done": false, "episodes_total": 120, "training_iteration": 158, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-14-02", "timestamp": 1611094442, "time_this_iter_s": 40.80050039291382, "time_total_s": 6556.7754781246185, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6556.7754781246185, "timesteps_since_restore": 0, "iterations_since_restore": 158, "perf": {"cpu_util_percent": 12.374137931034484, "ram_util_percent": 67.31034482758619}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 9.183832999999948, "episode_len_mean": 34624.85, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 383830208.0}, "hist_stats": {"episode_reward": [-1.4087000000000787, 14.290399999999742, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955], "episode_lengths": [34190, 27788, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332]}, "sampler_perf": {"mean_env_wait_ms": 9.621045402855515, "mean_raw_obs_processing_ms": 0.41427519010013675, "mean_inference_ms": 1.4855829130886236, "mean_action_processing_ms": 0.09347745097642597}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5210112, "timers": {"sample_time_ms": 6872.572, "sample_throughput": 4767.938, "learn_time_ms": 38226.918, "learn_throughput": 857.197, "update_time_ms": 2.872}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.0100488885038576e-23, "cur_lr": 5e-05, "total_loss": 0.00940950436051935, "policy_loss": -0.0004355652490630746, "vf_loss": 9.845068942988291, "vf_explained_var": -0.007703876122832298, "kl": 0.0015039513036754215, "entropy": 0.25441894633695483, "entropy_coeff": 0.0}}, "num_steps_sampled": 5210112, "num_steps_trained": 5210112}, "done": false, "episodes_total": 121, "training_iteration": 159, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-14-42", "timestamp": 1611094482, "time_this_iter_s": 40.67586302757263, "time_total_s": 6597.451341152191, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6597.451341152191, "timesteps_since_restore": 0, "iterations_since_restore": 159, "perf": {"cpu_util_percent": 12.848275862068967, "ram_util_percent": 67.01551724137931}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 11.126334999999967, "episode_len_mean": 34807.3, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 536997760.0}, "hist_stats": {"episode_reward": [208.54060000000197, 72.72949999999409, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787], "episode_lengths": [46033, 28382, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190]}, "sampler_perf": {"mean_env_wait_ms": 9.627333403508423, "mean_raw_obs_processing_ms": 0.4146348190707666, "mean_inference_ms": 1.4866271881930018, "mean_action_processing_ms": 0.09356969180696906}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5242880, "timers": {"sample_time_ms": 6775.842, "sample_throughput": 4836.004, "learn_time_ms": 37472.709, "learn_throughput": 874.45, "update_time_ms": 2.927}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.0050244442519288e-23, "cur_lr": 5e-05, "total_loss": 0.0037216448108665645, "policy_loss": -0.0003802419232670218, "vf_loss": 4.101888959528878, "vf_explained_var": -0.008111659437417984, "kl": 0.0013902431819587946, "entropy": 0.22128960629925132, "entropy_coeff": 0.0}}, "num_steps_sampled": 5242880, "num_steps_trained": 5242880}, "done": false, "episodes_total": 122, "training_iteration": 160, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-15-24", "timestamp": 1611094524, "time_this_iter_s": 41.88933563232422, "time_total_s": 6639.340676784515, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6639.340676784515, "timesteps_since_restore": 0, "iterations_since_restore": 160, "perf": {"cpu_util_percent": 13.630508474576274, "ram_util_percent": 66.86949152542374}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 10.870090000000022, "episode_len_mean": 35013.31, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 17367046.0}, "hist_stats": {"episode_reward": [47.10499999999923, 389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197], "episode_lengths": [48983, 28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033]}, "sampler_perf": {"mean_env_wait_ms": 9.632437561436136, "mean_raw_obs_processing_ms": 0.4149250472781885, "mean_inference_ms": 1.4877432355681413, "mean_action_processing_ms": 0.09360922861744879}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5275648, "timers": {"sample_time_ms": 6765.877, "sample_throughput": 4843.126, "learn_time_ms": 36779.618, "learn_throughput": 890.928, "update_time_ms": 2.961}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.025122221259644e-24, "cur_lr": 5e-05, "total_loss": 0.0028759358974639326, "policy_loss": -0.0007666120072826743, "vf_loss": 3.6425431987736374, "vf_explained_var": -0.0029530134052038193, "kl": 0.0013304857202456333, "entropy": 0.22160314721986651, "entropy_coeff": 0.0}}, "num_steps_sampled": 5275648, "num_steps_trained": 5275648}, "done": false, "episodes_total": 123, "training_iteration": 161, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-16-05", "timestamp": 1611094565, "time_this_iter_s": 41.228883028030396, "time_total_s": 6680.569559812546, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6680.569559812546, "timesteps_since_restore": 0, "iterations_since_restore": 161, "perf": {"cpu_util_percent": 13.89322033898305, "ram_util_percent": 67.37796610169494}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 389.4546000000035, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 10.870090000000022, "episode_len_mean": 35013.31, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 21339568.0}, "hist_stats": {"episode_reward": [389.4546000000035, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923], "episode_lengths": [28281, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983]}, "sampler_perf": {"mean_env_wait_ms": 9.632437561436134, "mean_raw_obs_processing_ms": 0.41492504727818846, "mean_inference_ms": 1.4877432355681413, "mean_action_processing_ms": 0.09360922861744879}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5308416, "timers": {"sample_time_ms": 6718.108, "sample_throughput": 4877.563, "learn_time_ms": 36056.273, "learn_throughput": 908.802, "update_time_ms": 3.032}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.512561110629822e-24, "cur_lr": 5e-05, "total_loss": 0.004052083531860262, "policy_loss": -0.00032191554782912135, "vf_loss": 4.373996660695411, "vf_explained_var": -0.0015535913407802582, "kl": 0.0006352733580570202, "entropy": 0.24230099841952324, "entropy_coeff": 0.0}}, "num_steps_sampled": 5308416, "num_steps_trained": 5308416}, "done": false, "episodes_total": 123, "training_iteration": 162, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-16-46", "timestamp": 1611094606, "time_this_iter_s": 40.61219620704651, "time_total_s": 6721.181756019592, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6721.181756019592, "timesteps_since_restore": 0, "iterations_since_restore": 162, "perf": {"cpu_util_percent": 13.939655172413794, "ram_util_percent": 67.05344827586208}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 6.954611999999985, "episode_len_mean": 35195.9, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2606076.75}, "hist_stats": {"episode_reward": [-2.093200000000187, 3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923], "episode_lengths": [46540, 13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983]}, "sampler_perf": {"mean_env_wait_ms": 9.63720875245582, "mean_raw_obs_processing_ms": 0.4153656619338979, "mean_inference_ms": 1.4889821076712113, "mean_action_processing_ms": 0.09370104995615329}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5341184, "timers": {"sample_time_ms": 6627.491, "sample_throughput": 4944.254, "learn_time_ms": 35166.465, "learn_throughput": 931.797, "update_time_ms": 3.15}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.256280555314911e-24, "cur_lr": 5e-05, "total_loss": 0.004303971698391251, "policy_loss": -0.0006275177147472277, "vf_loss": 4.931486465327907, "vf_explained_var": -0.010818732902407646, "kl": 0.001368202287267195, "entropy": 0.2688584546558559, "entropy_coeff": 0.0}}, "num_steps_sampled": 5341184, "num_steps_trained": 5341184}, "done": false, "episodes_total": 124, "training_iteration": 163, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-17-25", "timestamp": 1611094645, "time_this_iter_s": 39.30676245689392, "time_total_s": 6760.488518476486, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6760.488518476486, "timesteps_since_restore": 0, "iterations_since_restore": 163, "perf": {"cpu_util_percent": 9.483928571428573, "ram_util_percent": 65.88749999999999}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 6.954611999999985, "episode_len_mean": 35195.9, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 186219920.0}, "hist_stats": {"episode_reward": [3.971800000000485, -52.79439999999747, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187], "episode_lengths": [13797, 29550, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540]}, "sampler_perf": {"mean_env_wait_ms": 9.637208752455821, "mean_raw_obs_processing_ms": 0.4153656619338979, "mean_inference_ms": 1.488982107671211, "mean_action_processing_ms": 0.09370104995615329}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5373952, "timers": {"sample_time_ms": 6506.466, "sample_throughput": 5036.221, "learn_time_ms": 34432.019, "learn_throughput": 951.672, "update_time_ms": 3.042}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.281402776574555e-25, "cur_lr": 5e-05, "total_loss": 0.5545800783438608, "policy_loss": -0.0007090953877195716, "vf_loss": 555.2891337880865, "vf_explained_var": -0.025287877768278122, "kl": 0.002258451535453787, "entropy": 0.22730226907879114, "entropy_coeff": 0.0}}, "num_steps_sampled": 5373952, "num_steps_trained": 5373952}, "done": false, "episodes_total": 124, "training_iteration": 164, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-18-05", "timestamp": 1611094685, "time_this_iter_s": 39.51660633087158, "time_total_s": 6800.005124807358, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6800.005124807358, "timesteps_since_restore": 0, "iterations_since_restore": 164, "perf": {"cpu_util_percent": 9.82280701754386, "ram_util_percent": 65.95964912280701}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.460134999999959, "episode_len_mean": 35332.42, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 789553216.0}, "hist_stats": {"episode_reward": [5.1005000000002845, -3.370799999999811, -29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187], "episode_lengths": [14627, 42372, 30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540]}, "sampler_perf": {"mean_env_wait_ms": 9.645746998291829, "mean_raw_obs_processing_ms": 0.41606633164374285, "mean_inference_ms": 1.4909801170586734, "mean_action_processing_ms": 0.09387387438518666}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5406720, "timers": {"sample_time_ms": 6447.21, "sample_throughput": 5082.508, "learn_time_ms": 34019.848, "learn_throughput": 963.202, "update_time_ms": 3.105}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.1407013882872775e-25, "cur_lr": 5e-05, "total_loss": 0.0036628234665840864, "policy_loss": -0.000210779340704903, "vf_loss": 3.8735919161699712, "vf_explained_var": 0.00303640216588974, "kl": 0.0012067755833413685, "entropy": 0.18998726713471115, "entropy_coeff": 0.0}}, "num_steps_sampled": 5406720, "num_steps_trained": 5406720}, "done": false, "episodes_total": 126, "training_iteration": 165, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-18-45", "timestamp": 1611094725, "time_this_iter_s": 40.303022146224976, "time_total_s": 6840.308146953583, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6840.308146953583, "timesteps_since_restore": 0, "iterations_since_restore": 165, "perf": {"cpu_util_percent": 11.922807017543859, "ram_util_percent": 66.10350877192982}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.460134999999959, "episode_len_mean": 35332.42, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 65413820.0}, "hist_stats": {"episode_reward": [-29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811], "episode_lengths": [30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372]}, "sampler_perf": {"mean_env_wait_ms": 9.645746998291829, "mean_raw_obs_processing_ms": 0.4160663316437428, "mean_inference_ms": 1.4909801170586734, "mean_action_processing_ms": 0.09387387438518666}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5439488, "timers": {"sample_time_ms": 6389.954, "sample_throughput": 5128.049, "learn_time_ms": 34058.476, "learn_throughput": 962.11, "update_time_ms": 3.184}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.5703506941436388e-25, "cur_lr": 5e-05, "total_loss": 0.0028733378276228905, "policy_loss": -0.00021604914218187332, "vf_loss": 3.0893760959152132, "vf_explained_var": -0.010415337979793549, "kl": 0.0007476000773749547, "entropy": 0.17077560652978718, "entropy_coeff": 0.0}}, "num_steps_sampled": 5439488, "num_steps_trained": 5439488}, "done": false, "episodes_total": 126, "training_iteration": 166, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-19-25", "timestamp": 1611094765, "time_this_iter_s": 40.1069278717041, "time_total_s": 6880.415074825287, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6880.415074825287, "timesteps_since_restore": 0, "iterations_since_restore": 166, "perf": {"cpu_util_percent": 12.996491228070175, "ram_util_percent": 66.73684210526315}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.460134999999959, "episode_len_mean": 35332.42, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 25973934.0}, "hist_stats": {"episode_reward": [-29.862400000000314, 20.41809999999849, -9.923300000006435, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811], "episode_lengths": [30660, 30669, 17623, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372]}, "sampler_perf": {"mean_env_wait_ms": 9.645746998291829, "mean_raw_obs_processing_ms": 0.4160663316437428, "mean_inference_ms": 1.4909801170586734, "mean_action_processing_ms": 0.09387387438518666}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5472256, "timers": {"sample_time_ms": 6385.199, "sample_throughput": 5131.868, "learn_time_ms": 34080.008, "learn_throughput": 961.502, "update_time_ms": 3.229}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.851753470718194e-26, "cur_lr": 5e-05, "total_loss": 0.0023983301362022758, "policy_loss": -0.00039060640847310424, "vf_loss": 2.788943914696574, "vf_explained_var": 0.005658335983753204, "kl": 0.000836856853311474, "entropy": 0.19828957645222545, "entropy_coeff": 0.0}}, "num_steps_sampled": 5472256, "num_steps_trained": 5472256}, "done": false, "episodes_total": 126, "training_iteration": 167, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-20-06", "timestamp": 1611094806, "time_this_iter_s": 40.29838848114014, "time_total_s": 6920.713463306427, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6920.713463306427, "timesteps_since_restore": 0, "iterations_since_restore": 167, "perf": {"cpu_util_percent": 11.235087719298246, "ram_util_percent": 69.77894736842106}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.932657000000045, "episode_len_mean": 35548.21, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4019289856.0}, "hist_stats": {"episode_reward": [17.204899999999952, 7.902700000000145, 2.777000000000214, -20.16240000000026, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811], "episode_lengths": [14755, 48667, 37109, 13022, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372]}, "sampler_perf": {"mean_env_wait_ms": 9.655652708845816, "mean_raw_obs_processing_ms": 0.4170051740090202, "mean_inference_ms": 1.49392271097277, "mean_action_processing_ms": 0.0940102635345076}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5505024, "timers": {"sample_time_ms": 6353.693, "sample_throughput": 5157.315, "learn_time_ms": 34180.678, "learn_throughput": 958.67, "update_time_ms": 3.249}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.925876735359097e-26, "cur_lr": 5e-05, "total_loss": 0.0017017869977280498, "policy_loss": -0.0005802452797070146, "vf_loss": 2.282029867172241, "vf_explained_var": -0.007645554840564728, "kl": 0.002044348289928166, "entropy": 0.15656162844970822, "entropy_coeff": 0.0}}, "num_steps_sampled": 5505024, "num_steps_trained": 5505024}, "done": false, "episodes_total": 129, "training_iteration": 168, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-20-47", "timestamp": 1611094847, "time_this_iter_s": 41.49199366569519, "time_total_s": 6962.205456972122, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 6962.205456972122, "timesteps_since_restore": 0, "iterations_since_restore": 168, "perf": {"cpu_util_percent": 13.103389830508476, "ram_util_percent": 68.29830508474575}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.234037000000052, "episode_len_mean": 35561.08, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5959995.5}, "hist_stats": {"episode_reward": [9.975600000000696, 31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214], "episode_lengths": [14309, 32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109]}, "sampler_perf": {"mean_env_wait_ms": 9.660131671945019, "mean_raw_obs_processing_ms": 0.41740429056167855, "mean_inference_ms": 1.494909907584339, "mean_action_processing_ms": 0.0941033480402111}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5537792, "timers": {"sample_time_ms": 6373.255, "sample_throughput": 5141.485, "learn_time_ms": 34208.816, "learn_throughput": 957.882, "update_time_ms": 3.216}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.9629383676795484e-26, "cur_lr": 5e-05, "total_loss": 0.03558166843140498, "policy_loss": -0.000406544073484838, "vf_loss": 35.988207165617496, "vf_explained_var": 0.0038108937442302704, "kl": 0.001650690870519611, "entropy": 0.11683088692370802, "entropy_coeff": 0.0}}, "num_steps_sampled": 5537792, "num_steps_trained": 5537792}, "done": false, "episodes_total": 130, "training_iteration": 169, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-21-28", "timestamp": 1611094888, "time_this_iter_s": 41.15194654464722, "time_total_s": 7003.357403516769, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7003.357403516769, "timesteps_since_restore": 0, "iterations_since_restore": 169, "perf": {"cpu_util_percent": 13.357627118644068, "ram_util_percent": 70.01525423728813}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.234037000000052, "episode_len_mean": 35561.08, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 10228747264.0}, "hist_stats": {"episode_reward": [31.340000000001275, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696], "episode_lengths": [32687, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309]}, "sampler_perf": {"mean_env_wait_ms": 9.660131671945019, "mean_raw_obs_processing_ms": 0.4174042905616786, "mean_inference_ms": 1.4949099075843386, "mean_action_processing_ms": 0.0941033480402111}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5570560, "timers": {"sample_time_ms": 6360.919, "sample_throughput": 5151.457, "learn_time_ms": 34055.129, "learn_throughput": 962.205, "update_time_ms": 3.143}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.814691838397742e-27, "cur_lr": 5e-05, "total_loss": 0.0037486214423552155, "policy_loss": -0.00035863445373252034, "vf_loss": 4.107258843490854, "vf_explained_var": -0.015841826796531677, "kl": 0.0008286240972665837, "entropy": 0.12397371488623321, "entropy_coeff": 0.0}}, "num_steps_sampled": 5570560, "num_steps_trained": 5570560}, "done": false, "episodes_total": 130, "training_iteration": 170, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-22-09", "timestamp": 1611094929, "time_this_iter_s": 40.22754764556885, "time_total_s": 7043.584951162338, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7043.584951162338, "timesteps_since_restore": 0, "iterations_since_restore": 170, "perf": {"cpu_util_percent": 10.782456140350877, "ram_util_percent": 70.05614035087719}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.778204000000034, "episode_len_mean": 35788.77, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 60902340.0}, "hist_stats": {"episode_reward": [-14.243300000000566, -3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696], "episode_lengths": [55456, 33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309]}, "sampler_perf": {"mean_env_wait_ms": 9.665418831384589, "mean_raw_obs_processing_ms": 0.41781674585805867, "mean_inference_ms": 1.4958425162191094, "mean_action_processing_ms": 0.0941690084037747}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5603328, "timers": {"sample_time_ms": 6305.067, "sample_throughput": 5197.09, "learn_time_ms": 33993.191, "learn_throughput": 963.958, "update_time_ms": 2.974}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.907345919198871e-27, "cur_lr": 5e-05, "total_loss": 0.001745093148201704, "policy_loss": -0.00036379668745212257, "vf_loss": 2.1088910597609356, "vf_explained_var": -0.022800719365477562, "kl": 0.0005947667459622608, "entropy": 0.14179300633259118, "entropy_coeff": 0.0}}, "num_steps_sampled": 5603328, "num_steps_trained": 5603328}, "done": false, "episodes_total": 131, "training_iteration": 171, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-22-49", "timestamp": 1611094969, "time_this_iter_s": 40.050074100494385, "time_total_s": 7083.635025262833, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7083.635025262833, "timesteps_since_restore": 0, "iterations_since_restore": 171, "perf": {"cpu_util_percent": 10.39298245614035, "ram_util_percent": 69.99824561403508}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 7.778204000000037, "episode_len_mean": 35788.77, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 36104175616.0}, "hist_stats": {"episode_reward": [-3.1845000000004404, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566], "episode_lengths": [33214, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456]}, "sampler_perf": {"mean_env_wait_ms": 9.665418831384589, "mean_raw_obs_processing_ms": 0.4178167458580587, "mean_inference_ms": 1.4958425162191094, "mean_action_processing_ms": 0.09416900840377469}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5636096, "timers": {"sample_time_ms": 6279.093, "sample_throughput": 5218.588, "learn_time_ms": 33934.819, "learn_throughput": 965.616, "update_time_ms": 2.887}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.4536729595994356e-27, "cur_lr": 5e-05, "total_loss": 0.0020319200993981212, "policy_loss": -0.0002251265468657948, "vf_loss": 2.2570489569334313, "vf_explained_var": -0.014443736523389816, "kl": 0.0005480755735334242, "entropy": 0.16838884796015918, "entropy_coeff": 0.0}}, "num_steps_sampled": 5636096, "num_steps_trained": 5636096}, "done": false, "episodes_total": 131, "training_iteration": 172, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-23-29", "timestamp": 1611095009, "time_this_iter_s": 39.76657509803772, "time_total_s": 7123.40160036087, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7123.40160036087, "timesteps_since_restore": 0, "iterations_since_restore": 172, "perf": {"cpu_util_percent": 10.817543859649124, "ram_util_percent": 70.0298245614035}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.039188000000038, "episode_len_mean": 35986.08, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 33182320.0}, "hist_stats": {"episode_reward": [22.913899999999643, -17.53939999999998, 15.420199999998843, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566], "episode_lengths": [52945, 33240, 33721, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456]}, "sampler_perf": {"mean_env_wait_ms": 9.669848139841982, "mean_raw_obs_processing_ms": 0.41822788144530454, "mean_inference_ms": 1.4969330895817419, "mean_action_processing_ms": 0.09424889005914285}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5668864, "timers": {"sample_time_ms": 6296.343, "sample_throughput": 5204.291, "learn_time_ms": 34176.152, "learn_throughput": 958.797, "update_time_ms": 2.889}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.2268364797997178e-27, "cur_lr": 5e-05, "total_loss": 0.0015537734725512564, "policy_loss": -0.000578854262130335, "vf_loss": 2.1326271829893813, "vf_explained_var": -0.0013388507068157196, "kl": 0.0009635922388042673, "entropy": 0.20167038217186928, "entropy_coeff": 0.0}}, "num_steps_sampled": 5668864, "num_steps_trained": 5668864}, "done": false, "episodes_total": 132, "training_iteration": 173, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-24-10", "timestamp": 1611095050, "time_this_iter_s": 41.892333984375, "time_total_s": 7165.293934345245, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7165.293934345245, "timesteps_since_restore": 0, "iterations_since_restore": 173, "perf": {"cpu_util_percent": 11.196666666666665, "ram_util_percent": 70.08833333333334}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.405205000000036, "episode_len_mean": 35899.63, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 49822568.0}, "hist_stats": {"episode_reward": [2.5997999999993624, 31.882699999999247, -23.843699999999835, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643], "episode_lengths": [43796, 14520, 16585, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945]}, "sampler_perf": {"mean_env_wait_ms": 9.681038039319182, "mean_raw_obs_processing_ms": 0.4188316309033333, "mean_inference_ms": 1.4988234996303578, "mean_action_processing_ms": 0.09438979023974126}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5701632, "timers": {"sample_time_ms": 6332.149, "sample_throughput": 5174.862, "learn_time_ms": 34323.63, "learn_throughput": 954.678, "update_time_ms": 3.04}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.134182398998589e-28, "cur_lr": 5e-05, "total_loss": 0.0013051227433606982, "policy_loss": -0.00029224209720268846, "vf_loss": 1.5973587294574827, "vf_explained_var": 0.013375703245401382, "kl": 0.0016131330648931907, "entropy": 0.16702087060548365, "entropy_coeff": 0.0}}, "num_steps_sampled": 5701632, "num_steps_trained": 5701632}, "done": false, "episodes_total": 134, "training_iteration": 174, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-24-52", "timestamp": 1611095092, "time_this_iter_s": 41.351154804229736, "time_total_s": 7206.645089149475, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7206.645089149475, "timesteps_since_restore": 0, "iterations_since_restore": 174, "perf": {"cpu_util_percent": 13.84406779661017, "ram_util_percent": 67.27457627118643}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.851355000000034, "episode_len_mean": 36029.08, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 12909552.0}, "hist_stats": {"episode_reward": [20.771299999999876, 7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247], "episode_lengths": [29530, 35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520]}, "sampler_perf": {"mean_env_wait_ms": 9.687176533295764, "mean_raw_obs_processing_ms": 0.419061245841586, "mean_inference_ms": 1.4998059909122685, "mean_action_processing_ms": 0.09447145122736457}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5734400, "timers": {"sample_time_ms": 6342.911, "sample_throughput": 5166.083, "learn_time_ms": 34440.006, "learn_throughput": 951.452, "update_time_ms": 3.118}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0670911994992944e-28, "cur_lr": 5e-05, "total_loss": 0.009401239833096042, "policy_loss": -0.0003503158804960549, "vf_loss": 9.751558366871905, "vf_explained_var": -0.013090584427118301, "kl": 0.0007702907669226988, "entropy": 0.18930493970401585, "entropy_coeff": 0.0}}, "num_steps_sampled": 5734400, "num_steps_trained": 5734400}, "done": false, "episodes_total": 135, "training_iteration": 175, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-25-33", "timestamp": 1611095133, "time_this_iter_s": 41.574864625930786, "time_total_s": 7248.219953775406, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7248.219953775406, "timesteps_since_restore": 0, "iterations_since_restore": 175, "perf": {"cpu_util_percent": 13.500000000000002, "ram_util_percent": 70.00677966101695}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.851355000000034, "episode_len_mean": 36029.08, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 699676608.0}, "hist_stats": {"episode_reward": [7.727799999999721, -0.7079000000002384, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247, 20.771299999999876], "episode_lengths": [35544, 18019, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520, 29530]}, "sampler_perf": {"mean_env_wait_ms": 9.687176533295762, "mean_raw_obs_processing_ms": 0.419061245841586, "mean_inference_ms": 1.4998059909122683, "mean_action_processing_ms": 0.09447145122736454}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5767168, "timers": {"sample_time_ms": 6381.864, "sample_throughput": 5134.55, "learn_time_ms": 34522.637, "learn_throughput": 949.174, "update_time_ms": 3.019}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.5335455997496472e-28, "cur_lr": 5e-05, "total_loss": 0.0026211313088424504, "policy_loss": -0.00033972898381762207, "vf_loss": 2.960870047681965, "vf_explained_var": -0.010980023071169853, "kl": 0.0013667259036083124, "entropy": 0.15356515278108418, "entropy_coeff": 0.0}}, "num_steps_sampled": 5767168, "num_steps_trained": 5767168}, "done": false, "episodes_total": 135, "training_iteration": 176, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-26-15", "timestamp": 1611095175, "time_this_iter_s": 41.32333970069885, "time_total_s": 7289.543293476105, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7289.543293476105, "timesteps_since_restore": 0, "iterations_since_restore": 176, "perf": {"cpu_util_percent": 12.016949152542374, "ram_util_percent": 67.52542372881356}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.891195000000039, "episode_len_mean": 36258.65, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 33256168.0}, "hist_stats": {"episode_reward": [10.97749999999997, 0.026400000000187163, 10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247, 20.771299999999876], "episode_lengths": [27043, 49477, 35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520, 29530]}, "sampler_perf": {"mean_env_wait_ms": 9.695773147024886, "mean_raw_obs_processing_ms": 0.4195846304833973, "mean_inference_ms": 1.5017454077772379, "mean_action_processing_ms": 0.0946164277377534}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5799936, "timers": {"sample_time_ms": 6385.545, "sample_throughput": 5131.59, "learn_time_ms": 34658.242, "learn_throughput": 945.461, "update_time_ms": 2.892}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.667727998748236e-29, "cur_lr": 5e-05, "total_loss": 0.002808823875966482, "policy_loss": -0.000166184596309904, "vf_loss": 2.975005757441977, "vf_explained_var": -0.021333983168005943, "kl": 0.00046003585748621845, "entropy": 0.16606231778860092, "entropy_coeff": 0.0}}, "num_steps_sampled": 5799936, "num_steps_trained": 5799936}, "done": false, "episodes_total": 137, "training_iteration": 177, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-26-56", "timestamp": 1611095216, "time_this_iter_s": 41.69041633605957, "time_total_s": 7331.233709812164, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7331.233709812164, "timesteps_since_restore": 0, "iterations_since_restore": 177, "perf": {"cpu_util_percent": 13.60508474576271, "ram_util_percent": 69.73050847457628}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.891195000000039, "episode_len_mean": 36258.65, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 68138368.0}, "hist_stats": {"episode_reward": [10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247, 20.771299999999876, 10.97749999999997, 0.026400000000187163], "episode_lengths": [35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520, 29530, 27043, 49477]}, "sampler_perf": {"mean_env_wait_ms": 9.695773147024887, "mean_raw_obs_processing_ms": 0.4195846304833973, "mean_inference_ms": 1.5017454077772376, "mean_action_processing_ms": 0.09461642773775343}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5832704, "timers": {"sample_time_ms": 6401.146, "sample_throughput": 5119.084, "learn_time_ms": 34613.622, "learn_throughput": 946.679, "update_time_ms": 3.0}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.833863999374118e-29, "cur_lr": 5e-05, "total_loss": 0.0024349156592506915, "policy_loss": -0.00041003088699653745, "vf_loss": 2.8449533593375236, "vf_explained_var": -0.006840938702225685, "kl": 0.0013116562349750893, "entropy": 0.13578818808309734, "entropy_coeff": 0.0}}, "num_steps_sampled": 5832704, "num_steps_trained": 5832704}, "done": false, "episodes_total": 137, "training_iteration": 178, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-27-38", "timestamp": 1611095258, "time_this_iter_s": 41.203176498413086, "time_total_s": 7372.436886310577, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7372.436886310577, "timesteps_since_restore": 0, "iterations_since_restore": 178, "perf": {"cpu_util_percent": 11.132203389830508, "ram_util_percent": 67.71016949152542}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.891195000000039, "episode_len_mean": 36258.65, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 21550338.0}, "hist_stats": {"episode_reward": [10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247, 20.771299999999876, 10.97749999999997, 0.026400000000187163], "episode_lengths": [35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520, 29530, 27043, 49477]}, "sampler_perf": {"mean_env_wait_ms": 9.695773147024887, "mean_raw_obs_processing_ms": 0.4195846304833973, "mean_inference_ms": 1.5017454077772376, "mean_action_processing_ms": 0.09461642773775343}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5865472, "timers": {"sample_time_ms": 6380.521, "sample_throughput": 5135.631, "learn_time_ms": 34446.581, "learn_throughput": 951.27, "update_time_ms": 2.998}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.916931999687059e-29, "cur_lr": 5e-05, "total_loss": 0.00204357469920069, "policy_loss": -0.00028086770907975733, "vf_loss": 2.3244365048594773, "vf_explained_var": -0.009175147861242294, "kl": 0.0006879378343001008, "entropy": 0.14667013217695057, "entropy_coeff": 0.0}}, "num_steps_sampled": 5865472, "num_steps_trained": 5865472}, "done": false, "episodes_total": 137, "training_iteration": 179, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-28-17", "timestamp": 1611095297, "time_this_iter_s": 39.27657961845398, "time_total_s": 7411.713465929031, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7411.713465929031, "timesteps_since_restore": 0, "iterations_since_restore": 179, "perf": {"cpu_util_percent": 9.991071428571429, "ram_util_percent": 66.1625}, "trial_id": "9cb01_00000"}
{"episode_reward_max": 335.13839999999493, "episode_reward_min": -359.4948000000042, "episode_reward_mean": 8.891195000000039, "episode_len_mean": 36258.65, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 31523124.0}, "hist_stats": {"episode_reward": [10.061600000000237, 10.308800000000106, -20.485500000001725, 1.00989999999981, 24.931099999999404, 9.04150000000034, -16.436700000000755, 17.569599999998893, 18.450500000003913, -10.601799999999795, -33.14240000000105, 2.7613000000015937, -4.7474999999984675, 13.927900000005309, -39.07960000000052, -11.849900000003458, -31.56880000000131, -12.833099999995, 30.361899999998997, 69.26969999999415, 4.87629999999924, 3.7606999999999235, 9.22750000000135, 4.733100000000292, 2.0686000000002593, 13.66870000000051, 10.71240000000111, 11.177200000001193, -29.811299999998653, 32.03340000000059, 1.1571000000005398, 50.69090000000135, -13.128100000000082, 63.8841000000011, -32.48020000000047, -27.514899999997425, 35.65750000000102, 88.30679999999768, -14.927599999999574, 73.27260000000231, 14.1534000000002, -17.528700000001308, 1.0649000000000015, 27.34229999999927, -17.472200000000292, 4.3529000000000195, -32.032800000000584, -2.3628999999985076, -10.151699999999082, 1.6380999999999588, 180.55030000000014, -11.694500000000097, 4.236200000000206, -4.825599999998971, -2.7817999999999614, 29.829200000000668, 50.37210000000047, -8.196299999999944, 335.13839999999493, -24.30929999999975, -5.818600000000135, 17.133100000000027, -18.13289999999963, -0.9720000000009392, -32.886600000000044, -20.698999999999472, 7.420800000000469, -13.125100000000362, -1.3009000000010786, -66.33349999999997, 5.604800000000708, 6.409100000000013, -3.8943999999998766, -12.715699999999202, 39.23499999999794, 32.108699999999494, -359.4948000000042, 1.179699999999789, 27.28560000000038, 8.979500000000286, 20.655599999998493, 63.58499999999965, -3.401099999998955, -1.4087000000000787, 208.54060000000197, 47.10499999999923, -2.093200000000187, 5.1005000000002845, -3.370799999999811, 17.204899999999952, 7.902700000000145, 2.777000000000214, 9.975600000000696, -14.243300000000566, 22.913899999999643, 2.5997999999993624, 31.882699999999247, 20.771299999999876, 10.97749999999997, 0.026400000000187163], "episode_lengths": [35815, 35862, 36649, 16173, 37007, 38696, 39974, 40732, 13097, 21236, 41913, 44989, 44922, 45452, 45221, 45244, 26431, 46184, 20598, 46791, 17718, 11429, 20236, 48056, 47905, 47918, 48570, 48650, 48743, 48831, 39998, 50942, 28631, 52342, 30297, 53431, 54762, 18816, 39118, 54786, 55826, 14566, 17402, 57421, 58805, 41084, 59562, 59503, 28946, 12263, 32800, 17969, 15104, 23622, 12084, 30952, 39248, 47932, 46456, 19896, 19939, 19019, 41262, 26977, 26917, 46671, 22179, 49204, 19564, 59912, 16858, 19081, 29552, 21527, 20048, 40364, 52790, 31748, 30791, 51917, 39160, 46095, 48332, 34190, 46033, 48983, 46540, 14627, 42372, 14755, 48667, 37109, 14309, 55456, 52945, 43796, 14520, 29530, 27043, 49477]}, "sampler_perf": {"mean_env_wait_ms": 9.695773147024887, "mean_raw_obs_processing_ms": 0.4195846304833973, "mean_inference_ms": 1.5017454077772376, "mean_action_processing_ms": 0.09461642773775343}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5898240, "timers": {"sample_time_ms": 6362.926, "sample_throughput": 5149.832, "learn_time_ms": 34450.973, "learn_throughput": 951.149, "update_time_ms": 3.041}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.584659998435295e-30, "cur_lr": 5e-05, "total_loss": 0.0027091141673736274, "policy_loss": -0.0004704840830527246, "vf_loss": 3.17959425249137, "vf_explained_var": -0.016267646104097366, "kl": 0.001085058326680155, "entropy": 0.12311725877225399, "entropy_coeff": 0.0}}, "num_steps_sampled": 5898240, "num_steps_trained": 5898240}, "done": false, "episodes_total": 137, "training_iteration": 180, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-19_17-28-57", "timestamp": 1611095337, "time_this_iter_s": 40.095566749572754, "time_total_s": 7451.809032678604, "pid": 58118, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-10-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 7451.809032678604, "timesteps_since_restore": 0, "iterations_since_restore": 180, "perf": {"cpu_util_percent": 10.187719298245614, "ram_util_percent": 66.13684210526316}, "trial_id": "9cb01_00000"}
