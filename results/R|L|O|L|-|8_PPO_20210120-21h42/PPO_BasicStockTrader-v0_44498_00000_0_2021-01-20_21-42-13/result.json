{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 16310257664.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 3840, "timers": {"sample_time_ms": 1293.59, "sample_throughput": 2968.483, "learn_time_ms": 16745.526, "learn_throughput": 229.315, "update_time_ms": 3.791}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.2, "cur_lr": 5e-05, "total_loss": 0.05766827465049573, "policy_loss": 0.03774360177339986, "vf_loss": 23.24010308086872, "vf_explained_var": -0.0017316080629825592, "kl": 0.0995071274228394, "entropy": 1.731993194669485, "entropy_coeff": 0.0}}, "num_steps_sampled": 3840, "num_steps_trained": 3840}, "done": false, "episodes_total": 0, "training_iteration": 1, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-47-00", "timestamp": 1611197220, "time_this_iter_s": 18.047862768173218, "time_total_s": 18.047862768173218, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 18.047862768173218, "timesteps_since_restore": 0, "iterations_since_restore": 1, "perf": {"cpu_util_percent": 11.626923076923077, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 72654368.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7680, "timers": {"sample_time_ms": 1283.678, "sample_throughput": 2991.404, "learn_time_ms": 16593.478, "learn_throughput": 231.416, "update_time_ms": 3.499}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.30000000000000004, "cur_lr": 5e-05, "total_loss": 0.07693349191686139, "policy_loss": 0.050325926233199425, "vf_loss": 9.37323163729161, "vf_explained_var": -0.04422549530863762, "kl": 0.08866066148038954, "entropy": 1.727981485426426, "entropy_coeff": 0.0}}, "num_steps_sampled": 7680, "num_steps_trained": 7680}, "done": false, "episodes_total": 0, "training_iteration": 2, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-47-18", "timestamp": 1611197238, "time_this_iter_s": 17.723484754562378, "time_total_s": 35.771347522735596, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 35.771347522735596, "timesteps_since_restore": 0, "iterations_since_restore": 2, "perf": {"cpu_util_percent": 9.753846153846153, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8753835008.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 11520, "timers": {"sample_time_ms": 1319.049, "sample_throughput": 2911.187, "learn_time_ms": 16621.74, "learn_throughput": 231.023, "update_time_ms": 3.564}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.45000000000000007, "cur_lr": 5e-05, "total_loss": 0.04260602092836052, "policy_loss": 0.012054480295773828, "vf_loss": 16.794686912558973, "vf_explained_var": -0.03719648718833923, "kl": 0.06785502011189237, "entropy": 1.6612815372645855, "entropy_coeff": 0.0}}, "num_steps_sampled": 11520, "num_steps_trained": 11520}, "done": false, "episodes_total": 0, "training_iteration": 3, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-47-36", "timestamp": 1611197256, "time_this_iter_s": 18.076340198516846, "time_total_s": 53.84768772125244, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 53.84768772125244, "timesteps_since_restore": 0, "iterations_since_restore": 3, "perf": {"cpu_util_percent": 10.148, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 712886592.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 15360, "timers": {"sample_time_ms": 1330.645, "sample_throughput": 2885.819, "learn_time_ms": 16670.857, "learn_throughput": 230.342, "update_time_ms": 3.476}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.675, "cur_lr": 5e-05, "total_loss": 0.061664291613851674, "policy_loss": 0.0209718812295705, "vf_loss": 10.724182140082121, "vf_explained_var": -0.057054854929447174, "kl": 0.06026915635447949, "entropy": 1.7117774412035942, "entropy_coeff": 0.0}}, "num_steps_sampled": 15360, "num_steps_trained": 15360}, "done": false, "episodes_total": 0, "training_iteration": 4, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-47-55", "timestamp": 1611197275, "time_this_iter_s": 18.19210147857666, "time_total_s": 72.0397891998291, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 72.0397891998291, "timesteps_since_restore": 0, "iterations_since_restore": 4, "perf": {"cpu_util_percent": 10.426923076923076, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 154855456.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 19200, "timers": {"sample_time_ms": 1327.791, "sample_throughput": 2892.022, "learn_time_ms": 16728.023, "learn_throughput": 229.555, "update_time_ms": 3.474}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.0125000000000002, "cur_lr": 5e-05, "total_loss": 0.04865864879684523, "policy_loss": 0.008293869468616322, "vf_loss": 11.406630299054086, "vf_explained_var": -0.030423248186707497, "kl": 0.03985518202534877, "entropy": 1.7088969387114048, "entropy_coeff": 0.0}}, "num_steps_sampled": 19200, "num_steps_trained": 19200}, "done": false, "episodes_total": 0, "training_iteration": 5, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-48-13", "timestamp": 1611197293, "time_this_iter_s": 18.282150268554688, "time_total_s": 90.32193946838379, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 90.32193946838379, "timesteps_since_restore": 0, "iterations_since_restore": 5, "perf": {"cpu_util_percent": 10.096153846153847, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 9719146496.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 23040, "timers": {"sample_time_ms": 1336.885, "sample_throughput": 2872.348, "learn_time_ms": 16783.086, "learn_throughput": 228.802, "update_time_ms": 3.385}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.5187500000000003, "cur_lr": 5e-05, "total_loss": 0.062301543810463045, "policy_loss": 0.004750096413772553, "vf_loss": 12.684908473864198, "vf_explained_var": -0.05281227082014084, "kl": 0.03788560733664781, "entropy": 1.712125614285469, "entropy_coeff": 0.0}}, "num_steps_sampled": 23040, "num_steps_trained": 23040}, "done": false, "episodes_total": 0, "training_iteration": 6, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-48-31", "timestamp": 1611197311, "time_this_iter_s": 18.448771953582764, "time_total_s": 108.77071142196655, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 108.77071142196655, "timesteps_since_restore": 0, "iterations_since_restore": 6, "perf": {"cpu_util_percent": 10.485185185185186, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 524187360.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 26880, "timers": {"sample_time_ms": 1342.88, "sample_throughput": 2859.526, "learn_time_ms": 16878.004, "learn_throughput": 227.515, "update_time_ms": 3.441}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.278125, "cur_lr": 5e-05, "total_loss": 0.05762003402924165, "policy_loss": 0.0029161818674765527, "vf_loss": 12.033591925632209, "vf_explained_var": -0.10038192570209503, "kl": 0.02400738393771462, "entropy": 1.7515359595417976, "entropy_coeff": 0.0}}, "num_steps_sampled": 26880, "num_steps_trained": 26880}, "done": false, "episodes_total": 0, "training_iteration": 7, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-48-50", "timestamp": 1611197330, "time_this_iter_s": 18.83498239517212, "time_total_s": 127.60569381713867, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 127.60569381713867, "timesteps_since_restore": 0, "iterations_since_restore": 7, "perf": {"cpu_util_percent": 10.696296296296298, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 171553616.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 30720, "timers": {"sample_time_ms": 1340.319, "sample_throughput": 2864.99, "learn_time_ms": 16844.054, "learn_throughput": 227.974, "update_time_ms": 3.484}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4171875000000003, "cur_lr": 5e-05, "total_loss": 0.05186269405112398, "policy_loss": 0.00037923275158391334, "vf_loss": 9.263387682149187, "vf_explained_var": -0.04593457281589508, "kl": 0.015063320330227725, "entropy": 1.7795389108359814, "entropy_coeff": 0.0}}, "num_steps_sampled": 30720, "num_steps_trained": 30720}, "done": false, "episodes_total": 0, "training_iteration": 8, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-49-08", "timestamp": 1611197348, "time_this_iter_s": 17.937152862548828, "time_total_s": 145.5428466796875, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 145.5428466796875, "timesteps_since_restore": 0, "iterations_since_restore": 8, "perf": {"cpu_util_percent": 10.748000000000001, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 7.121044907976382, "episode_reward_min": 7.121044907976382, "episode_reward_mean": 7.121044907976382, "episode_len_mean": 508.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 626705472.0}, "hist_stats": {"episode_reward": [7.121044907976382], "episode_lengths": [508]}, "sampler_perf": {"mean_env_wait_ms": 18.69806432459579, "mean_raw_obs_processing_ms": 0.5248888583368383, "mean_inference_ms": 1.824616504464705, "mean_action_processing_ms": 0.10880657132584154}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 34560, "timers": {"sample_time_ms": 1337.358, "sample_throughput": 2871.333, "learn_time_ms": 16849.732, "learn_throughput": 227.897, "update_time_ms": 3.373}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4171875000000003, "cur_lr": 5e-05, "total_loss": 0.02853824821067974, "policy_loss": 0.001004105492029339, "vf_loss": 8.492689194623381, "vf_explained_var": -0.03305169194936752, "kl": 0.008055058708123397, "entropy": 1.76287991553545, "entropy_coeff": 0.0}}, "num_steps_sampled": 34560, "num_steps_trained": 34560}, "done": false, "episodes_total": 1, "training_iteration": 9, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-49-26", "timestamp": 1611197366, "time_this_iter_s": 18.215677976608276, "time_total_s": 163.75852465629578, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 163.75852465629578, "timesteps_since_restore": 0, "iterations_since_restore": 9, "perf": {"cpu_util_percent": 10.565384615384618, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 45.03969747350406, "episode_reward_min": -3.358444419123253, "episode_reward_mean": 14.340194771757039, "episode_len_mean": 547.5, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 684511616.0}, "hist_stats": {"episode_reward": [8.558481124670962, -3.358444419123253, 45.03969747350406, 7.121044907976382], "episode_lengths": [545, 571, 566, 508]}, "sampler_perf": {"mean_env_wait_ms": 18.405507582727026, "mean_raw_obs_processing_ms": 0.5151346406489024, "mean_inference_ms": 1.8012099950552125, "mean_action_processing_ms": 0.10753719959801483}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 38400, "timers": {"sample_time_ms": 1343.921, "sample_throughput": 2857.311, "learn_time_ms": 16903.848, "learn_throughput": 227.167, "update_time_ms": 3.34}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4171875000000003, "cur_lr": 5e-05, "total_loss": 0.017361421196255833, "policy_loss": -0.0026213821838609874, "vf_loss": 5.853049356490374, "vf_explained_var": -0.030500536784529686, "kl": 0.005846021242177812, "entropy": 1.7607855387032032, "entropy_coeff": 0.0}}, "num_steps_sampled": 38400, "num_steps_trained": 38400}, "done": false, "episodes_total": 4, "training_iteration": 10, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-49-45", "timestamp": 1611197385, "time_this_iter_s": 18.803534269332886, "time_total_s": 182.56205892562866, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 182.56205892562866, "timesteps_since_restore": 0, "iterations_since_restore": 10, "perf": {"cpu_util_percent": 10.51111111111111, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 47.04674304659029, "episode_reward_min": -3.358444419123253, "episode_reward_mean": 18.07594897767921, "episode_len_mean": 582.5714285714286, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 371389312.0}, "hist_stats": {"episode_reward": [10.702512679182664, 47.04674304659029, 11.421608030953374, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406], "episode_lengths": [607, 632, 649, 508, 545, 571, 566]}, "sampler_perf": {"mean_env_wait_ms": 18.498696055433808, "mean_raw_obs_processing_ms": 0.5157644204246062, "mean_inference_ms": 1.8055030446340363, "mean_action_processing_ms": 0.10814539782716805}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 42240, "timers": {"sample_time_ms": 1347.452, "sample_throughput": 2849.823, "learn_time_ms": 16930.655, "learn_throughput": 226.808, "update_time_ms": 3.259}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4171875000000003, "cur_lr": 5e-05, "total_loss": 0.012121939653297886, "policy_loss": -0.003119534463621676, "vf_loss": 2.425561028532684, "vf_explained_var": -0.011493643745779991, "kl": 0.004459528594452422, "entropy": 1.7488357909023762, "entropy_coeff": 0.0}}, "num_steps_sampled": 42240, "num_steps_trained": 42240}, "done": false, "episodes_total": 7, "training_iteration": 11, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-50-03", "timestamp": 1611197403, "time_this_iter_s": 18.35109543800354, "time_total_s": 200.9131543636322, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 200.9131543636322, "timesteps_since_restore": 0, "iterations_since_restore": 11, "perf": {"cpu_util_percent": 10.638461538461538, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 47.04674304659029, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.783184137537038, "episode_len_mean": 615.2, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 486451680.0}, "hist_stats": {"episode_reward": [4.534629003053394, 4.369260977402776, -107.60369144884027, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374], "episode_lengths": [674, 717, 683, 508, 545, 571, 566, 607, 632, 649]}, "sampler_perf": {"mean_env_wait_ms": 18.623469956502355, "mean_raw_obs_processing_ms": 0.515949897345833, "mean_inference_ms": 1.809778860200072, "mean_action_processing_ms": 0.10847609923222361}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 46080, "timers": {"sample_time_ms": 1370.593, "sample_throughput": 2801.707, "learn_time_ms": 16996.453, "learn_throughput": 225.929, "update_time_ms": 3.232}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7085937500000001, "cur_lr": 5e-05, "total_loss": 0.015383585705421865, "policy_loss": -0.00367046520113945, "vf_loss": 4.855657721636817, "vf_explained_var": 0.044212643057107925, "kl": 0.011149050587846432, "entropy": 1.76969700679183, "entropy_coeff": 0.0}}, "num_steps_sampled": 46080, "num_steps_trained": 46080}, "done": false, "episodes_total": 10, "training_iteration": 12, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-50-22", "timestamp": 1611197422, "time_this_iter_s": 18.612989902496338, "time_total_s": 219.52614426612854, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 219.52614426612854, "timesteps_since_restore": 0, "iterations_since_restore": 12, "perf": {"cpu_util_percent": 10.418518518518518, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 47.04674304659029, "episode_reward_min": -107.60369144884027, "episode_reward_mean": -0.7431727374306448, "episode_len_mean": 649.0, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 561427456.0}, "hist_stats": {"episode_reward": [25.25621131519552, -25.88836717468147, -36.86093110248282, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027], "episode_lengths": [766, 778, 741, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683]}, "sampler_perf": {"mean_env_wait_ms": 18.61180248226538, "mean_raw_obs_processing_ms": 0.5145196715877046, "mean_inference_ms": 1.805701744335804, "mean_action_processing_ms": 0.10786848269481132}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 49920, "timers": {"sample_time_ms": 1371.839, "sample_throughput": 2799.162, "learn_time_ms": 17047.783, "learn_throughput": 225.249, "update_time_ms": 3.228}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7085937500000001, "cur_lr": 5e-05, "total_loss": 0.008597937383456156, "policy_loss": -0.0025118940975517035, "vf_loss": 4.484641567338258, "vf_explained_var": 0.013008058071136475, "kl": 0.006499699964479078, "entropy": 1.7823916636407375, "entropy_coeff": 0.0}}, "num_steps_sampled": 49920, "num_steps_trained": 49920}, "done": false, "episodes_total": 13, "training_iteration": 13, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-50-41", "timestamp": 1611197441, "time_this_iter_s": 18.603280305862427, "time_total_s": 238.12942457199097, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 238.12942457199097, "timesteps_since_restore": 0, "iterations_since_restore": 13, "perf": {"cpu_util_percent": 10.776923076923076, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 0.2635992627908781, "episode_len_mean": 681.8125, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1107926912.0}, "hist_stats": {"episode_reward": [50.259851436156936, -18.218280608599642, -18.16273703630486, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282], "episode_lengths": [823, 840, 809, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741]}, "sampler_perf": {"mean_env_wait_ms": 18.61086436785832, "mean_raw_obs_processing_ms": 0.5138371065240461, "mean_inference_ms": 1.8023201490577745, "mean_action_processing_ms": 0.10773460285067957}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 53760, "timers": {"sample_time_ms": 1379.17, "sample_throughput": 2784.283, "learn_time_ms": 17109.24, "learn_throughput": 224.44, "update_time_ms": 3.27}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7085937500000001, "cur_lr": 5e-05, "total_loss": 0.0059347539354348555, "policy_loss": -0.0014192694070516154, "vf_loss": 8.575680890236981, "vf_explained_var": 0.0026451200246810913, "kl": 0.004299118703784188, "entropy": 1.8050605803728104, "entropy_coeff": 0.0}}, "num_steps_sampled": 53760, "num_steps_trained": 53760}, "done": false, "episodes_total": 16, "training_iteration": 14, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-51-00", "timestamp": 1611197460, "time_this_iter_s": 18.88023591041565, "time_total_s": 257.0096604824066, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 257.0096604824066, "timesteps_since_restore": 0, "iterations_since_restore": 14, "perf": {"cpu_util_percent": 10.77037037037037, "ram_util_percent": 71.5037037037037}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": -2.196416730119668, "episode_len_mean": 712.8421052631579, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5058723328.0}, "hist_stats": {"episode_reward": [3.368118198319668, -58.270793934637254, 8.953169659389847, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486], "episode_lengths": [871, 886, 878, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809]}, "sampler_perf": {"mean_env_wait_ms": 18.66955550981018, "mean_raw_obs_processing_ms": 0.5148428132831931, "mean_inference_ms": 1.8067982000377873, "mean_action_processing_ms": 0.10795693365114985}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 57600, "timers": {"sample_time_ms": 1386.041, "sample_throughput": 2770.481, "learn_time_ms": 17140.51, "learn_throughput": 224.031, "update_time_ms": 3.312}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.8542968750000001, "cur_lr": 5e-05, "total_loss": 0.004310539574362338, "policy_loss": 0.0002772041625576094, "vf_loss": 3.016626936965622, "vf_explained_var": 0.031818971037864685, "kl": 0.004717705338407541, "entropy": 1.786399707198143, "entropy_coeff": 0.0}}, "num_steps_sampled": 57600, "num_steps_trained": 57600}, "done": false, "episodes_total": 19, "training_iteration": 15, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-51-18", "timestamp": 1611197478, "time_this_iter_s": 18.66395616531372, "time_total_s": 275.67361664772034, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 275.67361664772034, "timesteps_since_restore": 0, "iterations_since_restore": 15, "perf": {"cpu_util_percent": 12.829629629629629, "ram_util_percent": 71.56296296296296}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": -2.238907148650771, "episode_len_mean": 722.95, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 177692816.0}, "hist_stats": {"episode_reward": [-3.046225100741734, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847], "episode_lengths": [915, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878]}, "sampler_perf": {"mean_env_wait_ms": 18.676167066769246, "mean_raw_obs_processing_ms": 0.5149769282300125, "mean_inference_ms": 1.8070542365115911, "mean_action_processing_ms": 0.1079263208681723}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 61440, "timers": {"sample_time_ms": 1389.993, "sample_throughput": 2762.603, "learn_time_ms": 17130.193, "learn_throughput": 224.166, "update_time_ms": 3.27}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.42714843750000003, "cur_lr": 5e-05, "total_loss": 0.003169567498844117, "policy_loss": -0.00021328264847397804, "vf_loss": 3.7897452081087977, "vf_explained_var": -0.04095230996608734, "kl": 0.007910740074294154, "entropy": 1.7765935100615025, "entropy_coeff": 0.0}}, "num_steps_sampled": 61440, "num_steps_trained": 61440}, "done": false, "episodes_total": 20, "training_iteration": 16, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-51-37", "timestamp": 1611197497, "time_this_iter_s": 18.385236263275146, "time_total_s": 294.0588529109955, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 294.0588529109955, "timesteps_since_restore": 0, "iterations_since_restore": 16, "perf": {"cpu_util_percent": 12.003846153846153, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": -2.238907148650772, "episode_len_mean": 722.95, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 365003136.0}, "hist_stats": {"episode_reward": [7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734], "episode_lengths": [508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915]}, "sampler_perf": {"mean_env_wait_ms": 18.676167066769246, "mean_raw_obs_processing_ms": 0.5149769282300125, "mean_inference_ms": 1.807054236511591, "mean_action_processing_ms": 0.1079263208681723}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 65280, "timers": {"sample_time_ms": 1394.449, "sample_throughput": 2753.776, "learn_time_ms": 17089.024, "learn_throughput": 224.706, "update_time_ms": 3.143}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.42714843750000003, "cur_lr": 5e-05, "total_loss": 0.000716359238140285, "policy_loss": -0.0010529375285841525, "vf_loss": 5.324929848080501, "vf_explained_var": -0.05750153213739395, "kl": 0.0041296531235275324, "entropy": 1.742024078965187, "entropy_coeff": 0.0}}, "num_steps_sampled": 65280, "num_steps_trained": 65280}, "done": false, "episodes_total": 20, "training_iteration": 17, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-51-55", "timestamp": 1611197515, "time_this_iter_s": 18.467459678649902, "time_total_s": 312.5263125896454, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 312.5263125896454, "timesteps_since_restore": 0, "iterations_since_restore": 17, "perf": {"cpu_util_percent": 12.35925925925926, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 0.6936176011489915, "episode_len_mean": 768.304347826087, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 353460512.0}, "hist_stats": {"episode_reward": [40.070749070959195, 20.226416019125804, 0.43418270935723413, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734], "episode_lengths": [1070, 1066, 1076, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915]}, "sampler_perf": {"mean_env_wait_ms": 18.713784551288082, "mean_raw_obs_processing_ms": 0.5148930983578235, "mean_inference_ms": 1.8093347640006148, "mean_action_processing_ms": 0.10799026594122363}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 69120, "timers": {"sample_time_ms": 1403.195, "sample_throughput": 2736.612, "learn_time_ms": 17214.402, "learn_throughput": 223.069, "update_time_ms": 3.113}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.21357421875000002, "cur_lr": 5e-05, "total_loss": -0.002608255294035189, "policy_loss": -0.005000026372727007, "vf_loss": 2.7083157727029175, "vf_explained_var": -0.030182618647813797, "kl": 0.011186118514160626, "entropy": 1.793008428066969, "entropy_coeff": 0.0}}, "num_steps_sampled": 69120, "num_steps_trained": 69120}, "done": false, "episodes_total": 23, "training_iteration": 18, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-52-15", "timestamp": 1611197535, "time_this_iter_s": 19.28056502342224, "time_total_s": 331.8068776130676, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 331.8068776130676, "timesteps_since_restore": 0, "iterations_since_restore": 18, "perf": {"cpu_util_percent": 13.085185185185185, "ram_util_percent": 71.54814814814814}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 0.6936176011489913, "episode_len_mean": 768.304347826087, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1075676800.0}, "hist_stats": {"episode_reward": [7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413], "episode_lengths": [508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076]}, "sampler_perf": {"mean_env_wait_ms": 18.713784551288082, "mean_raw_obs_processing_ms": 0.5148930983578236, "mean_inference_ms": 1.809334764000614, "mean_action_processing_ms": 0.10799026594122363}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 72960, "timers": {"sample_time_ms": 1418.524, "sample_throughput": 2707.04, "learn_time_ms": 17191.471, "learn_throughput": 223.367, "update_time_ms": 3.232}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.21357421875000002, "cur_lr": 5e-05, "total_loss": -0.0051021696999669075, "policy_loss": -0.00694794932496734, "vf_loss": 2.753884551289957, "vf_explained_var": -0.09199647605419159, "kl": 0.008629449381260201, "entropy": 1.777155987918377, "entropy_coeff": 0.0}}, "num_steps_sampled": 72960, "num_steps_trained": 72960}, "done": false, "episodes_total": 23, "training_iteration": 19, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-52-33", "timestamp": 1611197553, "time_this_iter_s": 18.14138388633728, "time_total_s": 349.9482614994049, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 349.9482614994049, "timesteps_since_restore": 0, "iterations_since_restore": 19, "perf": {"cpu_util_percent": 11.769230769230772, "ram_util_percent": 71.46923076923078}, "trial_id": "44498_00000"}
{"episode_reward_max": 50.259851436156936, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.6646176967212516, "episode_len_mean": 814.1538461538462, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 113402456.0}, "hist_stats": {"episode_reward": [-36.083722762693455, 41.09290575096715, 48.31767230005205, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413], "episode_lengths": [1145, 1182, 1170, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076]}, "sampler_perf": {"mean_env_wait_ms": 18.774247208691666, "mean_raw_obs_processing_ms": 0.5153069880803043, "mean_inference_ms": 1.8131849282871184, "mean_action_processing_ms": 0.10825494028161865}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 76800, "timers": {"sample_time_ms": 1425.549, "sample_throughput": 2693.699, "learn_time_ms": 17082.99, "learn_throughput": 224.785, "update_time_ms": 3.233}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.21357421875000002, "cur_lr": 5e-05, "total_loss": 0.0006047438946552575, "policy_loss": -0.00035693024983629584, "vf_loss": 2.05797271290794, "vf_explained_var": -0.07010133564472198, "kl": 0.00449315159858088, "entropy": 1.7607022188603878, "entropy_coeff": 0.0}}, "num_steps_sampled": 76800, "num_steps_trained": 76800}, "done": false, "episodes_total": 26, "training_iteration": 20, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-52-50", "timestamp": 1611197570, "time_this_iter_s": 17.788389444351196, "time_total_s": 367.7366509437561, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 367.7366509437561, "timesteps_since_restore": 0, "iterations_since_restore": 20, "perf": {"cpu_util_percent": 7.688, "ram_util_percent": 71.48}, "trial_id": "44498_00000"}
{"episode_reward_max": 52.42553167372764, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.6985526966400295, "episode_len_mean": 845.6428571428571, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 292620992.0}, "hist_stats": {"episode_reward": [52.42553167372764, 9.853883717440654, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205], "episode_lengths": [1252, 1258, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170]}, "sampler_perf": {"mean_env_wait_ms": 18.80509668606977, "mean_raw_obs_processing_ms": 0.5154972124863402, "mean_inference_ms": 1.8146423346632687, "mean_action_processing_ms": 0.10828915191992054}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 80640, "timers": {"sample_time_ms": 1433.216, "sample_throughput": 2679.289, "learn_time_ms": 17001.021, "learn_throughput": 225.869, "update_time_ms": 3.249}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0017914229829329997, "policy_loss": -0.002526925381971523, "vf_loss": 3.6984497071243823, "vf_explained_var": -0.011355031281709671, "kl": 0.006852827857073862, "entropy": 1.7345982417464256, "entropy_coeff": 0.0}}, "num_steps_sampled": 80640, "num_steps_trained": 80640}, "done": false, "episodes_total": 28, "training_iteration": 21, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-53-08", "timestamp": 1611197588, "time_this_iter_s": 17.608359813690186, "time_total_s": 385.3450107574463, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 385.3450107574463, "timesteps_since_restore": 0, "iterations_since_restore": 21, "perf": {"cpu_util_percent": 7.071999999999999, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 7.344975341573007, "episode_len_mean": 903.9705882352941, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 211222096.0}, "hist_stats": {"episode_reward": [38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654], "episode_lengths": [1278, 610, 1310, 1287, 1264, 1308, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258]}, "sampler_perf": {"mean_env_wait_ms": 18.85371597276753, "mean_raw_obs_processing_ms": 0.514853524189296, "mean_inference_ms": 1.8142490036513106, "mean_action_processing_ms": 0.10807031918594182}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 84480, "timers": {"sample_time_ms": 1415.835, "sample_throughput": 2712.181, "learn_time_ms": 16938.156, "learn_throughput": 226.707, "update_time_ms": 3.167}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.00164343326468952, "policy_loss": -0.0028991630242671818, "vf_loss": 5.850416343193501, "vf_explained_var": -0.03892785310745239, "kl": 0.011704407836077735, "entropy": 1.7054688595235348, "entropy_coeff": 0.0}}, "num_steps_sampled": 84480, "num_steps_trained": 84480}, "done": false, "episodes_total": 34, "training_iteration": 22, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-53-26", "timestamp": 1611197606, "time_this_iter_s": 17.809568881988525, "time_total_s": 403.1545796394348, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 403.1545796394348, "timesteps_since_restore": 0, "iterations_since_restore": 22, "perf": {"cpu_util_percent": 6.896153846153846, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 6.606981681154573, "episode_len_mean": 928.6666666666666, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 831446144.0}, "hist_stats": {"episode_reward": [1.6450999082950886, -13.522921000212705, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672], "episode_lengths": [1366, 1331, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308]}, "sampler_perf": {"mean_env_wait_ms": 18.86301792535519, "mean_raw_obs_processing_ms": 0.5141775542616416, "mean_inference_ms": 1.8119479989834035, "mean_action_processing_ms": 0.10789302195756217}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 88320, "timers": {"sample_time_ms": 1414.445, "sample_throughput": 2714.845, "learn_time_ms": 16932.46, "learn_throughput": 226.783, "update_time_ms": 3.124}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.00023177117691375315, "policy_loss": -0.0006287553405854851, "vf_loss": 4.3084018372464925, "vf_explained_var": -0.04254686087369919, "kl": 0.008018023378099315, "entropy": 1.7084754407405853, "entropy_coeff": 0.0}}, "num_steps_sampled": 88320, "num_steps_trained": 88320}, "done": false, "episodes_total": 36, "training_iteration": 23, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-53-44", "timestamp": 1611197624, "time_this_iter_s": 18.531429529190063, "time_total_s": 421.6860091686249, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 421.6860091686249, "timesteps_since_restore": 0, "iterations_since_restore": 23, "perf": {"cpu_util_percent": 7.342307692307691, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 7.766958446918179, "episode_len_mean": 938.1842105263158, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 349291584.0}, "hist_stats": {"episode_reward": [18.346618124023973, 38.94646233730216, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705], "episode_lengths": [803, 1416, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331]}, "sampler_perf": {"mean_env_wait_ms": 18.867218546148756, "mean_raw_obs_processing_ms": 0.5142111016476018, "mean_inference_ms": 1.8117726240776242, "mean_action_processing_ms": 0.10790273958089265}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 92160, "timers": {"sample_time_ms": 1410.114, "sample_throughput": 2723.184, "learn_time_ms": 16868.854, "learn_throughput": 227.638, "update_time_ms": 3.128}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0035036016488447785, "policy_loss": -0.004526058823103085, "vf_loss": 4.857231109403074, "vf_explained_var": 0.009201383218169212, "kl": 0.009529183094855398, "entropy": 1.6903807520866394, "entropy_coeff": 0.0}}, "num_steps_sampled": 92160, "num_steps_trained": 92160}, "done": false, "episodes_total": 38, "training_iteration": 24, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-54-03", "timestamp": 1611197643, "time_this_iter_s": 18.20041823387146, "time_total_s": 439.88642740249634, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 439.88642740249634, "timesteps_since_restore": 0, "iterations_since_restore": 24, "perf": {"cpu_util_percent": 7.188461538461538, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 6.355349578181876, "episode_len_mean": 1011.8409090909091, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 432749632.0}, "hist_stats": {"episode_reward": [22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216], "episode_lengths": [1488, 1471, 1483, 1486, 1494, 1448, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416]}, "sampler_perf": {"mean_env_wait_ms": 18.930510523723573, "mean_raw_obs_processing_ms": 0.5131299451203826, "mean_inference_ms": 1.8085656868690931, "mean_action_processing_ms": 0.10781175868624779}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 96000, "timers": {"sample_time_ms": 1408.504, "sample_throughput": 2726.297, "learn_time_ms": 16818.482, "learn_throughput": 228.32, "update_time_ms": 3.064}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0011220254236832261, "policy_loss": -0.0021592958364635706, "vf_loss": 2.802552599925548, "vf_explained_var": 0.025360453873872757, "kl": 0.009687303463579156, "entropy": 1.6290667355060577, "entropy_coeff": 0.0}}, "num_steps_sampled": 96000, "num_steps_trained": 96000}, "done": false, "episodes_total": 44, "training_iteration": 25, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-54-21", "timestamp": 1611197661, "time_this_iter_s": 18.14387011528015, "time_total_s": 458.0302975177765, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 458.0302975177765, "timesteps_since_restore": 0, "iterations_since_restore": 25, "perf": {"cpu_util_percent": 7.315384615384615, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.504029919574098, "episode_len_mean": 1059.0196078431372, "episodes_this_iter": 7, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 42315712.0}, "hist_stats": {"episode_reward": [45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625], "episode_lengths": [1503, 900, 1524, 1525, 1539, 940, 1558, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448]}, "sampler_perf": {"mean_env_wait_ms": 18.984588371038875, "mean_raw_obs_processing_ms": 0.5127966588896717, "mean_inference_ms": 1.8073196966038954, "mean_action_processing_ms": 0.1076957405252614}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 99840, "timers": {"sample_time_ms": 1403.55, "sample_throughput": 2735.919, "learn_time_ms": 16827.752, "learn_throughput": 228.194, "update_time_ms": 3.016}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.002511543279979378, "policy_loss": -0.0038074689800851047, "vf_loss": 2.925774024799466, "vf_explained_var": -0.04667840898036957, "kl": 0.01210818019171711, "entropy": 1.6089813485741615, "entropy_coeff": 0.0}}, "num_steps_sampled": 99840, "num_steps_trained": 99840}, "done": false, "episodes_total": 51, "training_iteration": 26, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-54-39", "timestamp": 1611197679, "time_this_iter_s": 18.42764639854431, "time_total_s": 476.4579439163208, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 476.4579439163208, "timesteps_since_restore": 0, "iterations_since_restore": 26, "perf": {"cpu_util_percent": 7.623076923076923, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.091812680861614, "episode_len_mean": 1049.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 115692024.0}, "hist_stats": {"episode_reward": [-16.931266493475057, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529], "episode_lengths": [538, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558]}, "sampler_perf": {"mean_env_wait_ms": 18.99695829993999, "mean_raw_obs_processing_ms": 0.5127440591250314, "mean_inference_ms": 1.8070647919641907, "mean_action_processing_ms": 0.10768221538590102}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 103680, "timers": {"sample_time_ms": 1409.838, "sample_throughput": 2723.717, "learn_time_ms": 16772.34, "learn_throughput": 228.948, "update_time_ms": 3.108}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0042298787739127874, "policy_loss": -0.006356476340442896, "vf_loss": 3.641355244675651, "vf_explained_var": -0.10179396718740463, "kl": 0.019880377978552133, "entropy": 1.5236344896256924, "entropy_coeff": 0.0}}, "num_steps_sampled": 103680, "num_steps_trained": 103680}, "done": false, "episodes_total": 52, "training_iteration": 27, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-54-57", "timestamp": 1611197697, "time_this_iter_s": 17.97753620147705, "time_total_s": 494.43548011779785, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 494.43548011779785, "timesteps_since_restore": 0, "iterations_since_restore": 27, "perf": {"cpu_util_percent": 7.68076923076923, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.1759996947736835, "episode_len_mean": 1081.6909090909091, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 86854232.0}, "hist_stats": {"episode_reward": [-10.303861328820952, -12.975886465471385, -14.814528397958984, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057], "episode_lengths": [1665, 1624, 1656, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538]}, "sampler_perf": {"mean_env_wait_ms": 19.007661083613385, "mean_raw_obs_processing_ms": 0.5127025275845508, "mean_inference_ms": 1.8062200164996784, "mean_action_processing_ms": 0.10764714494946974}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 107520, "timers": {"sample_time_ms": 1400.911, "sample_throughput": 2741.073, "learn_time_ms": 16716.994, "learn_throughput": 229.706, "update_time_ms": 3.084}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.0012844770099036396, "policy_loss": 0.00047143740812316537, "vf_loss": 2.4437941191717982, "vf_explained_var": -0.022447319701313972, "kl": 0.007590811022964772, "entropy": 1.520114652812481, "entropy_coeff": 0.0}}, "num_steps_sampled": 107520, "num_steps_trained": 107520}, "done": false, "episodes_total": 55, "training_iteration": 28, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-55-16", "timestamp": 1611197716, "time_this_iter_s": 18.636393547058105, "time_total_s": 513.071873664856, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 513.071873664856, "timesteps_since_restore": 0, "iterations_since_restore": 28, "perf": {"cpu_util_percent": 8.522222222222224, "ram_util_percent": 71.51481481481481}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.053209670985133, "episode_len_mean": 1124.5593220338983, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 212786448.0}, "hist_stats": {"episode_reward": [8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984], "episode_lengths": [1717, 1735, 1705, 1699, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656]}, "sampler_perf": {"mean_env_wait_ms": 19.036380731692347, "mean_raw_obs_processing_ms": 0.5120985991201776, "mean_inference_ms": 1.8039472683627074, "mean_action_processing_ms": 0.1075352301512417}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 111360, "timers": {"sample_time_ms": 1406.086, "sample_throughput": 2730.984, "learn_time_ms": 16702.693, "learn_throughput": 229.903, "update_time_ms": 3.049}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0021391565969679505, "policy_loss": -0.002983390964800492, "vf_loss": 1.9376862215576693, "vf_explained_var": -0.12826287746429443, "kl": 0.007887520201620646, "entropy": 1.5490454658865929, "entropy_coeff": 0.0}}, "num_steps_sampled": 111360, "num_steps_trained": 111360}, "done": false, "episodes_total": 59, "training_iteration": 29, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-55-34", "timestamp": 1611197734, "time_this_iter_s": 18.050832271575928, "time_total_s": 531.1227059364319, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 531.1227059364319, "timesteps_since_restore": 0, "iterations_since_restore": 29, "perf": {"cpu_util_percent": 8.471999999999998, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 75.18656348773592, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 1.8109241131148575, "episode_len_mean": 1146.7460317460318, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 74257880.0}, "hist_stats": {"episode_reward": [-19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217], "episode_lengths": [577, 1781, 1786, 1752, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699]}, "sampler_perf": {"mean_env_wait_ms": 19.07075087235615, "mean_raw_obs_processing_ms": 0.511806052490318, "mean_inference_ms": 1.8027869667837078, "mean_action_processing_ms": 0.1075411277289098}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 115200, "timers": {"sample_time_ms": 1399.021, "sample_throughput": 2744.777, "learn_time_ms": 16703.616, "learn_throughput": 229.89, "update_time_ms": 3.122}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.002162781124752655, "policy_loss": 0.001308009078456962, "vf_loss": 2.150751132867299, "vf_explained_var": -0.012293269857764244, "kl": 0.007984311298059765, "entropy": 1.518455971032381, "entropy_coeff": 0.0}}, "num_steps_sampled": 115200, "num_steps_trained": 115200}, "done": false, "episodes_total": 63, "training_iteration": 30, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-55-52", "timestamp": 1611197752, "time_this_iter_s": 17.72628092765808, "time_total_s": 548.84898686409, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 548.84898686409, "timesteps_since_restore": 0, "iterations_since_restore": 30, "perf": {"cpu_util_percent": 7.426923076923076, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.428638357601423, "episode_len_mean": 1176.5294117647059, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 171554880.0}, "hist_stats": {"episode_reward": [52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455], "episode_lengths": [919, 1858, 1804, 1327, 1851, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752]}, "sampler_perf": {"mean_env_wait_ms": 19.093776977982216, "mean_raw_obs_processing_ms": 0.511411381152638, "mean_inference_ms": 1.800833059509592, "mean_action_processing_ms": 0.10742878757397793}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 119040, "timers": {"sample_time_ms": 1391.796, "sample_throughput": 2759.024, "learn_time_ms": 16780.568, "learn_throughput": 228.836, "update_time_ms": 3.233}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0002805376934702508, "policy_loss": -0.0012185046980448533, "vf_loss": 4.469602103636134, "vf_explained_var": 0.004002433270215988, "kl": 0.008741596266190754, "entropy": 1.5406598448753357, "entropy_coeff": 0.0}}, "num_steps_sampled": 119040, "num_steps_trained": 119040}, "done": false, "episodes_total": 68, "training_iteration": 31, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-56-10", "timestamp": 1611197770, "time_this_iter_s": 18.30662178993225, "time_total_s": 567.1556086540222, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 567.1556086540222, "timesteps_since_restore": 0, "iterations_since_restore": 31, "perf": {"cpu_util_percent": 8.25, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 5.134657223655849, "episode_len_mean": 1184.6142857142856, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 74385736.0}, "hist_stats": {"episode_reward": [29.875617423590345, 28.402979915422307, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394], "episode_lengths": [1010, 1909, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851]}, "sampler_perf": {"mean_env_wait_ms": 19.09659520366861, "mean_raw_obs_processing_ms": 0.5114615242875696, "mean_inference_ms": 1.80064941125929, "mean_action_processing_ms": 0.10739132549794712}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 122880, "timers": {"sample_time_ms": 1400.193, "sample_throughput": 2742.48, "learn_time_ms": 16824.691, "learn_throughput": 228.236, "update_time_ms": 3.38}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.00040230957529274747, "policy_loss": -0.00030921776487957686, "vf_loss": 2.646556659019552, "vf_explained_var": -0.006781917065382004, "kl": 0.0066382995719322935, "entropy": 1.5315349325537682, "entropy_coeff": 0.0}}, "num_steps_sampled": 122880, "num_steps_trained": 122880}, "done": false, "episodes_total": 70, "training_iteration": 32, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-56-28", "timestamp": 1611197788, "time_this_iter_s": 18.335771799087524, "time_total_s": 585.4913804531097, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 585.4913804531097, "timesteps_since_restore": 0, "iterations_since_restore": 32, "perf": {"cpu_util_percent": 8.092307692307692, "ram_util_percent": 71.52692307692307}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.737812248556515, "episode_len_mean": 1191.3947368421052, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 161420640.0}, "hist_stats": {"episode_reward": [-16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307], "episode_lengths": [539, 1105, 1977, 1147, 1961, 894, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909]}, "sampler_perf": {"mean_env_wait_ms": 19.108185371477745, "mean_raw_obs_processing_ms": 0.5107642854312696, "mean_inference_ms": 1.7972275154886634, "mean_action_processing_ms": 0.10718426169450822}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 126720, "timers": {"sample_time_ms": 1393.024, "sample_throughput": 2756.592, "learn_time_ms": 16799.134, "learn_throughput": 228.583, "update_time_ms": 3.381}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.004874745383858681, "policy_loss": -0.0062588793225586414, "vf_loss": 3.8002372088376433, "vf_explained_var": -0.007233358919620514, "kl": 0.012926074341521598, "entropy": 1.6162613034248352, "entropy_coeff": 0.0}}, "num_steps_sampled": 126720, "num_steps_trained": 126720}, "done": false, "episodes_total": 76, "training_iteration": 33, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-56-47", "timestamp": 1611197807, "time_this_iter_s": 18.204111576080322, "time_total_s": 603.6954920291901, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 603.6954920291901, "timesteps_since_restore": 0, "iterations_since_restore": 33, "perf": {"cpu_util_percent": 8.757692307692308, "ram_util_percent": 71.52307692307691}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 5.221786484180688, "episode_len_mean": 1192.8846153846155, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 276453568.0}, "hist_stats": {"episode_reward": [52.85273591071138, -5.627121034912619, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411], "episode_lengths": [1983, 516, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894]}, "sampler_perf": {"mean_env_wait_ms": 19.112389193885814, "mean_raw_obs_processing_ms": 0.510517379226873, "mean_inference_ms": 1.7959583594833988, "mean_action_processing_ms": 0.10711753703988584}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 130560, "timers": {"sample_time_ms": 1384.903, "sample_throughput": 2772.758, "learn_time_ms": 16809.374, "learn_throughput": 228.444, "update_time_ms": 3.351}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.004532526580078411, "policy_loss": 0.0035989422894999734, "vf_loss": 1.9210312019567937, "vf_explained_var": 0.0007358323782682419, "kl": 0.00872443934349576, "entropy": 1.623201061040163, "entropy_coeff": 0.0}}, "num_steps_sampled": 130560, "num_steps_trained": 130560}, "done": false, "episodes_total": 78, "training_iteration": 34, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-57-05", "timestamp": 1611197825, "time_this_iter_s": 18.222203493118286, "time_total_s": 621.9176955223083, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 621.9176955223083, "timesteps_since_restore": 0, "iterations_since_restore": 34, "perf": {"cpu_util_percent": 8.846153846153847, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.320400420641349, "episode_len_mean": 1188.6375, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 368875040.0}, "hist_stats": {"episode_reward": [-28.351320133063233, -33.31599198172258, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619], "episode_lengths": [1413, 633, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516]}, "sampler_perf": {"mean_env_wait_ms": 19.111977020799785, "mean_raw_obs_processing_ms": 0.5103505558826689, "mean_inference_ms": 1.7951838041021682, "mean_action_processing_ms": 0.10708388449270156}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 134400, "timers": {"sample_time_ms": 1388.291, "sample_throughput": 2765.991, "learn_time_ms": 16812.323, "learn_throughput": 228.404, "update_time_ms": 3.332}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0014347854885272682, "policy_loss": -0.002317462640348822, "vf_loss": 2.022841397440061, "vf_explained_var": 0.009292744100093842, "kl": 0.008246871810115408, "entropy": 1.6785064935684204, "entropy_coeff": 0.0}}, "num_steps_sampled": 134400, "num_steps_trained": 134400}, "done": false, "episodes_total": 80, "training_iteration": 35, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-57-23", "timestamp": 1611197843, "time_this_iter_s": 18.206814289093018, "time_total_s": 640.1245098114014, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 640.1245098114014, "timesteps_since_restore": 0, "iterations_since_restore": 35, "perf": {"cpu_util_percent": 8.473076923076922, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.293176408797334, "episode_len_mean": 1189.4444444444443, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 741167616.0}, "hist_stats": {"episode_reward": [2.1152554612760626, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258], "episode_lengths": [1254, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633]}, "sampler_perf": {"mean_env_wait_ms": 19.11761559691667, "mean_raw_obs_processing_ms": 0.510243257535723, "mean_inference_ms": 1.7948718155805181, "mean_action_processing_ms": 0.10708952122530611}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 138240, "timers": {"sample_time_ms": 1383.059, "sample_throughput": 2776.455, "learn_time_ms": 16839.995, "learn_throughput": 228.029, "update_time_ms": 3.459}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.001939249166753143, "policy_loss": -0.002843919355655089, "vf_loss": 1.5900518377602566, "vf_explained_var": -0.03941688686609268, "kl": 0.008456805990135763, "entropy": 1.6545134037733078, "entropy_coeff": 0.0}}, "num_steps_sampled": 138240, "num_steps_trained": 138240}, "done": false, "episodes_total": 81, "training_iteration": 36, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-57-42", "timestamp": 1611197862, "time_this_iter_s": 18.65297794342041, "time_total_s": 658.7774877548218, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 658.7774877548218, "timesteps_since_restore": 0, "iterations_since_restore": 36, "perf": {"cpu_util_percent": 8.244444444444444, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 5.44648477965904, "episode_len_mean": 1176.8433734939758, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 205624592.0}, "hist_stats": {"episode_reward": [25.73395670171375, 78.57699089740258, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626], "episode_lengths": [688, 645, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254]}, "sampler_perf": {"mean_env_wait_ms": 19.121611861645036, "mean_raw_obs_processing_ms": 0.5101059766050048, "mean_inference_ms": 1.7942924831826568, "mean_action_processing_ms": 0.10705693365283896}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 142080, "timers": {"sample_time_ms": 1366.639, "sample_throughput": 2809.812, "learn_time_ms": 16948.079, "learn_throughput": 226.574, "update_time_ms": 3.43}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.002054185897577554, "policy_loss": 0.0014911583275534213, "vf_loss": 2.1909887029323727, "vf_explained_var": -0.03193671256303787, "kl": 0.005251915583357913, "entropy": 1.6229401305317879, "entropy_coeff": 0.0}}, "num_steps_sampled": 142080, "num_steps_trained": 142080}, "done": false, "episodes_total": 83, "training_iteration": 37, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-58-01", "timestamp": 1611197881, "time_this_iter_s": 18.89329957962036, "time_total_s": 677.6707873344421, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 677.6707873344421, "timesteps_since_restore": 0, "iterations_since_restore": 37, "perf": {"cpu_util_percent": 8.81851851851852, "ram_util_percent": 71.5037037037037}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.154274771105796, "episode_len_mean": 1175.2823529411764, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 218914816.0}, "hist_stats": {"episode_reward": [-68.87698644025664, -30.067894727451, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258], "episode_lengths": [1492, 729, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645]}, "sampler_perf": {"mean_env_wait_ms": 19.125471672667437, "mean_raw_obs_processing_ms": 0.5100305272446993, "mean_inference_ms": 1.793780434161317, "mean_action_processing_ms": 0.10701975176496106}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 145920, "timers": {"sample_time_ms": 1370.872, "sample_throughput": 2801.137, "learn_time_ms": 16840.045, "learn_throughput": 228.028, "update_time_ms": 3.395}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.003032713895663619, "policy_loss": -0.0038885343237780035, "vf_loss": 1.878976199310273, "vf_explained_var": -0.05384989082813263, "kl": 0.007996598265890498, "entropy": 1.6236382722854614, "entropy_coeff": 0.0}}, "num_steps_sampled": 145920, "num_steps_trained": 145920}, "done": false, "episodes_total": 85, "training_iteration": 38, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-58-18", "timestamp": 1611197898, "time_this_iter_s": 17.597537994384766, "time_total_s": 695.2683253288269, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 695.2683253288269, "timesteps_since_restore": 0, "iterations_since_restore": 38, "perf": {"cpu_util_percent": 8.324, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 4.0967572070567195, "episode_len_mean": 1173.4555555555555, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1113480960.0}, "hist_stats": {"episode_reward": [18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451], "episode_lengths": [1025, 1470, 1614, 602, 1001, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729]}, "sampler_perf": {"mean_env_wait_ms": 19.133133740612177, "mean_raw_obs_processing_ms": 0.5095025706289587, "mean_inference_ms": 1.7916505235347109, "mean_action_processing_ms": 0.10689324266197554}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 149760, "timers": {"sample_time_ms": 1355.182, "sample_throughput": 2833.567, "learn_time_ms": 16842.036, "learn_throughput": 228.001, "update_time_ms": 3.362}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.0006399675185093656, "policy_loss": -0.0008034926431719214, "vf_loss": 3.0869545941241086, "vf_explained_var": -0.02094036340713501, "kl": 0.013488394994055852, "entropy": 1.6032959818840027, "entropy_coeff": 0.0}}, "num_steps_sampled": 149760, "num_steps_trained": 149760}, "done": false, "episodes_total": 90, "training_iteration": 39, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-58-36", "timestamp": 1611197916, "time_this_iter_s": 17.913453340530396, "time_total_s": 713.1817786693573, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 713.1817786693573, "timesteps_since_restore": 0, "iterations_since_restore": 39, "perf": {"cpu_util_percent": 7.624, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.9886969643905075, "episode_len_mean": 1177.010752688172, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 554350784.0}, "hist_stats": {"episode_reward": [-41.72981555496964, 38.33170495984199, 5.638779648340086, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582], "episode_lengths": [1633, 598, 1620, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001]}, "sampler_perf": {"mean_env_wait_ms": 19.140483023418096, "mean_raw_obs_processing_ms": 0.509263361442726, "mean_inference_ms": 1.7907194892566347, "mean_action_processing_ms": 0.10686086149306066}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 153600, "timers": {"sample_time_ms": 1345.28, "sample_throughput": 2854.424, "learn_time_ms": 16852.915, "learn_throughput": 227.854, "update_time_ms": 3.207}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0031449130037799478, "policy_loss": -0.004157327814027667, "vf_loss": 2.6160014120396227, "vf_explained_var": -0.040235765278339386, "kl": 0.009456175161176361, "entropy": 1.6026153974235058, "entropy_coeff": 0.0}}, "num_steps_sampled": 153600, "num_steps_trained": 153600}, "done": false, "episodes_total": 93, "training_iteration": 40, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-58-54", "timestamp": 1611197934, "time_this_iter_s": 17.735402584075928, "time_total_s": 730.9171812534332, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 730.9171812534332, "timesteps_since_restore": 0, "iterations_since_restore": 40, "perf": {"cpu_util_percent": 7.342307692307691, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.91926286711439, "episode_len_mean": 1184.787234042553, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 596431424.0}, "hist_stats": {"episode_reward": [-2.538108179564485, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086], "episode_lengths": [1908, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620]}, "sampler_perf": {"mean_env_wait_ms": 19.13977137374262, "mean_raw_obs_processing_ms": 0.509179527140548, "mean_inference_ms": 1.7903483388298944, "mean_action_processing_ms": 0.10685077345174283}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 157440, "timers": {"sample_time_ms": 1343.661, "sample_throughput": 2857.863, "learn_time_ms": 16868.669, "learn_throughput": 227.641, "update_time_ms": 3.091}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0027928323834203184, "policy_loss": -0.004377652599941939, "vf_loss": 3.184145570266992, "vf_explained_var": -0.047787413001060486, "kl": 0.014811100118095055, "entropy": 1.5622152611613274, "entropy_coeff": 0.0}}, "num_steps_sampled": 157440, "num_steps_trained": 157440}, "done": false, "episodes_total": 94, "training_iteration": 41, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-59-12", "timestamp": 1611197952, "time_this_iter_s": 18.446333169937134, "time_total_s": 749.3635144233704, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 749.3635144233704, "timesteps_since_restore": 0, "iterations_since_restore": 41, "perf": {"cpu_util_percent": 7.803846153846154, "ram_util_percent": 71.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.7143762514539485, "episode_len_mean": 1194.7916666666667, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 220778384.0}, "hist_stats": {"episode_reward": [-44.1841836351817, -63.64640573399193, 7.121044907976382, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485], "episode_lengths": [1421, 1909, 508, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908]}, "sampler_perf": {"mean_env_wait_ms": 19.139727108659738, "mean_raw_obs_processing_ms": 0.5090000983894245, "mean_inference_ms": 1.7895397827383916, "mean_action_processing_ms": 0.1068081653055216}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 161280, "timers": {"sample_time_ms": 1337.061, "sample_throughput": 2871.97, "learn_time_ms": 16915.364, "learn_throughput": 227.013, "update_time_ms": 3.139}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0007208495735540055, "policy_loss": -0.0018032625048363116, "vf_loss": 2.641518833988812, "vf_explained_var": -0.03282961994409561, "kl": 0.010111485273228027, "entropy": 1.5309718288481236, "entropy_coeff": 0.0}}, "num_steps_sampled": 161280, "num_steps_trained": 161280}, "done": false, "episodes_total": 96, "training_iteration": 42, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-59-31", "timestamp": 1611197971, "time_this_iter_s": 18.738053798675537, "time_total_s": 768.1015682220459, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 768.1015682220459, "timesteps_since_restore": 0, "iterations_since_restore": 42, "perf": {"cpu_util_percent": 8.222222222222221, "ram_util_percent": 71.55185185185185}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.810951162111227, "episode_len_mean": 1178.75, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 124761800.0}, "hist_stats": {"episode_reward": [61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193], "episode_lengths": [630, 663, 823, 555, 1012, 545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909]}, "sampler_perf": {"mean_env_wait_ms": 19.148591328962002, "mean_raw_obs_processing_ms": 0.5083970517351546, "mean_inference_ms": 1.787098314337979, "mean_action_processing_ms": 0.10664814129150202}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 165120, "timers": {"sample_time_ms": 1346.444, "sample_throughput": 2851.956, "learn_time_ms": 16967.138, "learn_throughput": 226.32, "update_time_ms": 3.208}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0016583583783358335, "policy_loss": -0.0023281154280994087, "vf_loss": 8.025392993935384, "vf_explained_var": -0.01736212894320488, "kl": 0.006196681169967633, "entropy": 1.4611314423382282, "entropy_coeff": 0.0}}, "num_steps_sampled": 165120, "num_steps_trained": 165120}, "done": false, "episodes_total": 101, "training_iteration": 43, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_21-59-50", "timestamp": 1611197990, "time_this_iter_s": 18.816794872283936, "time_total_s": 786.9183630943298, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 786.9183630943298, "timesteps_since_restore": 0, "iterations_since_restore": 43, "perf": {"cpu_util_percent": 8.37037037037037, "ram_util_percent": 71.59629629629627}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.8109511621112278, "episode_len_mean": 1178.75, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 111793168.0}, "hist_stats": {"episode_reward": [8.558481124670962, -3.358444419123253, 45.03969747350406, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413], "episode_lengths": [545, 571, 566, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012]}, "sampler_perf": {"mean_env_wait_ms": 19.148591328962006, "mean_raw_obs_processing_ms": 0.5083970517351545, "mean_inference_ms": 1.7870983143379786, "mean_action_processing_ms": 0.10664814129150202}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 168960, "timers": {"sample_time_ms": 1351.818, "sample_throughput": 2840.618, "learn_time_ms": 16954.081, "learn_throughput": 226.494, "update_time_ms": 3.205}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0024026903556659818, "policy_loss": -0.0031333535443991423, "vf_loss": 1.866773503832519, "vf_explained_var": -0.0019251815974712372, "kl": 0.006824835974839516, "entropy": 1.377869337797165, "entropy_coeff": 0.0}}, "num_steps_sampled": 168960, "num_steps_trained": 168960}, "done": false, "episodes_total": 101, "training_iteration": 44, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-00-08", "timestamp": 1611198008, "time_this_iter_s": 18.144835948944092, "time_total_s": 805.0631990432739, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 805.0631990432739, "timesteps_since_restore": 0, "iterations_since_restore": 44, "perf": {"cpu_util_percent": 7.842307692307691, "ram_util_percent": 71.6}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 2.9452164010101116, "episode_len_mean": 1200.2, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 341439072.0}, "hist_stats": {"episode_reward": [9.352762581918352, -1.8859534295529141, 56.1994489165747, 10.702512679182664, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413], "episode_lengths": [653, 1328, 1846, 607, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012]}, "sampler_perf": {"mean_env_wait_ms": 19.17417318643788, "mean_raw_obs_processing_ms": 0.5078797199942092, "mean_inference_ms": 1.7850629240929499, "mean_action_processing_ms": 0.1065401002700738}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 172800, "timers": {"sample_time_ms": 1347.013, "sample_throughput": 2850.753, "learn_time_ms": 16945.046, "learn_throughput": 226.615, "update_time_ms": 3.261}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0013389904634095728, "policy_loss": -0.001991107390495017, "vf_loss": 2.2085643792524934, "vf_explained_var": -0.018320618197321892, "kl": 0.006086034598411061, "entropy": 1.344824880361557, "entropy_coeff": 0.0}}, "num_steps_sampled": 172800, "num_steps_trained": 172800}, "done": false, "episodes_total": 104, "training_iteration": 45, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-00-26", "timestamp": 1611198026, "time_this_iter_s": 18.068228483200073, "time_total_s": 823.131427526474, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 823.131427526474, "timesteps_since_restore": 0, "iterations_since_restore": 45, "perf": {"cpu_util_percent": 7.848, "ram_util_percent": 71.624}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.16636590438305, "episode_len_mean": 1201.81, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 39875792.0}, "hist_stats": {"episode_reward": [32.817463016476516, 47.04674304659029, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747], "episode_lengths": [768, 632, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846]}, "sampler_perf": {"mean_env_wait_ms": 19.179507956470868, "mean_raw_obs_processing_ms": 0.5077313854734462, "mean_inference_ms": 1.7843314794631662, "mean_action_processing_ms": 0.10650785257002138}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 176640, "timers": {"sample_time_ms": 1350.488, "sample_throughput": 2843.417, "learn_time_ms": 16866.978, "learn_throughput": 227.664, "update_time_ms": 3.232}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0014296023873612285, "policy_loss": -0.0022843094120617025, "vf_loss": 3.0183955002576113, "vf_explained_var": 0.010361967608332634, "kl": 0.007975562541105319, "entropy": 1.2839944548904896, "entropy_coeff": 0.0}}, "num_steps_sampled": 176640, "num_steps_trained": 176640}, "done": false, "episodes_total": 105, "training_iteration": 46, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-00-44", "timestamp": 1611198044, "time_this_iter_s": 17.906754732131958, "time_total_s": 841.038182258606, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 841.038182258606, "timesteps_since_restore": 0, "iterations_since_restore": 46, "perf": {"cpu_util_percent": 7.065384615384616, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -107.60369144884027, "episode_reward_mean": 3.2794858884337863, "episode_len_mean": 1214.72, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 962607424.0}, "hist_stats": {"episode_reward": [58.35874145166394, 11.421608030953374, 4.534629003053394, 4.369260977402776, -107.60369144884027, 25.25621131519552, -25.88836717468147, -36.86093110248282, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516], "episode_lengths": [1923, 649, 674, 717, 683, 766, 778, 741, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768]}, "sampler_perf": {"mean_env_wait_ms": 19.186197850941884, "mean_raw_obs_processing_ms": 0.5076687365426021, "mean_inference_ms": 1.784130571345381, "mean_action_processing_ms": 0.10648383441584111}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 180480, "timers": {"sample_time_ms": 1354.332, "sample_throughput": 2835.346, "learn_time_ms": 16807.823, "learn_throughput": 228.465, "update_time_ms": 3.215}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0029753902927041054, "policy_loss": -0.0045681585324928164, "vf_loss": 3.8683699793182313, "vf_explained_var": -0.030917203053832054, "kl": 0.01487915703910403, "entropy": 1.2013970576226711, "entropy_coeff": 0.0}}, "num_steps_sampled": 180480, "num_steps_trained": 180480}, "done": false, "episodes_total": 106, "training_iteration": 47, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-01-03", "timestamp": 1611198063, "time_this_iter_s": 18.3403377532959, "time_total_s": 859.3785200119019, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 859.3785200119019, "timesteps_since_restore": 0, "iterations_since_restore": 47, "perf": {"cpu_util_percent": 7.926923076923078, "ram_util_percent": 71.68461538461538}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.9704725848070352, "episode_len_mean": 1251.53, "episodes_this_iter": 7, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 97987688.0}, "hist_stats": {"episode_reward": [-90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 50.259851436156936, -18.218280608599642, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394], "episode_lengths": [1211, 1291, 1104, 1558, 761, 1101, 1663, 823, 840, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923]}, "sampler_perf": {"mean_env_wait_ms": 19.22282389648414, "mean_raw_obs_processing_ms": 0.5065073348696402, "mean_inference_ms": 1.7793496864760683, "mean_action_processing_ms": 0.1061778993785864}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 184320, "timers": {"sample_time_ms": 1361.602, "sample_throughput": 2820.208, "learn_time_ms": 16788.243, "learn_throughput": 228.732, "update_time_ms": 3.133}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.0024892790243029594, "policy_loss": -0.0032766941003501415, "vf_loss": 2.7346441622357816, "vf_explained_var": -0.041034549474716187, "kl": 0.007348087172431406, "entropy": 1.2318065837025642, "entropy_coeff": 0.0}}, "num_steps_sampled": 184320, "num_steps_trained": 184320}, "done": false, "episodes_total": 113, "training_iteration": 48, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-01-20", "timestamp": 1611198080, "time_this_iter_s": 17.474302291870117, "time_total_s": 876.852822303772, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 876.852822303772, "timesteps_since_restore": 0, "iterations_since_restore": 48, "perf": {"cpu_util_percent": 7.811999999999999, "ram_util_percent": 71.68400000000001}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.8676353696658987, "episode_len_mean": 1252.98, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 151208528.0}, "hist_stats": {"episode_reward": [3.740769895216447, 18.017079418227027, -18.16273703630486, 3.368118198319668, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683], "episode_lengths": [1278, 530, 809, 871, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663]}, "sampler_perf": {"mean_env_wait_ms": 19.238253551183178, "mean_raw_obs_processing_ms": 0.5063254655527865, "mean_inference_ms": 1.7788460466850444, "mean_action_processing_ms": 0.10615434083649646}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 188160, "timers": {"sample_time_ms": 1359.968, "sample_throughput": 2823.596, "learn_time_ms": 16796.759, "learn_throughput": 228.616, "update_time_ms": 3.151}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": -0.002308063267264515, "policy_loss": -0.0029016072512604296, "vf_loss": 3.8913929978152737, "vf_explained_var": -0.038018468767404556, "kl": 0.005521662395040039, "entropy": 1.2217873744666576, "entropy_coeff": 0.0}}, "num_steps_sampled": 188160, "num_steps_trained": 188160}, "done": false, "episodes_total": 115, "training_iteration": 49, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-01-38", "timestamp": 1611198098, "time_this_iter_s": 17.98236107826233, "time_total_s": 894.8351833820343, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 894.8351833820343, "timesteps_since_restore": 0, "iterations_since_restore": 49, "perf": {"cpu_util_percent": 7.465384615384616, "ram_util_percent": 71.6846153846154}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.006464018908239, "episode_len_mean": 1266.53, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 472608672.0}, "hist_stats": {"episode_reward": [-31.47412023650062, -69.43763367725035, -58.270793934637254, 8.953169659389847, -3.046225100741734, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027], "episode_lengths": [1329, 1706, 886, 878, 915, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530]}, "sampler_perf": {"mean_env_wait_ms": 19.250062229787, "mean_raw_obs_processing_ms": 0.5059017376033544, "mean_inference_ms": 1.7772869015212944, "mean_action_processing_ms": 0.10604691259305739}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 192000, "timers": {"sample_time_ms": 1372.281, "sample_throughput": 2798.26, "learn_time_ms": 16803.439, "learn_throughput": 228.525, "update_time_ms": 3.244}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.10678710937500001, "cur_lr": 5e-05, "total_loss": 0.0006758199306204915, "policy_loss": 0.00025084917433559895, "vf_loss": 2.72542247409001, "vf_explained_var": -0.0318954661488533, "kl": 0.003954124666051939, "entropy": 1.2390860207378864, "entropy_coeff": 0.0}}, "num_steps_sampled": 192000, "num_steps_trained": 192000}, "done": false, "episodes_total": 117, "training_iteration": 50, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-01-56", "timestamp": 1611198116, "time_this_iter_s": 17.92558240890503, "time_total_s": 912.7607657909393, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 912.7607657909393, "timesteps_since_restore": 0, "iterations_since_restore": 50, "perf": {"cpu_util_percent": 7.92, "ram_util_percent": 71.66799999999999}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 4.289559031501059, "episode_len_mean": 1291.73, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 42031932.0}, "hist_stats": {"episode_reward": [47.74287501890029, 35.740763010456156, -7.53798614606378, 40.070749070959195, 20.226416019125804, 0.43418270935723413, -36.083722762693455, 41.09290575096715, 48.31767230005205, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035], "episode_lengths": [1730, 1562, 1907, 1070, 1066, 1076, 1145, 1182, 1170, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706]}, "sampler_perf": {"mean_env_wait_ms": 19.258136821784504, "mean_raw_obs_processing_ms": 0.505325719161946, "mean_inference_ms": 1.775183405178279, "mean_action_processing_ms": 0.10594084218285499}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 195840, "timers": {"sample_time_ms": 1379.91, "sample_throughput": 2782.79, "learn_time_ms": 16762.766, "learn_throughput": 229.079, "update_time_ms": 3.305}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0018499067518860102, "policy_loss": -0.0022062896750867367, "vf_loss": 3.058055182453245, "vf_explained_var": -0.010464293882250786, "kl": 0.006617471721256152, "entropy": 1.276449527591467, "entropy_coeff": 0.0}}, "num_steps_sampled": 195840, "num_steps_trained": 195840}, "done": false, "episodes_total": 120, "training_iteration": 51, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-02-14", "timestamp": 1611198134, "time_this_iter_s": 18.116374254226685, "time_total_s": 930.877140045166, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 930.877140045166, "timesteps_since_restore": 0, "iterations_since_restore": 51, "perf": {"cpu_util_percent": 8.569230769230769, "ram_util_percent": 71.6846153846154}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.8832428284250544, "episode_len_mean": 1295.69, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 107981552.0}, "hist_stats": {"episode_reward": [3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, 52.42553167372764, 9.853883717440654, 38.74421004935284, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378], "episode_lengths": [1450, 599, 784, 858, 1818, 1596, 1252, 1258, 1278, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907]}, "sampler_perf": {"mean_env_wait_ms": 19.26852640297389, "mean_raw_obs_processing_ms": 0.504251477704649, "mean_inference_ms": 1.7699591279796159, "mean_action_processing_ms": 0.1056276437717996}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 199680, "timers": {"sample_time_ms": 1381.154, "sample_throughput": 2780.283, "learn_time_ms": 16765.192, "learn_throughput": 229.046, "update_time_ms": 3.219}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.005193536155275069, "policy_loss": -0.005956766530289315, "vf_loss": 4.82733614044264, "vf_explained_var": -0.03390023857355118, "kl": 0.014204223291017115, "entropy": 1.2965723052620888, "entropy_coeff": 0.0}}, "num_steps_sampled": 199680, "num_steps_trained": 199680}, "done": false, "episodes_total": 126, "training_iteration": 52, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-02-33", "timestamp": 1611198153, "time_this_iter_s": 18.773468494415283, "time_total_s": 949.6506085395813, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 949.6506085395813, "timesteps_since_restore": 0, "iterations_since_restore": 52, "perf": {"cpu_util_percent": 8.103703703703703, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 119.14025367935145, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 2.279673883960765, "episode_len_mean": 1308.07, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 57449540.0}, "hist_stats": {"episode_reward": [-44.623607566689394, -11.801183925677552, -2.9084775135409027, 75.18656348773592, 51.60065600468377, 42.926825777764904, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646], "episode_lengths": [1832, 1883, 1311, 610, 1310, 1287, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596]}, "sampler_perf": {"mean_env_wait_ms": 19.27496983936959, "mean_raw_obs_processing_ms": 0.5036904126483611, "mean_inference_ms": 1.7674368294620135, "mean_action_processing_ms": 0.10549953369848472}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 203520, "timers": {"sample_time_ms": 1381.853, "sample_throughput": 2778.877, "learn_time_ms": 16761.427, "learn_throughput": 229.097, "update_time_ms": 3.168}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -3.108015516772866e-05, "policy_loss": -0.00040939904283732176, "vf_loss": 3.251973997685127, "vf_explained_var": -0.04563525319099426, "kl": 0.007024564933090005, "entropy": 1.3556516617536545, "entropy_coeff": 0.0}}, "num_steps_sampled": 203520, "num_steps_trained": 203520}, "done": false, "episodes_total": 129, "training_iteration": 53, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-02-52", "timestamp": 1611198172, "time_this_iter_s": 18.785635232925415, "time_total_s": 968.4362437725067, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 968.4362437725067, "timesteps_since_restore": 0, "iterations_since_restore": 53, "perf": {"cpu_util_percent": 8.822222222222221, "ram_util_percent": 71.74074074074073}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 2.624996885414231, "episode_len_mean": 1318.3, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2569848.25}, "hist_stats": {"episode_reward": [24.816577944843136, 133.1767942301946, 46.25297324049351, -66.9618807965043, -23.326688415471672, 1.6450999082950886, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027], "episode_lengths": [1808, 742, 1680, 1264, 1308, 1366, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311]}, "sampler_perf": {"mean_env_wait_ms": 19.284139187323518, "mean_raw_obs_processing_ms": 0.5034572553092254, "mean_inference_ms": 1.7659543099615738, "mean_action_processing_ms": 0.10547507060733617}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 207360, "timers": {"sample_time_ms": 1379.561, "sample_throughput": 2783.494, "learn_time_ms": 16744.691, "learn_throughput": 229.326, "update_time_ms": 3.182}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0014583155571017414, "policy_loss": -0.002086071210214868, "vf_loss": 2.7503197842743248, "vf_explained_var": -0.06271388381719589, "kl": 0.011705668541253544, "entropy": 1.3381684236228466, "entropy_coeff": 0.0}}, "num_steps_sampled": 207360, "num_steps_trained": 207360}, "done": false, "episodes_total": 132, "training_iteration": 54, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-03-10", "timestamp": 1611198190, "time_this_iter_s": 17.955434322357178, "time_total_s": 986.3916780948639, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 986.3916780948639, "timesteps_since_restore": 0, "iterations_since_restore": 54, "perf": {"cpu_util_percent": 7.624, "ram_util_percent": 71.71600000000001}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.8489054031485415, "episode_len_mean": 1328.11, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1008463872.0}, "hist_stats": {"episode_reward": [-5.457012924033853, 53.10951336602061, -13.905117972236631, -13.522921000212705, 18.346618124023973, 38.94646233730216, 22.43030911117896, 3.388162529304996, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351], "episode_lengths": [1997, 1789, 1133, 1331, 803, 1416, 1488, 1471, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680]}, "sampler_perf": {"mean_env_wait_ms": 19.29342004003718, "mean_raw_obs_processing_ms": 0.5030438108754429, "mean_inference_ms": 1.7637978565223915, "mean_action_processing_ms": 0.1053924013622935}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 211200, "timers": {"sample_time_ms": 1383.484, "sample_throughput": 2775.601, "learn_time_ms": 16737.177, "learn_throughput": 229.429, "update_time_ms": 3.239}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0029234034082037397, "policy_loss": -0.003422729034355143, "vf_loss": 2.507638070732355, "vf_explained_var": 0.029103295877575874, "kl": 0.009304787250584923, "entropy": 1.363025989383459, "entropy_coeff": 0.0}}, "num_steps_sampled": 211200, "num_steps_trained": 211200}, "done": false, "episodes_total": 135, "training_iteration": 55, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-03-28", "timestamp": 1611198208, "time_this_iter_s": 18.034051418304443, "time_total_s": 1004.4257295131683, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1004.4257295131683, "timesteps_since_restore": 0, "iterations_since_restore": 55, "perf": {"cpu_util_percent": 7.484615384615386, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 3.6270684208576363, "episode_len_mean": 1331.03, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4623400.0}, "hist_stats": {"episode_reward": [11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 63.57433464225432, -23.5938680798292, -53.91925017118363, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631], "episode_lengths": [679, 1416, 1810, 1026, 1870, 1483, 1486, 1494, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133]}, "sampler_perf": {"mean_env_wait_ms": 19.31670742878077, "mean_raw_obs_processing_ms": 0.5022539158350522, "mean_inference_ms": 1.7605773996734289, "mean_action_processing_ms": 0.10526174338673448}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 215040, "timers": {"sample_time_ms": 1383.0, "sample_throughput": 2776.573, "learn_time_ms": 16699.697, "learn_throughput": 229.944, "update_time_ms": 3.303}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0034680106036830693, "policy_loss": -0.004138651944231242, "vf_loss": 2.870170832495205, "vf_explained_var": -0.028043385595083237, "kl": 0.012506794038927183, "entropy": 1.318893276154995, "entropy_coeff": 0.0}}, "num_steps_sampled": 215040, "num_steps_trained": 215040}, "done": false, "episodes_total": 140, "training_iteration": 56, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-03-45", "timestamp": 1611198225, "time_this_iter_s": 17.52827024459839, "time_total_s": 1021.9539997577667, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1021.9539997577667, "timesteps_since_restore": 0, "iterations_since_restore": 56, "perf": {"cpu_util_percent": 7.512000000000001, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 4.988095819634553, "episode_len_mean": 1316.04, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2951788032.0}, "hist_stats": {"episode_reward": [2.695480714299888, 115.18346251299084, 4.285013041642589, -27.388727574613625, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886], "episode_lengths": [553, 1465, 946, 1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870]}, "sampler_perf": {"mean_env_wait_ms": 19.307147740302593, "mean_raw_obs_processing_ms": 0.5019747805047043, "mean_inference_ms": 1.7586764767685819, "mean_action_processing_ms": 0.10514203975384298}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 218880, "timers": {"sample_time_ms": 1378.939, "sample_throughput": 2784.75, "learn_time_ms": 16712.265, "learn_throughput": 229.771, "update_time_ms": 3.348}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0024318386713275686, "policy_loss": -0.0028290637346799485, "vf_loss": 3.1562983286567032, "vf_explained_var": 0.002443453297019005, "kl": 0.007380629518593196, "entropy": 1.316889725625515, "entropy_coeff": 0.0}}, "num_steps_sampled": 218880, "num_steps_trained": 218880}, "done": false, "episodes_total": 143, "training_iteration": 57, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-04-04", "timestamp": 1611198244, "time_this_iter_s": 18.425323247909546, "time_total_s": 1040.3793230056763, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1040.3793230056763, "timesteps_since_restore": 0, "iterations_since_restore": 57, "perf": {"cpu_util_percent": 7.425925925925926, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 5.4644713695147615, "episode_len_mean": 1316.04, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 71407912.0}, "hist_stats": {"episode_reward": [20.24882741340714, 45.748707217687844, -17.190353076927213, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589], "episode_lengths": [1448, 1503, 900, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946]}, "sampler_perf": {"mean_env_wait_ms": 19.309870434601294, "mean_raw_obs_processing_ms": 0.5019141113278255, "mean_inference_ms": 1.758239456543106, "mean_action_processing_ms": 0.10513387870959132}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 222720, "timers": {"sample_time_ms": 1371.203, "sample_throughput": 2800.462, "learn_time_ms": 16843.704, "learn_throughput": 227.978, "update_time_ms": 3.422}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": 0.00024214261793531477, "policy_loss": -8.6289452156052e-05, "vf_loss": 3.2559562497772276, "vf_explained_var": -0.030582502484321594, "kl": 0.0060902593831997365, "entropy": 1.2739349082112312, "entropy_coeff": 0.0}}, "num_steps_sampled": 222720, "num_steps_trained": 222720}, "done": false, "episodes_total": 144, "training_iteration": 58, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-04-23", "timestamp": 1611198263, "time_this_iter_s": 18.710493087768555, "time_total_s": 1059.0898160934448, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1059.0898160934448, "timesteps_since_restore": 0, "iterations_since_restore": 58, "perf": {"cpu_util_percent": 7.819230769230769, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 5.7121494848120555, "episode_len_mean": 1312.38, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2185315328.0}, "hist_stats": {"episode_reward": [21.472863322868058, 31.853302347621845, -11.742068272108146, -46.20424775937742, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714], "episode_lengths": [502, 1535, 1524, 1525, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448]}, "sampler_perf": {"mean_env_wait_ms": 19.309395051962657, "mean_raw_obs_processing_ms": 0.5015767732932503, "mean_inference_ms": 1.756934240364388, "mean_action_processing_ms": 0.10504991040480965}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 226560, "timers": {"sample_time_ms": 1378.976, "sample_throughput": 2784.675, "learn_time_ms": 16846.993, "learn_throughput": 227.934, "update_time_ms": 3.428}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0032503564725629985, "policy_loss": -0.003997622843598947, "vf_loss": 2.4985041497275233, "vf_explained_var": -0.008706863969564438, "kl": 0.013948716456070542, "entropy": 1.2549589946866035, "entropy_coeff": 0.0}}, "num_steps_sampled": 226560, "num_steps_trained": 226560}, "done": false, "episodes_total": 146, "training_iteration": 59, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-04-41", "timestamp": 1611198281, "time_this_iter_s": 18.092175006866455, "time_total_s": 1077.1819911003113, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1077.1819911003113, "timesteps_since_restore": 0, "iterations_since_restore": 59, "perf": {"cpu_util_percent": 8.192307692307692, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -90.23507419649546, "episode_reward_mean": 6.087212820699393, "episode_len_mean": 1315.79, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2034293.125}, "hist_stats": {"episode_reward": [-6.753606229208963, -13.6863762135428, -47.06620468183719, -33.20506453030682, 59.72937556114529, -16.931266493475057, -10.303861328820952, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845], "episode_lengths": [1624, 1766, 1539, 940, 1558, 538, 1665, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535]}, "sampler_perf": {"mean_env_wait_ms": 19.305477791733246, "mean_raw_obs_processing_ms": 0.5012890593773105, "mean_inference_ms": 1.7558834888618058, "mean_action_processing_ms": 0.10499813041756396}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 230400, "timers": {"sample_time_ms": 1382.842, "sample_throughput": 2776.89, "learn_time_ms": 16831.468, "learn_throughput": 228.144, "update_time_ms": 3.435}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.053393554687500004, "cur_lr": 5e-05, "total_loss": -0.0006993667009282944, "policy_loss": -0.0009536244933769922, "vf_loss": 27.540442186407745, "vf_explained_var": -0.016053425148129463, "kl": 0.004246101547323633, "entropy": 1.2754367105662823, "entropy_coeff": 0.0}}, "num_steps_sampled": 230400, "num_steps_trained": 230400}, "done": false, "episodes_total": 148, "training_iteration": 60, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-04-58", "timestamp": 1611198298, "time_this_iter_s": 17.8099684715271, "time_total_s": 1094.9919595718384, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1094.9919595718384, "timesteps_since_restore": 0, "iterations_since_restore": 60, "perf": {"cpu_util_percent": 7.657692307692307, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 4.874524516644325, "episode_len_mean": 1330.3, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 41815384.0}, "hist_stats": {"episode_reward": [47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, -12.975886465471385, -14.814528397958984, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428], "episode_lengths": [1092, 1583, 1845, 1909, 1262, 1624, 1656, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766]}, "sampler_perf": {"mean_env_wait_ms": 19.31488319743719, "mean_raw_obs_processing_ms": 0.5006340877297668, "mean_inference_ms": 1.7529786339530005, "mean_action_processing_ms": 0.10490767821027079}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 234240, "timers": {"sample_time_ms": 1391.58, "sample_throughput": 2759.453, "learn_time_ms": 16832.307, "learn_throughput": 228.133, "update_time_ms": 3.427}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.026696777343750002, "cur_lr": 5e-05, "total_loss": -0.005548211061977781, "policy_loss": -0.006156242045108229, "vf_loss": 5.41109099262394, "vf_explained_var": -0.04586583375930786, "kl": 0.02257246751105413, "entropy": 1.210006546229124, "entropy_coeff": 0.0}}, "num_steps_sampled": 234240, "num_steps_trained": 234240}, "done": false, "episodes_total": 153, "training_iteration": 61, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-05-17", "timestamp": 1611198317, "time_this_iter_s": 18.212858200073242, "time_total_s": 1113.2048177719116, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1113.2048177719116, "timesteps_since_restore": 0, "iterations_since_restore": 61, "perf": {"cpu_util_percent": 7.611538461538462, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 5.178868818414689, "episode_len_mean": 1312.3, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 144129120.0}, "hist_stats": {"episode_reward": [9.22991547381853, -6.585900160212181, 8.072357256218181, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527], "episode_lengths": [846, 634, 1717, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262]}, "sampler_perf": {"mean_env_wait_ms": 19.31428401930263, "mean_raw_obs_processing_ms": 0.5003533690665313, "mean_inference_ms": 1.7519754331943524, "mean_action_processing_ms": 0.1048350410031367}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 238080, "timers": {"sample_time_ms": 1392.439, "sample_throughput": 2757.751, "learn_time_ms": 16754.619, "learn_throughput": 229.191, "update_time_ms": 3.473}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.040045166015625, "cur_lr": 5e-05, "total_loss": 0.00013308340567164123, "policy_loss": -0.00017041066894307733, "vf_loss": 6.508178406627849, "vf_explained_var": -0.01837991178035736, "kl": 0.0074162637210974935, "entropy": 1.2835806757211685, "entropy_coeff": 0.0}}, "num_steps_sampled": 238080, "num_steps_trained": 238080}, "done": false, "episodes_total": 155, "training_iteration": 62, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-05-35", "timestamp": 1611198335, "time_this_iter_s": 18.005879402160645, "time_total_s": 1131.2106971740723, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1131.2106971740723, "timesteps_since_restore": 0, "iterations_since_restore": 62, "perf": {"cpu_util_percent": 7.404, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 5.0107630503186975, "episode_len_mean": 1315.01, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 3127601.25}, "hist_stats": {"episode_reward": [-8.738219553381372, -21.12317953380831, 67.81627378450253, -49.30606413134217, -19.02930059604813, -66.08084243996126, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181], "episode_lengths": [1988, 1735, 1705, 1699, 577, 1781, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634]}, "sampler_perf": {"mean_env_wait_ms": 19.31837788889019, "mean_raw_obs_processing_ms": 0.5003596177662246, "mean_inference_ms": 1.7519485491421738, "mean_action_processing_ms": 0.104849648767295}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 241920, "timers": {"sample_time_ms": 1388.449, "sample_throughput": 2765.675, "learn_time_ms": 16701.428, "learn_throughput": 229.92, "update_time_ms": 3.479}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.040045166015625, "cur_lr": 5e-05, "total_loss": -0.0013213245047154487, "policy_loss": -0.0016611531996204576, "vf_loss": 5.249464308377355, "vf_explained_var": -0.04756038635969162, "kl": 0.008355156489415094, "entropy": 1.370647270232439, "entropy_coeff": 0.0}}, "num_steps_sampled": 241920, "num_steps_trained": 241920}, "done": false, "episodes_total": 156, "training_iteration": 63, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-05-53", "timestamp": 1611198353, "time_this_iter_s": 18.21406650543213, "time_total_s": 1149.4247636795044, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1149.4247636795044, "timesteps_since_restore": 0, "iterations_since_restore": 63, "perf": {"cpu_util_percent": 7.476923076923077, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 5.0439603718568975, "episode_len_mean": 1322.79, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 563761408.0}, "hist_stats": {"episode_reward": [-8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 21.225890514053102, -2.166898939930455, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372], "episode_lengths": [1933, 1990, 900, 1986, 1466, 1786, 1752, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988]}, "sampler_perf": {"mean_env_wait_ms": 19.308711604008217, "mean_raw_obs_processing_ms": 0.49988927050117726, "mean_inference_ms": 1.7496014758754526, "mean_action_processing_ms": 0.1046610808246514}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 245760, "timers": {"sample_time_ms": 1389.732, "sample_throughput": 2763.122, "learn_time_ms": 16771.109, "learn_throughput": 228.965, "update_time_ms": 3.476}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.040045166015625, "cur_lr": 5e-05, "total_loss": -0.006543350929860026, "policy_loss": -0.007062856282573193, "vf_loss": 5.899717880645767, "vf_explained_var": 0.018150167539715767, "kl": 0.01282552900374867, "entropy": 1.3216328248381615, "entropy_coeff": 0.0}}, "num_steps_sampled": 245760, "num_steps_trained": 245760}, "done": false, "episodes_total": 161, "training_iteration": 64, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-06-12", "timestamp": 1611198372, "time_this_iter_s": 18.664522886276245, "time_total_s": 1168.0892865657806, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1168.0892865657806, "timesteps_since_restore": 0, "iterations_since_restore": 64, "perf": {"cpu_util_percent": 7.296296296296297, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 5.350638148596488, "episode_len_mean": 1308.52, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 566849216.0}, "hist_stats": {"episode_reward": [39.98720570360689, 9.739563544474604, 52.07312655927441, 119.14025367935145, 40.5227759967759, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965], "episode_lengths": [1298, 813, 919, 1858, 1804, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466]}, "sampler_perf": {"mean_env_wait_ms": 19.306856828367483, "mean_raw_obs_processing_ms": 0.4997074414594905, "mean_inference_ms": 1.748672450801913, "mean_action_processing_ms": 0.10460150466610221}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 249600, "timers": {"sample_time_ms": 1387.035, "sample_throughput": 2768.494, "learn_time_ms": 16804.119, "learn_throughput": 228.515, "update_time_ms": 3.376}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.040045166015625, "cur_lr": 5e-05, "total_loss": -0.0015409921543323435, "policy_loss": -0.0017259349988307804, "vf_loss": 10.198590117506683, "vf_explained_var": -0.09247826039791107, "kl": 0.004363825762993656, "entropy": 1.3302589729428291, "entropy_coeff": 0.0}}, "num_steps_sampled": 249600, "num_steps_trained": 249600}, "done": false, "episodes_total": 163, "training_iteration": 65, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-06-30", "timestamp": 1611198390, "time_this_iter_s": 18.335572719573975, "time_total_s": 1186.4248592853546, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1186.4248592853546, "timesteps_since_restore": 0, "iterations_since_restore": 65, "perf": {"cpu_util_percent": 7.615384615384615, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 3.3483217197959005, "episode_len_mean": 1307.29, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 100147712.0}, "hist_stats": {"episode_reward": [7.331501923727466, -13.154778217205727, 17.32778964882128, -51.903565170494474, 27.226598125753394, 29.875617423590345, 28.402979915422307, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604], "episode_lengths": [1628, 1732, 1098, 1327, 1851, 1010, 1909, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813]}, "sampler_perf": {"mean_env_wait_ms": 19.30545026665854, "mean_raw_obs_processing_ms": 0.4994579345656445, "mean_inference_ms": 1.7476182196095054, "mean_action_processing_ms": 0.10453348792794069}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 253440, "timers": {"sample_time_ms": 1387.826, "sample_throughput": 2766.918, "learn_time_ms": 16900.099, "learn_throughput": 227.218, "update_time_ms": 3.361}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0200225830078125, "cur_lr": 5e-05, "total_loss": -0.004402790975291282, "policy_loss": -0.004817184671992436, "vf_loss": 8.333866976900026, "vf_explained_var": -0.025365173816680908, "kl": 0.020279280288377777, "entropy": 1.29953383654356, "entropy_coeff": 0.0}}, "num_steps_sampled": 253440, "num_steps_trained": 253440}, "done": false, "episodes_total": 166, "training_iteration": 66, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-06-49", "timestamp": 1611198409, "time_this_iter_s": 18.49643325805664, "time_total_s": 1204.9212925434113, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1204.9212925434113, "timesteps_since_restore": 0, "iterations_since_restore": 66, "perf": {"cpu_util_percent": 7.92962962962963, "ram_util_percent": 71.71481481481482}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 2.945036495087469, "episode_len_mean": 1295.67, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 169927680.0}, "hist_stats": {"episode_reward": [51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, -16.607398656392025, -67.46279024908216, 44.75410827096362, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128], "episode_lengths": [1662, 920, 1708, 645, 539, 1105, 1977, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098]}, "sampler_perf": {"mean_env_wait_ms": 19.308165051758245, "mean_raw_obs_processing_ms": 0.4987868897569647, "mean_inference_ms": 1.7448628428457957, "mean_action_processing_ms": 0.10443658957796473}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 257280, "timers": {"sample_time_ms": 1390.144, "sample_throughput": 2762.304, "learn_time_ms": 16926.881, "learn_throughput": 226.858, "update_time_ms": 3.26}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.030033874511718753, "cur_lr": 5e-05, "total_loss": -0.006420834572054446, "policy_loss": -0.007133638995583169, "vf_loss": 8.90578924282454, "vf_explained_var": -0.03993894159793854, "kl": 0.023437047377228737, "entropy": 1.2434831708669662, "entropy_coeff": 0.0}}, "num_steps_sampled": 257280, "num_steps_trained": 257280}, "done": false, "episodes_total": 170, "training_iteration": 67, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-07-07", "timestamp": 1611198427, "time_this_iter_s": 18.71574640274048, "time_total_s": 1223.6370389461517, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1223.6370389461517, "timesteps_since_restore": 0, "iterations_since_restore": 67, "perf": {"cpu_util_percent": 7.684615384615384, "ram_util_percent": 71.75}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 3.3465344281243246, "episode_len_mean": 1288.75, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 70630976.0}, "hist_stats": {"episode_reward": [19.120064900814665, -19.89487758971105, 1.6085253580714491, 18.209494748904337, -18.35659569535227, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314], "episode_lengths": [582, 840, 1507, 1147, 1961, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645]}, "sampler_perf": {"mean_env_wait_ms": 19.309793723608337, "mean_raw_obs_processing_ms": 0.4984015765740167, "mean_inference_ms": 1.7433204524574533, "mean_action_processing_ms": 0.10434732284433483}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 261120, "timers": {"sample_time_ms": 1389.594, "sample_throughput": 2763.397, "learn_time_ms": 16867.967, "learn_throughput": 227.65, "update_time_ms": 3.286}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.04505081176757813, "cur_lr": 5e-05, "total_loss": -0.0006665477994829416, "policy_loss": -0.0008632043027319014, "vf_loss": 14.00294479902368, "vf_explained_var": -0.030357688665390015, "kl": 0.004054260367411189, "entropy": 1.2048232853412628, "entropy_coeff": 0.0}}, "num_steps_sampled": 261120, "num_steps_trained": 261120}, "done": false, "episodes_total": 173, "training_iteration": 68, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-07-25", "timestamp": 1611198445, "time_this_iter_s": 18.116893529891968, "time_total_s": 1241.7539324760437, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1241.7539324760437, "timesteps_since_restore": 0, "iterations_since_restore": 68, "perf": {"cpu_util_percent": 7.576923076923077, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 2.7914942987047704, "episode_len_mean": 1278.78, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 57544364.0}, "hist_stats": {"episode_reward": [-40.59095941464923, -15.060154473754112, 40.11090681534411, 52.85273591071138, -5.627121034912619, -28.351320133063233, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491], "episode_lengths": [1270, 841, 894, 1983, 516, 1413, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507]}, "sampler_perf": {"mean_env_wait_ms": 19.313928340952465, "mean_raw_obs_processing_ms": 0.4983736948145514, "mean_inference_ms": 1.743114600840232, "mean_action_processing_ms": 0.10435295534932257}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 264960, "timers": {"sample_time_ms": 1387.277, "sample_throughput": 2768.012, "learn_time_ms": 16939.356, "learn_throughput": 226.691, "update_time_ms": 3.292}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.022525405883789065, "cur_lr": 5e-05, "total_loss": -0.004641642153728753, "policy_loss": -0.005183355991903227, "vf_loss": 8.680480838287622, "vf_explained_var": -0.02739105559885502, "kl": 0.023663757572649047, "entropy": 1.242985539138317, "entropy_coeff": 0.0}}, "num_steps_sampled": 264960, "num_steps_trained": 264960}, "done": false, "episodes_total": 175, "training_iteration": 69, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-07-44", "timestamp": 1611198464, "time_this_iter_s": 18.78363561630249, "time_total_s": 1260.5375680923462, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1260.5375680923462, "timesteps_since_restore": 0, "iterations_since_restore": 69, "perf": {"cpu_util_percent": 7.581481481481482, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 1.9407418926209803, "episode_len_mean": 1294.01, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 167118544.0}, "hist_stats": {"episode_reward": [-8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -33.31599198172258, 2.1152554612760626, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112], "episode_lengths": [1360, 1830, 1482, 1657, 633, 1254, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841]}, "sampler_perf": {"mean_env_wait_ms": 19.318897493624924, "mean_raw_obs_processing_ms": 0.4980528791608299, "mean_inference_ms": 1.7416556053246546, "mean_action_processing_ms": 0.1042596584741186}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 268800, "timers": {"sample_time_ms": 1381.728, "sample_throughput": 2779.128, "learn_time_ms": 16923.127, "learn_throughput": 226.908, "update_time_ms": 3.264}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.033788108825683595, "cur_lr": 5e-05, "total_loss": -0.0006555538857355714, "policy_loss": -0.0011960502015426755, "vf_loss": 12.07706877309829, "vf_explained_var": -0.0003028884530067444, "kl": 0.015639132703654468, "entropy": 1.203108362853527, "entropy_coeff": 0.0}}, "num_steps_sampled": 268800, "num_steps_trained": 268800}, "done": false, "episodes_total": 179, "training_iteration": 70, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-08-02", "timestamp": 1611198482, "time_this_iter_s": 17.591391801834106, "time_total_s": 1278.1289598941803, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1278.1289598941803, "timesteps_since_restore": 0, "iterations_since_restore": 70, "perf": {"cpu_util_percent": 7.824000000000001, "ram_util_percent": 71.8}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 1.6650953276077793, "episode_len_mean": 1311.66, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 48561712.0}, "hist_stats": {"episode_reward": [-76.00657838959427, 17.241185367827708, 25.73395670171375, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179], "episode_lengths": [1955, 1697, 688, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657]}, "sampler_perf": {"mean_env_wait_ms": 19.316364681166146, "mean_raw_obs_processing_ms": 0.49794938290764706, "mean_inference_ms": 1.7412167178752533, "mean_action_processing_ms": 0.10420137300537215}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 272640, "timers": {"sample_time_ms": 1364.62, "sample_throughput": 2813.969, "learn_time_ms": 16948.487, "learn_throughput": 226.569, "update_time_ms": 3.189}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.033788108825683595, "cur_lr": 5e-05, "total_loss": -0.005062033422291279, "policy_loss": -0.005738879612181336, "vf_loss": 6.188310963800177, "vf_explained_var": -0.009294969961047173, "kl": 0.01984877238282934, "entropy": 1.2435124479234219, "entropy_coeff": 0.0}}, "num_steps_sampled": 272640, "num_steps_trained": 272640}, "done": false, "episodes_total": 181, "training_iteration": 71, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-08-20", "timestamp": 1611198500, "time_this_iter_s": 18.29413652420044, "time_total_s": 1296.4230964183807, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1296.4230964183807, "timesteps_since_restore": 0, "iterations_since_restore": 71, "perf": {"cpu_util_percent": 7.511538461538461, "ram_util_percent": 71.72307692307693}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -121.74931153611527, "episode_reward_mean": 1.7491878207842277, "episode_len_mean": 1314.25, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 25228916.0}, "hist_stats": {"episode_reward": [34.14320601935857, 78.57699089740258, -68.87698644025664, -30.067894727451, 18.097145179161856, -14.056041873628168, 13.737724613116914, -16.864457093480162, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708], "episode_lengths": [947, 645, 1492, 729, 1025, 1470, 1614, 602, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697]}, "sampler_perf": {"mean_env_wait_ms": 19.317728162397845, "mean_raw_obs_processing_ms": 0.49781441671458204, "mean_inference_ms": 1.740833359075897, "mean_action_processing_ms": 0.10419173946620386}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 276480, "timers": {"sample_time_ms": 1364.963, "sample_throughput": 2813.263, "learn_time_ms": 16922.822, "learn_throughput": 226.913, "update_time_ms": 3.023}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.033788108825683595, "cur_lr": 5e-05, "total_loss": -0.0019772532978095114, "policy_loss": -0.0022517871693708003, "vf_loss": 6.052551312372088, "vf_explained_var": -0.034330062568187714, "kl": 0.007945739074784797, "entropy": 1.214882180094719, "entropy_coeff": 0.0}}, "num_steps_sampled": 276480, "num_steps_trained": 276480}, "done": false, "episodes_total": 182, "training_iteration": 72, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-08-38", "timestamp": 1611198518, "time_this_iter_s": 17.75168776512146, "time_total_s": 1314.1747841835022, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1314.1747841835022, "timesteps_since_restore": 0, "iterations_since_restore": 72, "perf": {"cpu_util_percent": 7.380769230769231, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -173.63085939326095, "episode_reward_mean": 1.4821840583186197, "episode_len_mean": 1326.39, "episodes_this_iter": 7, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 9221236.0}, "hist_stats": {"episode_reward": [12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, 14.680422265941582, -41.72981555496964, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857], "episode_lengths": [1492, 1584, 1000, 944, 1301, 1238, 1232, 1001, 1633, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947]}, "sampler_perf": {"mean_env_wait_ms": 19.319020274056573, "mean_raw_obs_processing_ms": 0.49734164825851124, "mean_inference_ms": 1.7386100448270372, "mean_action_processing_ms": 0.10407881252705281}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 280320, "timers": {"sample_time_ms": 1364.355, "sample_throughput": 2814.516, "learn_time_ms": 16922.896, "learn_throughput": 226.912, "update_time_ms": 3.025}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.033788108825683595, "cur_lr": 5e-05, "total_loss": -0.006742361496435478, "policy_loss": -0.007754430029308423, "vf_loss": 9.576487532525789, "vf_explained_var": -0.0043750423938035965, "kl": 0.029669581912457943, "entropy": 1.2714666351675987, "entropy_coeff": 0.0}}, "num_steps_sampled": 280320, "num_steps_trained": 280320}, "done": false, "episodes_total": 189, "training_iteration": 73, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-08-56", "timestamp": 1611198536, "time_this_iter_s": 18.208979845046997, "time_total_s": 1332.3837640285492, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1332.3837640285492, "timesteps_since_restore": 0, "iterations_since_restore": 73, "perf": {"cpu_util_percent": 7.661538461538464, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -173.63085939326095, "episode_reward_mean": 1.4106318377447638, "episode_len_mean": 1321.54, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 110914424.0}, "hist_stats": {"episode_reward": [-3.2532794098156517, -30.951335936597953, 38.33170495984199, 5.638779648340086, -2.538108179564485, -44.1841836351817, -63.64640573399193, 61.86168802253172, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314], "episode_lengths": [882, 1267, 598, 1620, 1908, 1421, 1909, 630, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232]}, "sampler_perf": {"mean_env_wait_ms": 19.318470292418628, "mean_raw_obs_processing_ms": 0.49721567859336063, "mean_inference_ms": 1.7382634745572876, "mean_action_processing_ms": 0.10405060247812227}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 284160, "timers": {"sample_time_ms": 1362.866, "sample_throughput": 2817.592, "learn_time_ms": 16947.795, "learn_throughput": 226.578, "update_time_ms": 3.049}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.004777303083756124, "policy_loss": -0.0056374086288997205, "vf_loss": 8.298436609911732, "vf_explained_var": 0.012176113203167915, "kl": 0.016806812694994733, "entropy": 1.2619875147938728, "entropy_coeff": 0.0}}, "num_steps_sampled": 284160, "num_steps_trained": 284160}, "done": false, "episodes_total": 191, "training_iteration": 74, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-09-15", "timestamp": 1611198555, "time_this_iter_s": 18.89847755432129, "time_total_s": 1351.2822415828705, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1351.2822415828705, "timesteps_since_restore": 0, "iterations_since_restore": 74, "perf": {"cpu_util_percent": 8.266666666666666, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -173.63085939326095, "episode_reward_mean": -0.11791502167128072, "episode_len_mean": 1306.5, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 267970704.0}, "hist_stats": {"episode_reward": [-8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, -20.667037547658655, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953], "episode_lengths": [899, 1124, 796, 645, 1613, 1505, 663, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267]}, "sampler_perf": {"mean_env_wait_ms": 19.322927121467327, "mean_raw_obs_processing_ms": 0.49689106566861085, "mean_inference_ms": 1.7364435871879775, "mean_action_processing_ms": 0.10392065593933372}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 288000, "timers": {"sample_time_ms": 1358.788, "sample_throughput": 2826.049, "learn_time_ms": 16941.564, "learn_throughput": 226.661, "update_time_ms": 3.027}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.0017919405363500118, "policy_loss": -0.0024050005013123155, "vf_loss": 7.3798819202929735, "vf_explained_var": 0.01821092516183853, "kl": 0.011950550178880803, "entropy": 1.3096876479685307, "entropy_coeff": 0.0}}, "num_steps_sampled": 288000, "num_steps_trained": 288000}, "done": false, "episodes_total": 197, "training_iteration": 75, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-09-33", "timestamp": 1611198573, "time_this_iter_s": 18.232954025268555, "time_total_s": 1369.515195608139, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1369.515195608139, "timesteps_since_restore": 0, "iterations_since_restore": 75, "perf": {"cpu_util_percent": 7.307692307692307, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 133.1767942301946, "episode_reward_min": -173.63085939326095, "episode_reward_mean": 0.6365995908782197, "episode_len_mean": 1314.91, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 217098112.0}, "hist_stats": {"episode_reward": [54.784423707291324, -27.624064709852657, 9.5101121412922, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186], "episode_lengths": [1504, 823, 555, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505]}, "sampler_perf": {"mean_env_wait_ms": 19.323412151460307, "mean_raw_obs_processing_ms": 0.4969469713247691, "mean_inference_ms": 1.7365934487900045, "mean_action_processing_ms": 0.10394428705822435}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 291840, "timers": {"sample_time_ms": 1364.878, "sample_throughput": 2813.439, "learn_time_ms": 16790.145, "learn_throughput": 228.706, "update_time_ms": 3.011}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.003608292325225193, "policy_loss": -0.004535827429208439, "vf_loss": 12.264944791560993, "vf_explained_var": 0.008679484948515892, "kl": 0.018059006702969782, "entropy": 1.252228319644928, "entropy_coeff": 0.0}}, "num_steps_sampled": 291840, "num_steps_trained": 291840}, "done": false, "episodes_total": 198, "training_iteration": 76, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-09-50", "timestamp": 1611198590, "time_this_iter_s": 17.04134249687195, "time_total_s": 1386.556538105011, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1386.556538105011, "timesteps_since_restore": 0, "iterations_since_restore": 76, "perf": {"cpu_util_percent": 7.220833333333334, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -173.63085939326095, "episode_reward_mean": 2.3295796528649437, "episode_len_mean": 1318.66, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 88464344.0}, "hist_stats": {"episode_reward": [158.01098807258657, -6.826934442474628, 4.555343073207413, 9.352762581918352, -1.8859534295529141, 56.1994489165747, 32.817463016476516, 58.35874145166394, -90.23507419649546, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324], "episode_lengths": [750, 1003, 1012, 653, 1328, 1846, 768, 1923, 1211, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504]}, "sampler_perf": {"mean_env_wait_ms": 19.326183818895316, "mean_raw_obs_processing_ms": 0.49678644342345707, "mean_inference_ms": 1.7359934112943725, "mean_action_processing_ms": 0.1039350341720372}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 295680, "timers": {"sample_time_ms": 1362.912, "sample_throughput": 2817.496, "learn_time_ms": 16719.148, "learn_throughput": 229.677, "update_time_ms": 3.129}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.001335456188826356, "policy_loss": -0.0017029519513016567, "vf_loss": 6.33881332987221, "vf_explained_var": -0.017225874587893486, "kl": 0.007125617048586719, "entropy": 1.2401485294103622, "entropy_coeff": 0.0}}, "num_steps_sampled": 295680, "num_steps_trained": 295680}, "done": false, "episodes_total": 200, "training_iteration": 77, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-10-08", "timestamp": 1611198608, "time_this_iter_s": 17.987138509750366, "time_total_s": 1404.5436766147614, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1404.5436766147614, "timesteps_since_restore": 0, "iterations_since_restore": 77, "perf": {"cpu_util_percent": 7.238461538461538, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -173.63085939326095, "episode_reward_mean": -0.4763319449468515, "episode_len_mean": 1316.99, "episodes_this_iter": 7, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 34768536.0}, "hist_stats": {"episode_reward": [0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, 65.48239644005076, -13.726482595749314, -4.881591970251343, 8.691159700256538, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628], "episode_lengths": [1242, 529, 1989, 1017, 1407, 566, 1824, 1291, 1104, 1558, 761, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003]}, "sampler_perf": {"mean_env_wait_ms": 19.33682963441362, "mean_raw_obs_processing_ms": 0.4964987891898767, "mean_inference_ms": 1.7344436470073636, "mean_action_processing_ms": 0.10389024884561675}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 299520, "timers": {"sample_time_ms": 1363.97, "sample_throughput": 2815.311, "learn_time_ms": 16732.24, "learn_throughput": 229.497, "update_time_ms": 3.165}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.005332098153303377, "policy_loss": -0.006071470401366241, "vf_loss": 5.3470737636089325, "vf_explained_var": -0.008411260321736336, "kl": 0.01448285358492285, "entropy": 1.2595068328082561, "entropy_coeff": 0.0}}, "num_steps_sampled": 299520, "num_steps_trained": 299520}, "done": false, "episodes_total": 207, "training_iteration": 78, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-10-27", "timestamp": 1611198627, "time_this_iter_s": 18.258354902267456, "time_total_s": 1422.8020315170288, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1422.8020315170288, "timesteps_since_restore": 0, "iterations_since_restore": 78, "perf": {"cpu_util_percent": 7.523076923076923, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -173.63085939326095, "episode_reward_mean": -2.263731516586761, "episode_len_mean": 1318.06, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 184462592.0}, "hist_stats": {"episode_reward": [-50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 12.769896795351144, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093], "episode_lengths": [1460, 910, 1378, 1073, 1101, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824]}, "sampler_perf": {"mean_env_wait_ms": 19.34405720009561, "mean_raw_obs_processing_ms": 0.4964232989854401, "mean_inference_ms": 1.7342340635386972, "mean_action_processing_ms": 0.10393090024582477}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 303360, "timers": {"sample_time_ms": 1358.758, "sample_throughput": 2826.111, "learn_time_ms": 16650.684, "learn_throughput": 230.621, "update_time_ms": 3.157}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.004422013822477311, "policy_loss": -0.005420666057034396, "vf_loss": 6.1785276487935334, "vf_explained_var": -0.002216797322034836, "kl": 0.019582469627493992, "entropy": 1.1155982688069344, "entropy_coeff": 0.0}}, "num_steps_sampled": 303360, "num_steps_trained": 303360}, "done": false, "episodes_total": 211, "training_iteration": 79, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-10-45", "timestamp": 1611198645, "time_this_iter_s": 17.915745973587036, "time_total_s": 1440.7177774906158, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1440.7177774906158, "timesteps_since_restore": 0, "iterations_since_restore": 79, "perf": {"cpu_util_percent": 7.4719999999999995, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -173.63085939326095, "episode_reward_mean": -1.9894186344897287, "episode_len_mean": 1325.86, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 280408864.0}, "hist_stats": {"episode_reward": [40.20118500505443, -33.77291493523683, 3.740769895216447, 18.017079418227027, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171], "episode_lengths": [1881, 1663, 1278, 530, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073]}, "sampler_perf": {"mean_env_wait_ms": 19.344841237203948, "mean_raw_obs_processing_ms": 0.49637369876734333, "mean_inference_ms": 1.7340278276474217, "mean_action_processing_ms": 0.10392653919985394}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 307200, "timers": {"sample_time_ms": 1356.297, "sample_throughput": 2831.237, "learn_time_ms": 16673.814, "learn_throughput": 230.301, "update_time_ms": 3.138}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.0033364248083671555, "policy_loss": -0.003683192131575197, "vf_loss": 5.693716279231012, "vf_explained_var": 0.01775738038122654, "kl": 0.006729553257173393, "entropy": 1.1631655618548393, "entropy_coeff": 0.0}}, "num_steps_sampled": 307200, "num_steps_trained": 307200}, "done": false, "episodes_total": 212, "training_iteration": 80, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-11-02", "timestamp": 1611198662, "time_this_iter_s": 17.797804832458496, "time_total_s": 1458.5155823230743, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1458.5155823230743, "timesteps_since_restore": 0, "iterations_since_restore": 80, "perf": {"cpu_util_percent": 7.003846153846154, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -173.63085939326095, "episode_reward_mean": -2.3491907349258905, "episode_len_mean": 1335.19, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 22423634.0}, "hist_stats": {"episode_reward": [-28.690501734801934, -50.86107214985585, 31.5592982192482, -31.47412023650062, -69.43763367725035, 47.74287501890029, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443], "episode_lengths": [1480, 1263, 1661, 1329, 1706, 1730, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881]}, "sampler_perf": {"mean_env_wait_ms": 19.34334801258439, "mean_raw_obs_processing_ms": 0.4962546030966648, "mean_inference_ms": 1.732953656133018, "mean_action_processing_ms": 0.10389408438790619}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 311040, "timers": {"sample_time_ms": 1361.731, "sample_throughput": 2819.94, "learn_time_ms": 16626.352, "learn_throughput": 230.959, "update_time_ms": 3.06}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.050682163238525396, "cur_lr": 5e-05, "total_loss": -0.0020534359246084932, "policy_loss": -0.002303314995515393, "vf_loss": 5.261660131625831, "vf_explained_var": -0.032351527363061905, "kl": 0.004826614665944362, "entropy": 1.1191309858113527, "entropy_coeff": 0.0}}, "num_steps_sampled": 311040, "num_steps_trained": 311040}, "done": false, "episodes_total": 215, "training_iteration": 81, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-11-20", "timestamp": 1611198680, "time_this_iter_s": 17.87374520301819, "time_total_s": 1476.3893275260925, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1476.3893275260925, "timesteps_since_restore": 0, "iterations_since_restore": 81, "perf": {"cpu_util_percent": 7.268, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.128378063084465, "episode_len_mean": 1330.9, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1564961792.0}, "hist_stats": {"episode_reward": [-14.434366334246814, -91.12603824650478, -725.5272071299562, 35.740763010456156, -7.53798614606378, 3.8799771402503787, -28.9465462640458, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482], "episode_lengths": [728, 1800, 1808, 1562, 1907, 1450, 599, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661]}, "sampler_perf": {"mean_env_wait_ms": 19.342181598613802, "mean_raw_obs_processing_ms": 0.49607940084667945, "mean_inference_ms": 1.731932935440837, "mean_action_processing_ms": 0.10386248957751086}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 314880, "timers": {"sample_time_ms": 1358.227, "sample_throughput": 2827.216, "learn_time_ms": 16641.466, "learn_throughput": 230.749, "update_time_ms": 3.228}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0016371776000596583, "policy_loss": -0.0018031896906904876, "vf_loss": 2.5204623916652054, "vf_explained_var": -0.02819458395242691, "kl": 0.006451485816796776, "entropy": 1.16563356295228, "entropy_coeff": 0.0}}, "num_steps_sampled": 314880, "num_steps_trained": 314880}, "done": false, "episodes_total": 218, "training_iteration": 82, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-11-38", "timestamp": 1611198698, "time_this_iter_s": 17.870819330215454, "time_total_s": 1494.260146856308, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1494.260146856308, "timesteps_since_restore": 0, "iterations_since_restore": 82, "perf": {"cpu_util_percent": 7.357692307692307, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -9.248826109830713, "episode_len_mean": 1330.86, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2281548032.0}, "hist_stats": {"episode_reward": [-2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, -7.6807542627031555, 34.34351606214226, 70.74825260831673, 1.0821374962071646, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562], "episode_lengths": [1148, 1338, 1054, 1974, 784, 858, 1818, 1596, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808]}, "sampler_perf": {"mean_env_wait_ms": 19.343260691698664, "mean_raw_obs_processing_ms": 0.495941282069548, "mean_inference_ms": 1.7310115117947027, "mean_action_processing_ms": 0.10376764895015869}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 318720, "timers": {"sample_time_ms": 1357.653, "sample_throughput": 2828.41, "learn_time_ms": 16628.841, "learn_throughput": 230.924, "update_time_ms": 3.235}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.002293786237714812, "policy_loss": -0.0027040847344323993, "vf_loss": 3.00091195711866, "vf_explained_var": -0.02929668128490448, "kl": 0.016072016311227344, "entropy": 1.0575774535536766, "entropy_coeff": 0.0}}, "num_steps_sampled": 318720, "num_steps_trained": 318720}, "done": false, "episodes_total": 222, "training_iteration": 83, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-11-56", "timestamp": 1611198716, "time_this_iter_s": 18.076487064361572, "time_total_s": 1512.3366339206696, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1512.3366339206696, "timesteps_since_restore": 0, "iterations_since_restore": 83, "perf": {"cpu_util_percent": 7.323076923076922, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -9.2878234925216, "episode_len_mean": 1328.42, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 628555008.0}, "hist_stats": {"episode_reward": [42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, -44.623607566689394, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608], "episode_lengths": [1640, 554, 847, 1771, 1832, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974]}, "sampler_perf": {"mean_env_wait_ms": 19.341166882579575, "mean_raw_obs_processing_ms": 0.4957517123408842, "mean_inference_ms": 1.7294565881659743, "mean_action_processing_ms": 0.10372841957629202}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 322560, "timers": {"sample_time_ms": 1363.455, "sample_throughput": 2816.375, "learn_time_ms": 16614.367, "learn_throughput": 231.125, "update_time_ms": 3.13}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0023537264205515385, "policy_loss": -0.002587687107734382, "vf_loss": 3.0318750517908484, "vf_explained_var": 0.0017542243003845215, "kl": 0.009112470492254943, "entropy": 1.1786882318556309, "entropy_coeff": 0.0}}, "num_steps_sampled": 322560, "num_steps_trained": 322560}, "done": false, "episodes_total": 226, "training_iteration": 84, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-12-15", "timestamp": 1611198735, "time_this_iter_s": 18.81128692626953, "time_total_s": 1531.147920846939, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1531.147920846939, "timesteps_since_restore": 0, "iterations_since_restore": 84, "perf": {"cpu_util_percent": 8.411538461538463, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.708807425510745, "episode_len_mean": 1321.65, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 46975320.0}, "hist_stats": {"episode_reward": [13.277999134395937, -11.801183925677552, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125], "episode_lengths": [1155, 1883, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771]}, "sampler_perf": {"mean_env_wait_ms": 19.339700117248395, "mean_raw_obs_processing_ms": 0.4957360890274116, "mean_inference_ms": 1.729409151450228, "mean_action_processing_ms": 0.10371920197274806}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 326400, "timers": {"sample_time_ms": 1360.978, "sample_throughput": 2821.501, "learn_time_ms": 16568.679, "learn_throughput": 231.763, "update_time_ms": 3.182}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0046529633982572705, "policy_loss": -0.0049168545519933105, "vf_loss": 3.7893593427725136, "vf_explained_var": -0.013973210006952286, "kl": 0.01026386531884782, "entropy": 1.1648584604263306, "entropy_coeff": 0.0}}, "num_steps_sampled": 326400, "num_steps_trained": 326400}, "done": false, "episodes_total": 227, "training_iteration": 85, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-12-33", "timestamp": 1611198753, "time_this_iter_s": 17.750720977783203, "time_total_s": 1548.8986418247223, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1548.8986418247223, "timesteps_since_restore": 0, "iterations_since_restore": 85, "perf": {"cpu_util_percent": 7.392307692307693, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.24882148932382, "episode_len_mean": 1312.08, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 376443808.0}, "hist_stats": {"episode_reward": [34.19740969301523, -2.9084775135409027, 24.816577944843136, 133.1767942301946, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937], "episode_lengths": [926, 1311, 1808, 742, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155]}, "sampler_perf": {"mean_env_wait_ms": 19.338102613338684, "mean_raw_obs_processing_ms": 0.4957188931411946, "mean_inference_ms": 1.7293451557295927, "mean_action_processing_ms": 0.10370915443715996}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 330240, "timers": {"sample_time_ms": 1351.161, "sample_throughput": 2842.0, "learn_time_ms": 16598.468, "learn_throughput": 231.347, "update_time_ms": 3.056}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0016100252978503704, "policy_loss": -0.001763015054166317, "vf_loss": 2.7996553396224044, "vf_explained_var": -0.01596697047352791, "kl": 0.005926969723077491, "entropy": 1.1640937961637974, "entropy_coeff": 0.0}}, "num_steps_sampled": 330240, "num_steps_trained": 330240}, "done": false, "episodes_total": 228, "training_iteration": 86, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-12-50", "timestamp": 1611198770, "time_this_iter_s": 17.24035882949829, "time_total_s": 1566.1390006542206, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1566.1390006542206, "timesteps_since_restore": 0, "iterations_since_restore": 86, "perf": {"cpu_util_percent": 7.4125000000000005, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.907263096245687, "episode_len_mean": 1304.56, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 92815400.0}, "hist_stats": {"episode_reward": [-109.67652715137933, -5.43169356669367, 4.348954687382751, 46.25297324049351, -5.457012924033853, 53.10951336602061, -13.905117972236631, 11.696776938125108, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523], "episode_lengths": [1917, 682, 510, 1680, 1997, 1789, 1133, 679, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926]}, "sampler_perf": {"mean_env_wait_ms": 19.339668083938772, "mean_raw_obs_processing_ms": 0.49552507440050464, "mean_inference_ms": 1.7284470820395865, "mean_action_processing_ms": 0.10367444966443125}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 334080, "timers": {"sample_time_ms": 1350.059, "sample_throughput": 2844.321, "learn_time_ms": 16612.514, "learn_throughput": 231.151, "update_time_ms": 3.028}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.00048352580051869154, "policy_loss": -0.0006144389044493437, "vf_loss": 2.858827584423125, "vf_explained_var": -0.05723370611667633, "kl": 0.005053472497820621, "entropy": 1.228719126433134, "entropy_coeff": 0.0}}, "num_steps_sampled": 334080, "num_steps_trained": 334080}, "done": false, "episodes_total": 231, "training_iteration": 87, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-13-08", "timestamp": 1611198788, "time_this_iter_s": 18.116387367248535, "time_total_s": 1584.2553880214691, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1584.2553880214691, "timesteps_since_restore": 0, "iterations_since_restore": 87, "perf": {"cpu_util_percent": 8.13076923076923, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.943676034699006, "episode_len_mean": 1290.25, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 248644768.0}, "hist_stats": {"episode_reward": [14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, -29.868997701033766, -0.3818069545001974, 33.03119988464683, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751], "episode_lengths": [853, 1092, 1297, 1239, 1366, 1416, 1810, 1026, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510]}, "sampler_perf": {"mean_env_wait_ms": 19.335830468411622, "mean_raw_obs_processing_ms": 0.4954153405997688, "mean_inference_ms": 1.7277351077743652, "mean_action_processing_ms": 0.1036568921207134}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 337920, "timers": {"sample_time_ms": 1344.393, "sample_throughput": 2856.308, "learn_time_ms": 16567.394, "learn_throughput": 231.781, "update_time_ms": 3.002}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.007811893156031147, "policy_loss": -0.008208288752939552, "vf_loss": 4.021170673426241, "vf_explained_var": 0.02667919546365738, "kl": 0.01548401452600956, "entropy": 1.2783668115735054, "entropy_coeff": 0.0}}, "num_steps_sampled": 337920, "num_steps_trained": 337920}, "done": false, "episodes_total": 236, "training_iteration": 88, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-13-26", "timestamp": 1611198806, "time_this_iter_s": 17.7509548664093, "time_total_s": 1602.0063428878784, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1602.0063428878784, "timesteps_since_restore": 0, "iterations_since_restore": 88, "perf": {"cpu_util_percent": 7.93076923076923, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.71105959341464, "episode_len_mean": 1282.44, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 157753040.0}, "hist_stats": {"episode_reward": [72.51966277718694, -4.81568166254368, -41.66194175709392, 32.92776070526886, 2.695480714299888, 115.18346251299084, 4.285013041642589, 20.24882741340714, 21.472863322868058, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099], "episode_lengths": [1338, 1019, 1114, 1870, 553, 1465, 946, 1448, 502, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366]}, "sampler_perf": {"mean_env_wait_ms": 19.33289754836845, "mean_raw_obs_processing_ms": 0.49541570090451564, "mean_inference_ms": 1.727426701655104, "mean_action_processing_ms": 0.103620105742943}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 341760, "timers": {"sample_time_ms": 1342.944, "sample_throughput": 2859.39, "learn_time_ms": 16626.723, "learn_throughput": 230.954, "update_time_ms": 2.938}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": 0.00035133949131704867, "policy_loss": 0.00014573143562301993, "vf_loss": 3.1548488549888134, "vf_explained_var": 0.0016495529562234879, "kl": 0.00798956434300635, "entropy": 1.2365492209792137, "entropy_coeff": 0.0}}, "num_steps_sampled": 341760, "num_steps_trained": 341760}, "done": false, "episodes_total": 239, "training_iteration": 89, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-13-45", "timestamp": 1611198825, "time_this_iter_s": 18.49389910697937, "time_total_s": 1620.5002419948578, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1620.5002419948578, "timesteps_since_restore": 0, "iterations_since_restore": 89, "perf": {"cpu_util_percent": 7.676923076923076, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -12.699934233010621, "episode_len_mean": 1283.4, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 19291614.0}, "hist_stats": {"episode_reward": [39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 31.853302347621845, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392], "episode_lengths": [1004, 1448, 727, 1328, 690, 1683, 1535, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114]}, "sampler_perf": {"mean_env_wait_ms": 19.329780218597534, "mean_raw_obs_processing_ms": 0.4952338077813655, "mean_inference_ms": 1.7261961076349397, "mean_action_processing_ms": 0.10356313882189397}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 345600, "timers": {"sample_time_ms": 1339.481, "sample_throughput": 2866.781, "learn_time_ms": 16621.808, "learn_throughput": 231.022, "update_time_ms": 3.025}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.004031170858070254, "policy_loss": -0.004390660207718611, "vf_loss": 4.349616175983101, "vf_explained_var": 0.01583012565970421, "kl": 0.014013933920068666, "entropy": 1.2786855027079582, "entropy_coeff": 0.0}}, "num_steps_sampled": 345600, "num_steps_trained": 345600}, "done": false, "episodes_total": 245, "training_iteration": 90, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-14-02", "timestamp": 1611198842, "time_this_iter_s": 17.715312719345093, "time_total_s": 1638.2155547142029, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1638.2155547142029, "timesteps_since_restore": 0, "iterations_since_restore": 90, "perf": {"cpu_util_percent": 8.164000000000001, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -12.5983584306697, "episode_len_mean": 1282.52, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 29784982.0}, "hist_stats": {"episode_reward": [42.01088258171409, -6.753606229208963, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089], "episode_lengths": [1447, 1624, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683]}, "sampler_perf": {"mean_env_wait_ms": 19.329078076476417, "mean_raw_obs_processing_ms": 0.4952127031727522, "mean_inference_ms": 1.726063650260186, "mean_action_processing_ms": 0.10355559039210055}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 349440, "timers": {"sample_time_ms": 1338.698, "sample_throughput": 2868.459, "learn_time_ms": 16625.9, "learn_throughput": 230.965, "update_time_ms": 3.185}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0020566222447087057, "policy_loss": -0.002298322317074053, "vf_loss": 5.125194969587028, "vf_explained_var": 0.010382097214460373, "kl": 0.009335596289020032, "entropy": 1.3027575761079788, "entropy_coeff": 0.0}}, "num_steps_sampled": 349440, "num_steps_trained": 349440}, "done": false, "episodes_total": 246, "training_iteration": 91, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-14-20", "timestamp": 1611198860, "time_this_iter_s": 17.907257556915283, "time_total_s": 1656.1228122711182, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1656.1228122711182, "timesteps_since_restore": 0, "iterations_since_restore": 91, "perf": {"cpu_util_percent": 7.81923076923077, "ram_util_percent": 71.70384615384616}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.869284115743147, "episode_len_mean": 1284.42, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 468217216.0}, "hist_stats": {"episode_reward": [66.15382526344668, -13.6863762135428, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409], "episode_lengths": [1814, 1766, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447]}, "sampler_perf": {"mean_env_wait_ms": 19.329435069177304, "mean_raw_obs_processing_ms": 0.49516368648213105, "mean_inference_ms": 1.725676220079519, "mean_action_processing_ms": 0.10354612478252925}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 353280, "timers": {"sample_time_ms": 1337.378, "sample_throughput": 2871.29, "learn_time_ms": 16593.449, "learn_throughput": 231.417, "update_time_ms": 3.1}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0029304595009307377, "policy_loss": -0.0031869121885392815, "vf_loss": 2.9181826225249097, "vf_explained_var": -0.01018306240439415, "kl": 0.010005191965319682, "entropy": 1.3574894554913044, "entropy_coeff": 0.0}}, "num_steps_sampled": 353280, "num_steps_trained": 353280}, "done": false, "episodes_total": 247, "training_iteration": 92, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-14-38", "timestamp": 1611198878, "time_this_iter_s": 17.52981996536255, "time_total_s": 1673.6526322364807, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1673.6526322364807, "timesteps_since_restore": 0, "iterations_since_restore": 92, "perf": {"cpu_util_percent": 7.656000000000001, "ram_util_percent": 71.736}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.571733041745535, "episode_len_mean": 1278.64, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 58444768.0}, "hist_stats": {"episode_reward": [16.06873118621819, 47.56452992116148, 20.69380767442547, -26.132789656383412, -89.42208828188969, -121.74931153611527, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668], "episode_lengths": [1188, 1092, 1583, 1845, 1909, 1262, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814]}, "sampler_perf": {"mean_env_wait_ms": 19.326991740521883, "mean_raw_obs_processing_ms": 0.4951570755242751, "mean_inference_ms": 1.725427557600735, "mean_action_processing_ms": 0.10352170457181555}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 357120, "timers": {"sample_time_ms": 1334.763, "sample_throughput": 2876.915, "learn_time_ms": 16588.514, "learn_throughput": 231.485, "update_time_ms": 2.989}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.00284479686524719, "policy_loss": -0.003002831945195794, "vf_loss": 2.9558191299438477, "vf_explained_var": -0.017478151246905327, "kl": 0.006119571276940405, "entropy": 1.335814993828535, "entropy_coeff": 0.0}}, "num_steps_sampled": 357120, "num_steps_trained": 357120}, "done": false, "episodes_total": 248, "training_iteration": 93, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-14-56", "timestamp": 1611198896, "time_this_iter_s": 18.000373363494873, "time_total_s": 1691.6530055999756, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1691.6530055999756, "timesteps_since_restore": 0, "iterations_since_restore": 93, "perf": {"cpu_util_percent": 7.75, "ram_util_percent": 71.73461538461538}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -9.656965581588478, "episode_len_mean": 1261.56, "episodes_this_iter": 5, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 66392160.0}, "hist_stats": {"episode_reward": [18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 9.22991547381853, -6.585900160212181, -8.738219553381372, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819], "episode_lengths": [664, 914, 1557, 987, 1861, 846, 634, 1988, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188]}, "sampler_perf": {"mean_env_wait_ms": 19.31731492710524, "mean_raw_obs_processing_ms": 0.4948936928908017, "mean_inference_ms": 1.7236661594468838, "mean_action_processing_ms": 0.10341991945429271}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 360960, "timers": {"sample_time_ms": 1330.703, "sample_throughput": 2885.692, "learn_time_ms": 16522.137, "learn_throughput": 232.415, "update_time_ms": 2.93}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.006268983139307238, "policy_loss": -0.0067373288329690695, "vf_loss": 2.70750839705579, "vf_explained_var": -0.028495099395513535, "kl": 0.01837495862855576, "entropy": 1.3629907816648483, "entropy_coeff": 0.0}}, "num_steps_sampled": 360960, "num_steps_trained": 360960}, "done": false, "episodes_total": 253, "training_iteration": 94, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-15-14", "timestamp": 1611198914, "time_this_iter_s": 18.106589555740356, "time_total_s": 1709.759595155716, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1709.759595155716, "timesteps_since_restore": 0, "iterations_since_restore": 94, "perf": {"cpu_util_percent": 7.343999999999999, "ram_util_percent": 71.8}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.387752521922623, "episode_len_mean": 1279.86, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 276704864.0}, "hist_stats": {"episode_reward": [34.11960694904901, -175.16442338652786, 61.87191816428907, -8.598806786076397, 4.9300479339853425, -39.01303572261228, 24.456051976555923, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672], "episode_lengths": [1825, 1605, 1868, 1933, 1990, 900, 1986, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861]}, "sampler_perf": {"mean_env_wait_ms": 19.317351705933614, "mean_raw_obs_processing_ms": 0.4947955945394418, "mean_inference_ms": 1.723159375049501, "mean_action_processing_ms": 0.10336450197056168}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 364800, "timers": {"sample_time_ms": 1337.751, "sample_throughput": 2870.489, "learn_time_ms": 16569.461, "learn_throughput": 231.752, "update_time_ms": 2.792}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.003665111646114383, "policy_loss": -0.004042146108986344, "vf_loss": 2.4839950082823634, "vf_explained_var": 0.02774111181497574, "kl": 0.014780608114961069, "entropy": 1.3514407351613045, "entropy_coeff": 0.0}}, "num_steps_sampled": 364800, "num_steps_trained": 364800}, "done": false, "episodes_total": 256, "training_iteration": 95, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-15-32", "timestamp": 1611198932, "time_this_iter_s": 18.293827533721924, "time_total_s": 1728.0534226894379, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1728.0534226894379, "timesteps_since_restore": 0, "iterations_since_restore": 95, "perf": {"cpu_util_percent": 7.537037037037036, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.232433100601511, "episode_len_mean": 1241.83, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5956044.0}, "hist_stats": {"episode_reward": [-47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -66.17763816468965, 39.98720570360689, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907], "episode_lengths": [576, 1034, 540, 856, 1466, 1298, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868]}, "sampler_perf": {"mean_env_wait_ms": 19.310331520832282, "mean_raw_obs_processing_ms": 0.4946211686836735, "mean_inference_ms": 1.7223004088181195, "mean_action_processing_ms": 0.1033414190136725}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 368640, "timers": {"sample_time_ms": 1338.928, "sample_throughput": 2867.966, "learn_time_ms": 16662.882, "learn_throughput": 230.452, "update_time_ms": 2.83}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0032612281502224505, "policy_loss": -0.003544208244420588, "vf_loss": 3.6928906335961074, "vf_explained_var": -0.05354757979512215, "kl": 0.01102093890949618, "entropy": 1.401023030281067, "entropy_coeff": 0.0}}, "num_steps_sampled": 368640, "num_steps_trained": 368640}, "done": false, "episodes_total": 260, "training_iteration": 96, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-15-50", "timestamp": 1611198950, "time_this_iter_s": 18.187067985534668, "time_total_s": 1746.2404906749725, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1746.2404906749725, "timesteps_since_restore": 0, "iterations_since_restore": 96, "perf": {"cpu_util_percent": 7.523076923076924, "ram_util_percent": 71.71153846153847}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.215602597618123, "episode_len_mean": 1241.1, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 86197096.0}, "hist_stats": {"episode_reward": [-32.9048585323117, 8.397476369567864, 9.739563544474604, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287], "episode_lengths": [1318, 1373, 813, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856]}, "sampler_perf": {"mean_env_wait_ms": 19.306516620138485, "mean_raw_obs_processing_ms": 0.494564371676278, "mean_inference_ms": 1.722083307241749, "mean_action_processing_ms": 0.10334966962062749}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 372480, "timers": {"sample_time_ms": 1339.893, "sample_throughput": 2865.9, "learn_time_ms": 16711.427, "learn_throughput": 229.783, "update_time_ms": 2.852}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.003372756385942921, "policy_loss": -0.0038724004407413304, "vf_loss": 2.7139764768071473, "vf_explained_var": -0.009024161845445633, "kl": 0.019609651673818007, "entropy": 1.3589620143175125, "entropy_coeff": 0.0}}, "num_steps_sampled": 372480, "num_steps_trained": 372480}, "done": false, "episodes_total": 262, "training_iteration": 97, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-16-09", "timestamp": 1611198969, "time_this_iter_s": 18.611329317092896, "time_total_s": 1764.8518199920654, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1764.8518199920654, "timesteps_since_restore": 0, "iterations_since_restore": 97, "perf": {"cpu_util_percent": 8.069230769230769, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.259357463277679, "episode_len_mean": 1247.08, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 482346624.0}, "hist_stats": {"episode_reward": [5.3640769785190905, 7.331501923727466, -13.154778217205727, 17.32778964882128, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864], "episode_lengths": [1411, 1628, 1732, 1098, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373]}, "sampler_perf": {"mean_env_wait_ms": 19.307184551614377, "mean_raw_obs_processing_ms": 0.4945234308898716, "mean_inference_ms": 1.7218858095754874, "mean_action_processing_ms": 0.10334266659611323}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 376320, "timers": {"sample_time_ms": 1341.926, "sample_throughput": 2861.558, "learn_time_ms": 16726.66, "learn_throughput": 229.574, "update_time_ms": 2.907}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0010870893020182848, "policy_loss": -0.0013439116009976715, "vf_loss": 3.267940422752872, "vf_explained_var": -0.04547637701034546, "kl": 0.010005334523157217, "entropy": 1.369792316108942, "entropy_coeff": 0.0}}, "num_steps_sampled": 376320, "num_steps_trained": 376320}, "done": false, "episodes_total": 263, "training_iteration": 98, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-16-27", "timestamp": 1611198987, "time_this_iter_s": 17.923632860183716, "time_total_s": 1782.7754528522491, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1782.7754528522491, "timesteps_since_restore": 0, "iterations_since_restore": 98, "perf": {"cpu_util_percent": 7.500000000000001, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -11.789585933428075, "episode_len_mean": 1251.07, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 77016136.0}, "hist_stats": {"episode_reward": [-47.96123079723669, -25.87902613901097, 32.3219232765511, 51.69127184157055, -47.07501655585118, -18.062662541488347, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905], "episode_lengths": [1721, 1545, 1591, 1662, 920, 1708, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411]}, "sampler_perf": {"mean_env_wait_ms": 19.304824155712016, "mean_raw_obs_processing_ms": 0.4944348750378312, "mean_inference_ms": 1.7216296899898023, "mean_action_processing_ms": 0.10331988986525482}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 380160, "timers": {"sample_time_ms": 1343.406, "sample_throughput": 2858.407, "learn_time_ms": 16711.428, "learn_throughput": 229.783, "update_time_ms": 2.982}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0027733530150726438, "policy_loss": -0.003067663172259927, "vf_loss": 2.58550563454628, "vf_explained_var": -0.005420191213488579, "kl": 0.011512408324051648, "entropy": 1.3711141757667065, "entropy_coeff": 0.0}}, "num_steps_sampled": 380160, "num_steps_trained": 380160}, "done": false, "episodes_total": 266, "training_iteration": 99, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-16-45", "timestamp": 1611199005, "time_this_iter_s": 18.357212781906128, "time_total_s": 1801.1326656341553, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1801.1326656341553, "timesteps_since_restore": 0, "iterations_since_restore": 99, "perf": {"cpu_util_percent": 7.161538461538462, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.14696863664297, "episode_len_mean": 1244.0, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 512190080.0}, "hist_stats": {"episode_reward": [52.59361638463003, 81.06632935858501, 17.15537667952654, 6.719515079197314, 19.120064900814665, -19.89487758971105, 1.6085253580714491, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511], "episode_lengths": [1017, 1487, 1079, 645, 582, 840, 1507, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591]}, "sampler_perf": {"mean_env_wait_ms": 19.303931573888306, "mean_raw_obs_processing_ms": 0.49433619145405117, "mean_inference_ms": 1.7210763158116922, "mean_action_processing_ms": 0.10326982335996693}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 384000, "timers": {"sample_time_ms": 1342.964, "sample_throughput": 2859.347, "learn_time_ms": 16722.834, "learn_throughput": 229.626, "update_time_ms": 2.831}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.005564917577430606, "policy_loss": -0.005964746931567788, "vf_loss": 3.1780676080379635, "vf_explained_var": 0.02966913767158985, "kl": 0.0156523051118711, "entropy": 1.3611790090799332, "entropy_coeff": 0.0}}, "num_steps_sampled": 384000, "num_steps_trained": 384000}, "done": false, "episodes_total": 269, "training_iteration": 100, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-17-03", "timestamp": 1611199023, "time_this_iter_s": 17.823904752731323, "time_total_s": 1818.9565703868866, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1818.9565703868866, "timesteps_since_restore": 0, "iterations_since_restore": 100, "perf": {"cpu_util_percent": 8.159999999999998, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -10.980208498767782, "episode_len_mean": 1263.14, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 419939168.0}, "hist_stats": {"episode_reward": [36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, -40.59095941464923, -15.060154473754112, -8.785012536695888, -26.368198595294007, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654], "episode_lengths": [1041, 1644, 1438, 1365, 1270, 841, 1360, 1830, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079]}, "sampler_perf": {"mean_env_wait_ms": 19.29746839998707, "mean_raw_obs_processing_ms": 0.49432079841456045, "mean_inference_ms": 1.7210330361355093, "mean_action_processing_ms": 0.10326804824394395}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 387840, "timers": {"sample_time_ms": 1345.668, "sample_throughput": 2853.601, "learn_time_ms": 16767.884, "learn_throughput": 229.009, "update_time_ms": 2.769}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.00425542623270303, "policy_loss": -0.00458567775785923, "vf_loss": 2.2893964119721204, "vf_explained_var": 0.008345415815711021, "kl": 0.012942184315761551, "entropy": 1.327022012323141, "entropy_coeff": 0.0}}, "num_steps_sampled": 387840, "num_steps_trained": 387840}, "done": false, "episodes_total": 273, "training_iteration": 101, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-17-22", "timestamp": 1611199042, "time_this_iter_s": 18.385077476501465, "time_total_s": 1837.341647863388, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1837.341647863388, "timesteps_since_restore": 0, "iterations_since_restore": 101, "perf": {"cpu_util_percent": 7.274074074074075, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.53107048134216, "episode_len_mean": 1254.43, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 262824432.0}, "hist_stats": {"episode_reward": [20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, -65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742], "episode_lengths": [1000, 925, 1647, 858, 1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365]}, "sampler_perf": {"mean_env_wait_ms": 19.293533504651183, "mean_raw_obs_processing_ms": 0.494249219567671, "mean_inference_ms": 1.7206324947426652, "mean_action_processing_ms": 0.10323945839679456}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 391680, "timers": {"sample_time_ms": 1348.055, "sample_throughput": 2848.549, "learn_time_ms": 16804.822, "learn_throughput": 228.506, "update_time_ms": 2.831}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": 0.00030283606611192226, "policy_loss": 7.236504461616278e-05, "vf_loss": 1.8323744719382375, "vf_explained_var": 0.022350912913680077, "kl": 0.009022325379191898, "entropy": 1.269761297851801, "entropy_coeff": 0.0}}, "num_steps_sampled": 391680, "num_steps_trained": 391680}, "done": false, "episodes_total": 277, "training_iteration": 102, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-17-40", "timestamp": 1611199060, "time_this_iter_s": 17.923767805099487, "time_total_s": 1855.2654156684875, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1855.2654156684875, "timesteps_since_restore": 0, "iterations_since_restore": 102, "perf": {"cpu_util_percent": 7.803999999999999, "ram_util_percent": 71.7}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.531070481342159, "episode_len_mean": 1254.43, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 698139520.0}, "hist_stats": {"episode_reward": [-65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075], "episode_lengths": [1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858]}, "sampler_perf": {"mean_env_wait_ms": 19.293533504651187, "mean_raw_obs_processing_ms": 0.4942492195676712, "mean_inference_ms": 1.7206324947426646, "mean_action_processing_ms": 0.10323945839679455}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 395520, "timers": {"sample_time_ms": 1346.931, "sample_throughput": 2850.926, "learn_time_ms": 16865.49, "learn_throughput": 227.684, "update_time_ms": 2.892}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025341081619262698, "cur_lr": 5e-05, "total_loss": -0.0017783252988010645, "policy_loss": -0.0023163515143096447, "vf_loss": 1.9191096689319238, "vf_explained_var": -0.015550235286355019, "kl": 0.021156014277948998, "entropy": 1.1784397512674332, "entropy_coeff": 0.0}}, "num_steps_sampled": 395520, "num_steps_trained": 395520}, "done": false, "episodes_total": 277, "training_iteration": 103, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-17-58", "timestamp": 1611199078, "time_this_iter_s": 18.595546007156372, "time_total_s": 1873.860961675644, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1873.860961675644, "timesteps_since_restore": 0, "iterations_since_restore": 103, "perf": {"cpu_util_percent": 7.485185185185186, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.531070481342159, "episode_len_mean": 1254.43, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 154833904.0}, "hist_stats": {"episode_reward": [-65.08190792623134, 74.14508000792179, -76.00657838959427, 17.241185367827708, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075], "episode_lengths": [1482, 1657, 1955, 1697, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858]}, "sampler_perf": {"mean_env_wait_ms": 19.293533504651187, "mean_raw_obs_processing_ms": 0.4942492195676712, "mean_inference_ms": 1.7206324947426646, "mean_action_processing_ms": 0.10323945839679455}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 399360, "timers": {"sample_time_ms": 1347.601, "sample_throughput": 2849.507, "learn_time_ms": 16888.313, "learn_throughput": 227.376, "update_time_ms": 2.912}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0025761953875189647, "policy_loss": -0.0028858014338766225, "vf_loss": 1.615636088361498, "vf_explained_var": 0.044935375452041626, "kl": 0.008102860614599194, "entropy": 1.262995071709156, "entropy_coeff": 0.0}}, "num_steps_sampled": 399360, "num_steps_trained": 399360}, "done": false, "episodes_total": 277, "training_iteration": 104, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-18-17", "timestamp": 1611199097, "time_this_iter_s": 18.341578006744385, "time_total_s": 1892.2025396823883, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1892.2025396823883, "timesteps_since_restore": 0, "iterations_since_restore": 104, "perf": {"cpu_util_percent": 7.634615384615383, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -8.359552358491506, "episode_len_mean": 1234.6, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 277826336.0}, "hist_stats": {"episode_reward": [28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, 34.14320601935857, 12.312912232986573, -173.63085939326095, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075], "episode_lengths": [1255, 1918, 953, 682, 947, 1492, 1584, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858]}, "sampler_perf": {"mean_env_wait_ms": 19.292960190145195, "mean_raw_obs_processing_ms": 0.49412123749704184, "mean_inference_ms": 1.7197775299912805, "mean_action_processing_ms": 0.10326997652403809}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 403200, "timers": {"sample_time_ms": 1348.789, "sample_throughput": 2846.998, "learn_time_ms": 16901.786, "learn_throughput": 227.195, "update_time_ms": 3.032}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0033220953919226304, "policy_loss": -0.003783779640798457, "vf_loss": 43.12598536896985, "vf_explained_var": 0.02861030027270317, "kl": 0.01101165912405122, "entropy": 1.3355559445917606, "entropy_coeff": 0.0}}, "num_steps_sampled": 403200, "num_steps_trained": 403200}, "done": false, "episodes_total": 281, "training_iteration": 105, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-18-35", "timestamp": 1611199115, "time_this_iter_s": 18.440287828445435, "time_total_s": 1910.6428275108337, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1910.6428275108337, "timesteps_since_restore": 0, "iterations_since_restore": 105, "perf": {"cpu_util_percent": 7.915384615384616, "ram_util_percent": 71.70000000000002}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.4932519276560186, "episode_len_mean": 1237.24, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 221729760.0}, "hist_stats": {"episode_reward": [-37.56828753347255, 63.96736314735427, -66.94377367124879, 15.657769067120613, 8.338659722240918, 30.40242642189483, -23.461345621208796, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556], "episode_lengths": [1649, 977, 1661, 1000, 944, 1301, 1238, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682]}, "sampler_perf": {"mean_env_wait_ms": 19.296034404488108, "mean_raw_obs_processing_ms": 0.4941000847567952, "mean_inference_ms": 1.7191213396587246, "mean_action_processing_ms": 0.10324595759502284}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 407040, "timers": {"sample_time_ms": 1347.331, "sample_throughput": 2850.079, "learn_time_ms": 16868.458, "learn_throughput": 227.644, "update_time_ms": 3.106}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0018556002760306, "policy_loss": -0.002416422386886552, "vf_loss": 321.66907896776684, "vf_explained_var": -0.04916951805353165, "kl": 0.006291192730714101, "entropy": 1.3319396264851093, "entropy_coeff": 0.0}}, "num_steps_sampled": 407040, "num_steps_trained": 407040}, "done": false, "episodes_total": 284, "training_iteration": 106, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-18-53", "timestamp": 1611199133, "time_this_iter_s": 17.840322017669678, "time_total_s": 1928.4831495285034, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1928.4831495285034, "timesteps_since_restore": 0, "iterations_since_restore": 106, "perf": {"cpu_util_percent": 7.642307692307691, "ram_util_percent": 71.70384615384616}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.123065328329009, "episode_len_mean": 1254.44, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 175781856.0}, "hist_stats": {"episode_reward": [52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 84.2265418785314, -3.2532794098156517, -30.951335936597953, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879], "episode_lengths": [1090, 1416, 1701, 1996, 1232, 882, 1267, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661]}, "sampler_perf": {"mean_env_wait_ms": 19.29751125467332, "mean_raw_obs_processing_ms": 0.49400581108085684, "mean_inference_ms": 1.7183870888179171, "mean_action_processing_ms": 0.10323253428632449}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 410880, "timers": {"sample_time_ms": 1352.313, "sample_throughput": 2839.579, "learn_time_ms": 16837.607, "learn_throughput": 228.061, "update_time_ms": 2.957}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0036208344590704655, "policy_loss": -0.004042240187118296, "vf_loss": 14.687144909636118, "vf_explained_var": 0.03959697484970093, "kl": 0.01069968358206097, "entropy": 1.3125030025839806, "entropy_coeff": 0.0}}, "num_steps_sampled": 410880, "num_steps_trained": 410880}, "done": false, "episodes_total": 288, "training_iteration": 107, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-19-11", "timestamp": 1611199151, "time_this_iter_s": 18.35092544555664, "time_total_s": 1946.83407497406, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1946.83407497406, "timesteps_since_restore": 0, "iterations_since_restore": 107, "perf": {"cpu_util_percent": 7.426923076923075, "ram_util_percent": 71.73846153846154}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.4632764181982365, "episode_len_mean": 1255.5, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 455912992.0}, "hist_stats": {"episode_reward": [36.67314493211523, -73.54811076762228, 52.87578338070221, -8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027], "episode_lengths": [802, 727, 1958, 899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996]}, "sampler_perf": {"mean_env_wait_ms": 19.29705213069512, "mean_raw_obs_processing_ms": 0.49388750670841325, "mean_inference_ms": 1.7177582827224043, "mean_action_processing_ms": 0.10319257177022902}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 414720, "timers": {"sample_time_ms": 1357.703, "sample_throughput": 2828.305, "learn_time_ms": 16867.347, "learn_throughput": 227.659, "update_time_ms": 2.83}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0029338904278120026, "policy_loss": -0.0033046270909835584, "vf_loss": 44.052654772414826, "vf_explained_var": -0.005701050162315369, "kl": 0.00859415288141463, "entropy": 1.3187997229397297, "entropy_coeff": 0.0}}, "num_steps_sampled": 414720, "num_steps_trained": 414720}, "done": false, "episodes_total": 291, "training_iteration": 108, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-19-30", "timestamp": 1611199170, "time_this_iter_s": 18.274263858795166, "time_total_s": 1965.1083388328552, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1965.1083388328552, "timesteps_since_restore": 0, "iterations_since_restore": 108, "perf": {"cpu_util_percent": 7.273076923076923, "ram_util_percent": 71.7576923076923}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.463276418198235, "episode_len_mean": 1255.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2581551616.0}, "hist_stats": {"episode_reward": [-8.349225233273355, -36.14011629035933, -20.736095073181616, -4.579992000673764, 15.468866326761237, -103.05464858890186, 54.784423707291324, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221], "episode_lengths": [899, 1124, 796, 645, 1613, 1505, 1504, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958]}, "sampler_perf": {"mean_env_wait_ms": 19.29705213069512, "mean_raw_obs_processing_ms": 0.4938875067084133, "mean_inference_ms": 1.7177582827224043, "mean_action_processing_ms": 0.10319257177022902}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 418560, "timers": {"sample_time_ms": 1364.762, "sample_throughput": 2813.677, "learn_time_ms": 16797.325, "learn_throughput": 228.608, "update_time_ms": 2.718}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0030446077762462664, "policy_loss": -0.003389356530533405, "vf_loss": 7.949704461498186, "vf_explained_var": 0.02965579740703106, "kl": 0.008860571309924126, "entropy": 1.3024991042912006, "entropy_coeff": 0.0}}, "num_steps_sampled": 418560, "num_steps_trained": 418560}, "done": false, "episodes_total": 291, "training_iteration": 109, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-19-47", "timestamp": 1611199187, "time_this_iter_s": 17.726425886154175, "time_total_s": 1982.8347647190094, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1982.8347647190094, "timesteps_since_restore": 0, "iterations_since_restore": 109, "perf": {"cpu_util_percent": 7.624, "ram_util_percent": 71.8}, "trial_id": "44498_00000"}
{"episode_reward_max": 158.01098807258657, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -6.4719028334915185, "episode_len_mean": 1272.95, "episodes_this_iter": 7, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1375695360.0}, "hist_stats": {"episode_reward": [14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, 158.01098807258657, -6.826934442474628, 0.7998833133761765, -15.201104805684437, -85.31393875555753, 30.64408801581852, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221], "episode_lengths": [850, 1182, 1325, 1282, 1628, 1733, 1831, 750, 1003, 1242, 529, 1989, 1017, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958]}, "sampler_perf": {"mean_env_wait_ms": 19.30250623661078, "mean_raw_obs_processing_ms": 0.4936220490971558, "mean_inference_ms": 1.7159155558418637, "mean_action_processing_ms": 0.10315077457012062}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 422400, "timers": {"sample_time_ms": 1365.081, "sample_throughput": 2813.021, "learn_time_ms": 16839.092, "learn_throughput": 228.041, "update_time_ms": 2.762}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.001495796583185438, "policy_loss": -0.002066698005364742, "vf_loss": 58.612064064946026, "vf_explained_var": 0.01463451236486435, "kl": 0.013477006301400252, "entropy": 1.3332372717559338, "entropy_coeff": 0.0}}, "num_steps_sampled": 422400, "num_steps_trained": 422400}, "done": false, "episodes_total": 298, "training_iteration": 110, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-20-06", "timestamp": 1611199206, "time_this_iter_s": 18.244853019714355, "time_total_s": 2001.0796177387238, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2001.0796177387238, "timesteps_since_restore": 0, "iterations_since_restore": 110, "perf": {"cpu_util_percent": 7.75, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.8449943561925295, "episode_len_mean": 1290.74, "episodes_this_iter": 6, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 226269840.0}, "hist_stats": {"episode_reward": [-3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -59.51320873730325, 20.313805020056495, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017], "episode_lengths": [1278, 1088, 1746, 958, 1981, 1258, 1407, 566, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831]}, "sampler_perf": {"mean_env_wait_ms": 19.29568596701348, "mean_raw_obs_processing_ms": 0.49346163243637764, "mean_inference_ms": 1.715395451731378, "mean_action_processing_ms": 0.10305723888800937}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 426240, "timers": {"sample_time_ms": 1363.527, "sample_throughput": 2816.227, "learn_time_ms": 16830.529, "learn_throughput": 228.157, "update_time_ms": 2.829}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": 0.00012998295278521255, "policy_loss": -0.00038951835449552163, "vf_loss": 80.42110522778239, "vf_explained_var": -0.058678675442934036, "kl": 0.011551432704436593, "entropy": 1.3662861101329327, "entropy_coeff": 0.0}}, "num_steps_sampled": 426240, "num_steps_trained": 426240}, "done": false, "episodes_total": 304, "training_iteration": 111, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-20-24", "timestamp": 1611199224, "time_this_iter_s": 18.284477710723877, "time_total_s": 2019.3640954494476, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2019.3640954494476, "timesteps_since_restore": 0, "iterations_since_restore": 111, "perf": {"cpu_util_percent": 7.82962962962963, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -7.75997935963352, "episode_len_mean": 1309.15, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 725726656.0}, "hist_stats": {"episode_reward": [-82.94998009424566, 52.25207603289979, -103.157952418093, -50.92287942274518, -30.9027630335516, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716], "episode_lengths": [1878, 1936, 1824, 1460, 910, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258]}, "sampler_perf": {"mean_env_wait_ms": 19.291623123491345, "mean_raw_obs_processing_ms": 0.49340590477138313, "mean_inference_ms": 1.7150951644087058, "mean_action_processing_ms": 0.10302723676466732}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 430080, "timers": {"sample_time_ms": 1360.455, "sample_throughput": 2822.585, "learn_time_ms": 16899.535, "learn_throughput": 227.225, "update_time_ms": 2.86}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.004621201573172584, "policy_loss": -0.005241613631369546, "vf_loss": 9.749714434728958, "vf_explained_var": -0.05369439348578453, "kl": 0.01606507509131916, "entropy": 1.309634730219841, "entropy_coeff": 0.0}}, "num_steps_sampled": 430080, "num_steps_trained": 430080}, "done": false, "episodes_total": 306, "training_iteration": 112, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-20-42", "timestamp": 1611199242, "time_this_iter_s": 18.58348298072815, "time_total_s": 2037.9475784301758, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2037.9475784301758, "timesteps_since_restore": 0, "iterations_since_restore": 112, "perf": {"cpu_util_percent": 8.115384615384615, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -5.438421941510876, "episode_len_mean": 1312.28, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 891133440.0}, "hist_stats": {"episode_reward": [4.874882284750438, -24.244103436081758, 66.5413680892062, 8.075539144829555, -49.4243722782171, 40.20118500505443, -28.690501734801934, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979], "episode_lengths": [1939, 1028, 1540, 1378, 1073, 1881, 1480, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936]}, "sampler_perf": {"mean_env_wait_ms": 19.288045723318636, "mean_raw_obs_processing_ms": 0.4932731731631723, "mean_inference_ms": 1.714448441734615, "mean_action_processing_ms": 0.1030257188236539}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 433920, "timers": {"sample_time_ms": 1364.66, "sample_throughput": 2813.887, "learn_time_ms": 16891.922, "learn_throughput": 227.328, "update_time_ms": 2.905}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": 0.0009271253147744574, "policy_loss": 0.0006490967534773517, "vf_loss": 5.586201889265794, "vf_explained_var": 0.013993673026561737, "kl": 0.007167181674958556, "entropy": 1.3212535977363586, "entropy_coeff": 0.0}}, "num_steps_sampled": 433920, "num_steps_trained": 433920}, "done": false, "episodes_total": 309, "training_iteration": 113, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-21-01", "timestamp": 1611199261, "time_this_iter_s": 18.561594009399414, "time_total_s": 2056.509172439575, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2056.509172439575, "timesteps_since_restore": 0, "iterations_since_restore": 113, "perf": {"cpu_util_percent": 9.266666666666666, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -6.232931417667722, "episode_len_mean": 1320.5, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 276318976.0}, "hist_stats": {"episode_reward": [-42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615, -50.86107214985585, 31.5592982192482, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062], "episode_lengths": [1807, 1807, 1527, 1493, 1263, 1661, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540]}, "sampler_perf": {"mean_env_wait_ms": 19.284247968245328, "mean_raw_obs_processing_ms": 0.49320663456990066, "mean_inference_ms": 1.7140544384927259, "mean_action_processing_ms": 0.10298587232092216}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 437760, "timers": {"sample_time_ms": 1365.589, "sample_throughput": 2811.974, "learn_time_ms": 16936.08, "learn_throughput": 226.735, "update_time_ms": 3.025}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0015599747857777402, "policy_loss": -0.0018236804608022794, "vf_loss": 34.17777582781855, "vf_explained_var": -0.028709454461932182, "kl": 0.006038130144588649, "entropy": 1.358193565160036, "entropy_coeff": 0.0}}, "num_steps_sampled": 437760, "num_steps_trained": 437760}, "done": false, "episodes_total": 313, "training_iteration": 114, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-21-20", "timestamp": 1611199280, "time_this_iter_s": 18.793800115585327, "time_total_s": 2075.3029725551605, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2075.3029725551605, "timesteps_since_restore": 0, "iterations_since_restore": 114, "perf": {"cpu_util_percent": 9.51923076923077, "ram_util_percent": 71.79999999999998}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -725.5272071299562, "episode_reward_mean": -6.605167330676387, "episode_len_mean": 1311.24, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 338905376.0}, "hist_stats": {"episode_reward": [-23.554089952491896, -32.97127527898223, -14.434366334246814, -91.12603824650478, -725.5272071299562, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062, -42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615], "episode_lengths": [1138, 860, 728, 1800, 1808, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540, 1807, 1807, 1527, 1493]}, "sampler_perf": {"mean_env_wait_ms": 19.28152073293753, "mean_raw_obs_processing_ms": 0.49319086537732304, "mean_inference_ms": 1.7139631015042815, "mean_action_processing_ms": 0.10295986001318909}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 441600, "timers": {"sample_time_ms": 1358.316, "sample_throughput": 2827.029, "learn_time_ms": 16925.117, "learn_throughput": 226.882, "update_time_ms": 3.137}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": 0.0005624818040814716, "policy_loss": 0.00032516119244974107, "vf_loss": 36.10605621896684, "vf_explained_var": -0.02056271582841873, "kl": 0.005293371035804739, "entropy": 1.3817099556326866, "entropy_coeff": 0.0}}, "num_steps_sampled": 441600, "num_steps_trained": 441600}, "done": false, "episodes_total": 315, "training_iteration": 115, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-21-38", "timestamp": 1611199298, "time_this_iter_s": 18.25960350036621, "time_total_s": 2093.5625760555267, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2093.5625760555267, "timesteps_since_restore": 0, "iterations_since_restore": 115, "perf": {"cpu_util_percent": 8.376923076923077, "ram_util_percent": 72.03846153846152}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -175.16442338652786, "episode_reward_mean": 1.1790566757182543, "episode_len_mean": 1297.82, "episodes_this_iter": 3, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 819766528.0}, "hist_stats": {"episode_reward": [-70.00871872858878, 29.44315813968754, -12.09965048234233, -2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062, -42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615, -23.554089952491896, -32.97127527898223], "episode_lengths": [1329, 590, 1075, 1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540, 1807, 1807, 1527, 1493, 1138, 860]}, "sampler_perf": {"mean_env_wait_ms": 19.283611152918986, "mean_raw_obs_processing_ms": 0.4931554647731407, "mean_inference_ms": 1.7134883377326366, "mean_action_processing_ms": 0.102936268980636}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 445440, "timers": {"sample_time_ms": 1372.537, "sample_throughput": 2797.74, "learn_time_ms": 17124.437, "learn_throughput": 224.241, "update_time_ms": 3.127}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.003209947914001532, "policy_loss": -0.0036912447249051183, "vf_loss": 60.12685287068598, "vf_explained_var": -0.021589692682027817, "kl": 0.011079948526457883, "entropy": 1.3884857334196568, "entropy_coeff": 0.0}}, "num_steps_sampled": 445440, "num_steps_trained": 445440}, "done": false, "episodes_total": 318, "training_iteration": 116, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-21-58", "timestamp": 1611199318, "time_this_iter_s": 19.975340366363525, "time_total_s": 2113.5379164218903, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2113.5379164218903, "timesteps_since_restore": 0, "iterations_since_restore": 116, "perf": {"cpu_util_percent": 14.058620689655172, "ram_util_percent": 74.99655172413793}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -175.16442338652786, "episode_reward_mean": 1.1790566757182543, "episode_len_mean": 1297.82, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 651879040.0}, "hist_stats": {"episode_reward": [-2.3714354284639305, 3.987809008587156, 2.320753849252517, 87.15427563659608, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062, -42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615, -23.554089952491896, -32.97127527898223, -70.00871872858878, 29.44315813968754, -12.09965048234233], "episode_lengths": [1148, 1338, 1054, 1974, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540, 1807, 1807, 1527, 1493, 1138, 860, 1329, 590, 1075]}, "sampler_perf": {"mean_env_wait_ms": 19.283611152918986, "mean_raw_obs_processing_ms": 0.49315546477314065, "mean_inference_ms": 1.7134883377326364, "mean_action_processing_ms": 0.10293626898063599}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 449280, "timers": {"sample_time_ms": 1374.296, "sample_throughput": 2794.159, "learn_time_ms": 17317.368, "learn_throughput": 221.743, "update_time_ms": 3.344}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.005028174840845168, "policy_loss": -0.005706704105250537, "vf_loss": 9.444675642007496, "vf_explained_var": 0.036105457693338394, "kl": 0.017602088541025296, "entropy": 1.251376811414957, "entropy_coeff": 0.0}}, "num_steps_sampled": 449280, "num_steps_trained": 449280}, "done": false, "episodes_total": 318, "training_iteration": 117, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-22-18", "timestamp": 1611199338, "time_this_iter_s": 20.300251007080078, "time_total_s": 2133.8381674289703, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2133.8381674289703, "timesteps_since_restore": 0, "iterations_since_restore": 117, "perf": {"cpu_util_percent": 13.055172413793102, "ram_util_percent": 75.5}, "trial_id": "44498_00000"}
{"episode_reward_max": 90.40619339012751, "episode_reward_min": -175.16442338652786, "episode_reward_mean": -0.1073174127080208, "episode_len_mean": 1282.01, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 271666400.0}, "hist_stats": {"episode_reward": [14.601903090932499, -83.54634786540713, 58.894022876808414, -27.49558387898942, 42.41030113546016, 12.253088157707754, -14.73571578412499, 54.66574012583125, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062, -42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615, -23.554089952491896, -32.97127527898223, -70.00871872858878, 29.44315813968754, -12.09965048234233], "episode_lengths": [1044, 1616, 589, 684, 1640, 554, 847, 1771, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540, 1807, 1807, 1527, 1493, 1138, 860, 1329, 590, 1075]}, "sampler_perf": {"mean_env_wait_ms": 19.282423688137143, "mean_raw_obs_processing_ms": 0.49305270323052985, "mean_inference_ms": 1.712927760927126, "mean_action_processing_ms": 0.1029051749395952}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 453120, "timers": {"sample_time_ms": 1375.382, "sample_throughput": 2791.952, "learn_time_ms": 17496.139, "learn_throughput": 219.477, "update_time_ms": 3.437}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0010881044436246157, "policy_loss": -0.001349826532532461, "vf_loss": 18.996456780354492, "vf_explained_var": -0.0371425524353981, "kl": 0.0063853736137389205, "entropy": 1.2727452740073204, "entropy_coeff": 0.0}}, "num_steps_sampled": 453120, "num_steps_trained": 453120}, "done": false, "episodes_total": 322, "training_iteration": 118, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-22-39", "timestamp": 1611199359, "time_this_iter_s": 20.07358169555664, "time_total_s": 2153.911749124527, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2153.911749124527, "timesteps_since_restore": 0, "iterations_since_restore": 118, "perf": {"cpu_util_percent": 12.910344827586206, "ram_util_percent": 75.50344827586207}, "trial_id": "44498_00000"}
{"episode_reward_max": 123.66720703794253, "episode_reward_min": -175.16442338652786, "episode_reward_mean": 1.061691036028397, "episode_len_mean": 1284.96, "episodes_this_iter": 4, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 449227072.0}, "hist_stats": {"episode_reward": [123.66720703794253, 94.53854527203877, -31.199775257115103, 24.4882814556498, 13.277999134395937, 34.19740969301523, -109.67652715137933, -5.43169356669367, 4.348954687382751, 14.511093061422912, -4.926199675627291, 18.367259076426972, -3.4982693792063424, 63.60195572002099, 72.51966277718694, -4.81568166254368, -41.66194175709392, 39.131749677401146, -28.842869871941552, 44.199333391996205, -25.86081501900483, -15.840172932631393, -14.861281494940089, 42.01088258171409, 66.15382526344668, 16.06873118621819, 18.583838820644285, 22.120230451294784, 13.11415498556144, 70.6759038378604, -102.06323395845672, 34.11960694904901, -175.16442338652786, 61.87191816428907, -47.462679107900385, -18.61907329955034, -12.102561945510391, -24.509486113075287, -32.9048585323117, 8.397476369567864, 5.3640769785190905, -47.96123079723669, -25.87902613901097, 32.3219232765511, 52.59361638463003, 81.06632935858501, 17.15537667952654, 36.51618406586165, 46.2779099937517, -167.47012710748723, 8.905274583764742, 20.458098857087077, 90.40619339012751, -1.4954160642461358, 44.74060053920075, 28.60293248924321, -118.53344030881867, 47.158573770283084, 10.221525394281556, -37.56828753347255, 63.96736314735427, -66.94377367124879, 52.64889445149779, 51.810103229626115, -42.78521808587541, 6.28238992750027, 36.67314493211523, -73.54811076762228, 52.87578338070221, 14.88654891526582, -39.61816723083299, 45.081516217942095, -60.9785200763315, -27.213706805527963, 35.65751961313682, 28.715380684682017, -3.940327073637146, 30.73957581649694, -85.18302000537292, -38.637911878755304, 44.227448001547565, -2.401935732315716, -82.94998009424566, 52.25207603289979, 4.874882284750438, -24.244103436081758, 66.5413680892062, -42.9523118240928, 1.1878386914965136, -77.97013798179982, 10.44551363557615, -23.554089952491896, -32.97127527898223, -70.00871872858878, 29.44315813968754, -12.09965048234233, 14.601903090932499, -83.54634786540713, 58.894022876808414, -27.49558387898942], "episode_lengths": [1716, 1841, 539, 1011, 1155, 926, 1917, 682, 510, 853, 1092, 1297, 1239, 1366, 1338, 1019, 1114, 1004, 1448, 727, 1328, 690, 1683, 1447, 1814, 1188, 664, 914, 1557, 987, 1861, 1825, 1605, 1868, 576, 1034, 540, 856, 1318, 1373, 1411, 1721, 1545, 1591, 1017, 1487, 1079, 1041, 1644, 1438, 1365, 1000, 925, 1647, 858, 1255, 1918, 953, 682, 1649, 977, 1661, 1090, 1416, 1701, 1996, 802, 727, 1958, 850, 1182, 1325, 1282, 1628, 1733, 1831, 1278, 1088, 1746, 958, 1981, 1258, 1878, 1936, 1939, 1028, 1540, 1807, 1807, 1527, 1493, 1138, 860, 1329, 590, 1075, 1044, 1616, 589, 684]}, "sampler_perf": {"mean_env_wait_ms": 19.285295851784877, "mean_raw_obs_processing_ms": 0.49305016154406195, "mean_inference_ms": 1.713036421474338, "mean_action_processing_ms": 0.10294425193780184}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 456960, "timers": {"sample_time_ms": 1375.728, "sample_throughput": 2791.25, "learn_time_ms": 17758.2, "learn_throughput": 216.238, "update_time_ms": 3.603}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.03801162242889405, "cur_lr": 5e-05, "total_loss": -0.0007988329161889851, "policy_loss": -0.0010485460006748326, "vf_loss": 38.06097844638862, "vf_explained_var": -0.026339542120695114, "kl": 0.005568140906689223, "entropy": 1.2563424445688725, "entropy_coeff": 0.0}}, "num_steps_sampled": 456960, "num_steps_trained": 456960}, "done": false, "episodes_total": 326, "training_iteration": 119, "experiment_id": "547eae99e5824d73bde2afa44bd5de6b", "date": "2021-01-20_22-22-59", "timestamp": 1611199379, "time_this_iter_s": 20.351332426071167, "time_total_s": 2174.263081550598, "pid": 9378, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 60, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 3840, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "ALL", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": false, "random_start": true, "episode_range": [500, 2000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 120, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 1e-06, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 100000, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2174.263081550598, "timesteps_since_restore": 0, "iterations_since_restore": 119, "perf": {"cpu_util_percent": 12.817241379310346, "ram_util_percent": 75.5551724137931}, "trial_id": "44498_00000"}
