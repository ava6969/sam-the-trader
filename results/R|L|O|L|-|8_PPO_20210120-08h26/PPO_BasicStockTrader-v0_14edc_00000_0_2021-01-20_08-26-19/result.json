{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 320259680.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5931008, "timers": {"sample_time_ms": 39013.802, "sample_throughput": 839.908, "learn_time_ms": 55312.816, "learn_throughput": 592.412, "update_time_ms": 3.083}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.2, "cur_lr": 5e-05, "total_loss": 0.0012171251000836492, "policy_loss": -0.00036755326436832547, "vf_loss": 1.4286206034012139, "vf_explained_var": -0.0008557233959436417, "kl": 0.0007802660602465039, "entropy": 0.19975480902940035, "entropy_coeff": 0.0}}, "num_steps_sampled": 5931008, "num_steps_trained": 5931008}, "done": false, "episodes_total": 137, "training_iteration": 181, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-34-24", "timestamp": 1611149664, "time_this_iter_s": 94.3350932598114, "time_total_s": 7546.1441259384155, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 94.3350932598114, "timesteps_since_restore": 0, "iterations_since_restore": 1, "perf": {"cpu_util_percent": 30.055555555555557, "ram_util_percent": 69.82370370370374}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 47967116.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5963776, "timers": {"sample_time_ms": 23623.704, "sample_throughput": 1387.081, "learn_time_ms": 54697.556, "learn_throughput": 599.076, "update_time_ms": 2.941}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.1, "cur_lr": 5e-05, "total_loss": 0.001528841778053902, "policy_loss": -1.910145510919392e-05, "vf_loss": 1.5165278243366629, "vf_explained_var": -0.008811121806502342, "kl": 0.00031415202965945355, "entropy": 0.1879984731785953, "entropy_coeff": 0.0}}, "num_steps_sampled": 5963776, "num_steps_trained": 5963776}, "done": false, "episodes_total": 137, "training_iteration": 182, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-35-26", "timestamp": 1611149726, "time_this_iter_s": 62.32440114021301, "time_total_s": 7608.4685270786285, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 156.6594944000244, "timesteps_since_restore": 0, "iterations_since_restore": 2, "perf": {"cpu_util_percent": 28.89101123595506, "ram_util_percent": 68.6865168539326}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 158493824.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 5996544, "timers": {"sample_time_ms": 18834.656, "sample_throughput": 1739.772, "learn_time_ms": 54773.879, "learn_throughput": 598.241, "update_time_ms": 3.019}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.05, "cur_lr": 5e-05, "total_loss": 0.0002510945196263492, "policy_loss": -0.0009325207211077213, "vf_loss": 1.1155748458113521, "vf_explained_var": -0.00017147138714790344, "kl": 0.0013607168948510662, "entropy": 0.23242797702550888, "entropy_coeff": 0.0}}, "num_steps_sampled": 5996544, "num_steps_trained": 5996544}, "done": false, "episodes_total": 137, "training_iteration": 183, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-36-30", "timestamp": 1611149790, "time_this_iter_s": 64.19351172447205, "time_total_s": 7672.662038803101, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 220.85300612449646, "timesteps_since_restore": 0, "iterations_since_restore": 3, "perf": {"cpu_util_percent": 29.370329670329667, "ram_util_percent": 68.7}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 3824312.75}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6029312, "timers": {"sample_time_ms": 16548.33, "sample_throughput": 1980.139, "learn_time_ms": 54546.572, "learn_throughput": 600.734, "update_time_ms": 2.943}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.025, "cur_lr": 5e-05, "total_loss": 0.0010929257841780782, "policy_loss": -0.00036898849066346884, "vf_loss": 1.4327010102570057, "vf_explained_var": -0.0003326442092657089, "kl": 0.0011685247045534197, "entropy": 0.19660828821361065, "entropy_coeff": 0.0}}, "num_steps_sampled": 6029312, "num_steps_trained": 6029312}, "done": false, "episodes_total": 137, "training_iteration": 184, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-37-34", "timestamp": 1611149854, "time_this_iter_s": 63.56233310699463, "time_total_s": 7736.224371910095, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 284.4153392314911, "timesteps_since_restore": 0, "iterations_since_restore": 4, "perf": {"cpu_util_percent": 29.602197802197804, "ram_util_percent": 68.7}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 141731568.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6062080, "timers": {"sample_time_ms": 15272.422, "sample_throughput": 2145.567, "learn_time_ms": 54389.947, "learn_throughput": 602.464, "update_time_ms": 2.955}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0125, "cur_lr": 5e-05, "total_loss": 0.0010687639005482197, "policy_loss": -0.00041697743290569633, "vf_loss": 1.465622485615313, "vf_explained_var": -0.0003445371985435486, "kl": 0.0016096251492854208, "entropy": 0.15977931069210172, "entropy_coeff": 0.0}}, "num_steps_sampled": 6062080, "num_steps_trained": 6062080}, "done": false, "episodes_total": 137, "training_iteration": 185, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-38-38", "timestamp": 1611149918, "time_this_iter_s": 63.94127631187439, "time_total_s": 7800.16564822197, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 348.3566155433655, "timesteps_since_restore": 0, "iterations_since_restore": 5, "perf": {"cpu_util_percent": 29.634065934065934, "ram_util_percent": 68.7}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1654187136.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6094848, "timers": {"sample_time_ms": 14583.678, "sample_throughput": 2246.896, "learn_time_ms": 54109.178, "learn_throughput": 605.59, "update_time_ms": 2.908}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00625, "cur_lr": 5e-05, "total_loss": 0.0006001486472086981, "policy_loss": -0.0004712245281552896, "vf_loss": 1.066532684257254, "vf_explained_var": -0.00021298229694366455, "kl": 0.0007750045660941396, "entropy": 0.17618902353569865, "entropy_coeff": 0.0}}, "num_steps_sampled": 6094848, "num_steps_trained": 6094848}, "done": false, "episodes_total": 137, "training_iteration": 186, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-39-42", "timestamp": 1611149982, "time_this_iter_s": 63.853644132614136, "time_total_s": 7864.019292354584, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 412.2102596759796, "timesteps_since_restore": 0, "iterations_since_restore": 6, "perf": {"cpu_util_percent": 29.868888888888893, "ram_util_percent": 68.70000000000002}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 35882732.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6127616, "timers": {"sample_time_ms": 14186.478, "sample_throughput": 2309.805, "learn_time_ms": 53933.8, "learn_throughput": 607.56, "update_time_ms": 2.901}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.003125, "cur_lr": 5e-05, "total_loss": 0.0010173442569794133, "policy_loss": -0.0005791773437522352, "vf_loss": 1.590954066021368, "vf_explained_var": 0.00011523440480232239, "kl": 0.0017803131522668991, "entropy": 0.13230912340804935, "entropy_coeff": 0.0}}, "num_steps_sampled": 6127616, "num_steps_trained": 6127616}, "done": false, "episodes_total": 137, "training_iteration": 187, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-40-47", "timestamp": 1611150047, "time_this_iter_s": 64.69301652908325, "time_total_s": 7928.712308883667, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 476.90327620506287, "timesteps_since_restore": 0, "iterations_since_restore": 7, "perf": {"cpu_util_percent": 30.203225806451613, "ram_util_percent": 68.70967741935485}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 215219296.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6160384, "timers": {"sample_time_ms": 13885.316, "sample_throughput": 2359.903, "learn_time_ms": 53041.329, "learn_throughput": 617.782, "update_time_ms": 2.879}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0015625, "cur_lr": 5e-05, "total_loss": 0.0009228738199453801, "policy_loss": -0.0002331192372366786, "vf_loss": 1.1549561219289899, "vf_explained_var": -0.00016404502093791962, "kl": 0.0006667961424682289, "entropy": 0.15801233798265457, "entropy_coeff": 0.0}}, "num_steps_sampled": 6160384, "num_steps_trained": 6160384}, "done": false, "episodes_total": 137, "training_iteration": 188, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-41-45", "timestamp": 1611150105, "time_this_iter_s": 58.5792179107666, "time_total_s": 7987.291526794434, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 535.4824941158295, "timesteps_since_restore": 0, "iterations_since_restore": 8, "perf": {"cpu_util_percent": 28.422891566265054, "ram_util_percent": 68.79156626506024}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 7972229.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6193152, "timers": {"sample_time_ms": 13787.239, "sample_throughput": 2376.69, "learn_time_ms": 52244.144, "learn_throughput": 627.209, "update_time_ms": 2.832}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.00078125, "cur_lr": 5e-05, "total_loss": 0.11304319828923326, "policy_loss": -0.00022396552958525717, "vf_loss": 113.26670652162284, "vf_explained_var": -0.003397500142455101, "kl": 0.0006171406694193138, "entropy": 0.18688309052959085, "entropy_coeff": 0.0}}, "num_steps_sampled": 6193152, "num_steps_trained": 6193152}, "done": false, "episodes_total": 137, "training_iteration": 189, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-42-44", "timestamp": 1611150164, "time_this_iter_s": 58.87671399116516, "time_total_s": 8046.168240785599, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 594.3592081069946, "timesteps_since_restore": 0, "iterations_since_restore": 9, "perf": {"cpu_util_percent": 25.900000000000006, "ram_util_percent": 65.93452380952381}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 19431754.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6225920, "timers": {"sample_time_ms": 13586.26, "sample_throughput": 2411.849, "learn_time_ms": 51467.25, "learn_throughput": 636.677, "update_time_ms": 2.922}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.000390625, "cur_lr": 5e-05, "total_loss": 0.0013231189223006368, "policy_loss": -0.0002934248768724501, "vf_loss": 1.615995910950005, "vf_explained_var": -0.00033960863947868347, "kl": 0.0013992300991958473, "entropy": 0.148947031237185, "entropy_coeff": 0.0}}, "num_steps_sampled": 6225920, "num_steps_trained": 6225920}, "done": false, "episodes_total": 137, "training_iteration": 190, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-43-40", "timestamp": 1611150220, "time_this_iter_s": 56.26153588294983, "time_total_s": 8102.429776668549, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 650.6207439899445, "timesteps_since_restore": 0, "iterations_since_restore": 10, "perf": {"cpu_util_percent": 20.145, "ram_util_percent": 61.208749999999995}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 65094364.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6258688, "timers": {"sample_time_ms": 10892.571, "sample_throughput": 3008.289, "learn_time_ms": 50477.755, "learn_throughput": 649.157, "update_time_ms": 2.914}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 0.0001953125, "cur_lr": 5e-05, "total_loss": 0.0010679633414838463, "policy_loss": -0.0005912620254093781, "vf_loss": 1.6590521766338497, "vf_explained_var": 0.00016281753778457642, "kl": 0.0008789690673438599, "entropy": 0.17707019858062267, "entropy_coeff": 0.0}}, "num_steps_sampled": 6258688, "num_steps_trained": 6258688}, "done": false, "episodes_total": 137, "training_iteration": 191, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-44-38", "timestamp": 1611150278, "time_this_iter_s": 57.503201484680176, "time_total_s": 8159.932978153229, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 708.1239454746246, "timesteps_since_restore": 0, "iterations_since_restore": 11, "perf": {"cpu_util_percent": 20.326829268292684, "ram_util_percent": 61.199999999999996}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 954683904.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6291456, "timers": {"sample_time_ms": 11335.316, "sample_throughput": 2890.788, "learn_time_ms": 49660.498, "learn_throughput": 659.84, "update_time_ms": 2.873}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.765625e-05, "cur_lr": 5e-05, "total_loss": 0.0009677968482719734, "policy_loss": -0.0005350624560378492, "vf_loss": 1.5027463620062917, "vf_explained_var": -0.002527344971895218, "kl": 0.00110524727642769, "entropy": 0.21507219411432743, "entropy_coeff": 0.0}}, "num_steps_sampled": 6291456, "num_steps_trained": 6291456}, "done": false, "episodes_total": 137, "training_iteration": 192, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-45-36", "timestamp": 1611150336, "time_this_iter_s": 58.57832217216492, "time_total_s": 8218.511300325394, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 766.7022676467896, "timesteps_since_restore": 0, "iterations_since_restore": 12, "perf": {"cpu_util_percent": 20.902409638554218, "ram_util_percent": 61.199999999999996}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 143810224.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6324224, "timers": {"sample_time_ms": 11788.248, "sample_throughput": 2779.718, "learn_time_ms": 48817.436, "learn_throughput": 671.236, "update_time_ms": 2.954}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.8828125e-05, "cur_lr": 5e-05, "total_loss": 0.0005676505097653717, "policy_loss": -0.0005879781674593687, "vf_loss": 1.1555644327308983, "vf_explained_var": 0.0002550128847360611, "kl": 0.0013885462321923114, "entropy": 0.19913879223167896, "entropy_coeff": 0.0}}, "num_steps_sampled": 6324224, "num_steps_trained": 6324224}, "done": false, "episodes_total": 137, "training_iteration": 193, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-46-37", "timestamp": 1611150397, "time_this_iter_s": 60.291001081466675, "time_total_s": 8278.80230140686, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 826.9932687282562, "timesteps_since_restore": 0, "iterations_since_restore": 13, "perf": {"cpu_util_percent": 21.338372093023256, "ram_util_percent": 61.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 113143112.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6356992, "timers": {"sample_time_ms": 12260.362, "sample_throughput": 2672.678, "learn_time_ms": 47969.116, "learn_throughput": 683.106, "update_time_ms": 2.995}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.44140625e-05, "cur_lr": 5e-05, "total_loss": 0.0010276305256411433, "policy_loss": -0.00035190029302611947, "vf_loss": 1.3794983921106905, "vf_explained_var": -0.0017255526036024094, "kl": 0.0015034557909530122, "entropy": 0.15490163303911686, "entropy_coeff": 0.0}}, "num_steps_sampled": 6356992, "num_steps_trained": 6356992}, "done": false, "episodes_total": 137, "training_iteration": 194, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-47-37", "timestamp": 1611150457, "time_this_iter_s": 59.80079674720764, "time_total_s": 8338.603098154068, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 886.7940654754639, "timesteps_since_restore": 0, "iterations_since_restore": 14, "perf": {"cpu_util_percent": 20.974117647058826, "ram_util_percent": 61.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4243317.5}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6389760, "timers": {"sample_time_ms": 12676.219, "sample_throughput": 2584.998, "learn_time_ms": 47146.514, "learn_throughput": 695.025, "update_time_ms": 2.978}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.220703125e-05, "cur_lr": 5e-05, "total_loss": 0.0011478778906166553, "policy_loss": -0.00015448604244738817, "vf_loss": 1.3023638643790036, "vf_explained_var": -0.0014056358486413956, "kl": 0.00030318797962536337, "entropy": 0.16888178046792746, "entropy_coeff": 0.0}}, "num_steps_sampled": 6389760, "num_steps_trained": 6389760}, "done": false, "episodes_total": 137, "training_iteration": 195, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-48-36", "timestamp": 1611150516, "time_this_iter_s": 59.872679710388184, "time_total_s": 8398.475777864456, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 946.666745185852, "timesteps_since_restore": 0, "iterations_since_restore": 15, "perf": {"cpu_util_percent": 21.132941176470588, "ram_util_percent": 61.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 82347136.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6422528, "timers": {"sample_time_ms": 13075.88, "sample_throughput": 2505.988, "learn_time_ms": 46383.19, "learn_throughput": 706.463, "update_time_ms": 2.965}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.103515625e-06, "cur_lr": 5e-05, "total_loss": 0.0011314129806123674, "policy_loss": -0.0003289244486950338, "vf_loss": 1.4603411136195064, "vf_explained_var": -0.0017063450068235397, "kl": 0.0007905099537310889, "entropy": 0.200667476747185, "entropy_coeff": 0.0}}, "num_steps_sampled": 6422528, "num_steps_trained": 6422528}, "done": false, "episodes_total": 137, "training_iteration": 196, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-49-37", "timestamp": 1611150577, "time_this_iter_s": 60.21701622009277, "time_total_s": 8458.692794084549, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1006.8837614059448, "timesteps_since_restore": 0, "iterations_since_restore": 16, "perf": {"cpu_util_percent": 21.26279069767442, "ram_util_percent": 61.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 29997610.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6455296, "timers": {"sample_time_ms": 13470.893, "sample_throughput": 2432.504, "learn_time_ms": 45583.239, "learn_throughput": 718.861, "update_time_ms": 2.928}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.0517578125e-06, "cur_lr": 5e-05, "total_loss": 0.0011972144129686058, "policy_loss": -0.0001330311642959714, "vf_loss": 1.330248013138771, "vf_explained_var": -0.0010210443288087845, "kl": 0.0004927489253532258, "entropy": 0.1809544200077653, "entropy_coeff": 0.0}}, "num_steps_sampled": 6455296, "num_steps_trained": 6455296}, "done": false, "episodes_total": 137, "training_iteration": 197, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-50-37", "timestamp": 1611150637, "time_this_iter_s": 60.64349961280823, "time_total_s": 8519.336293697357, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1067.527261018753, "timesteps_since_restore": 0, "iterations_since_restore": 17, "perf": {"cpu_util_percent": 21.561627906976746, "ram_util_percent": 61.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 24559478.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6488064, "timers": {"sample_time_ms": 13977.35, "sample_throughput": 2344.364, "learn_time_ms": 45343.82, "learn_throughput": 722.656, "update_time_ms": 2.915}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.52587890625e-06, "cur_lr": 5e-05, "total_loss": 0.0008680690662004054, "policy_loss": -0.00047647301107645035, "vf_loss": 1.3445449876599014, "vf_explained_var": -0.0013893749564886093, "kl": 0.0009547269910399336, "entropy": 0.15400501061230898, "entropy_coeff": 0.0}}, "num_steps_sampled": 6488064, "num_steps_trained": 6488064}, "done": false, "episodes_total": 137, "training_iteration": 198, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-51-39", "timestamp": 1611150699, "time_this_iter_s": 61.24998688697815, "time_total_s": 8580.586280584335, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1128.7772479057312, "timesteps_since_restore": 0, "iterations_since_restore": 18, "perf": {"cpu_util_percent": 21.58636363636364, "ram_util_percent": 61.2}, "trial_id": "14edc_00000"}
{"episode_reward_max": NaN, "episode_reward_min": NaN, "episode_reward_mean": NaN, "episode_len_mean": NaN, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1026516992.0}, "hist_stats": {"episode_reward": [], "episode_lengths": []}, "sampler_perf": {}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6520832, "timers": {"sample_time_ms": 14394.604, "sample_throughput": 2276.409, "learn_time_ms": 45256.425, "learn_throughput": 724.052, "update_time_ms": 2.952}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.62939453125e-07, "cur_lr": 5e-05, "total_loss": 0.0023222126183100045, "policy_loss": -0.00042979553109034896, "vf_loss": 2.752003430388868, "vf_explained_var": -0.00199299119412899, "kl": 0.001159421561169438, "entropy": 0.1246252958662808, "entropy_coeff": 0.0}}, "num_steps_sampled": 6520832, "num_steps_trained": 6520832}, "done": false, "episodes_total": 137, "training_iteration": 199, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-52-41", "timestamp": 1611150761, "time_this_iter_s": 62.17642831802368, "time_total_s": 8642.762708902359, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1190.9536762237549, "timesteps_since_restore": 0, "iterations_since_restore": 19, "perf": {"cpu_util_percent": 21.792045454545452, "ram_util_percent": 61.2}, "trial_id": "14edc_00000"}
{"episode_reward_max": 1.9384000000001294, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 1.9384000000001294, "episode_len_mean": 10064.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 250338704.0}, "hist_stats": {"episode_reward": [1.9384000000001294], "episode_lengths": [10064]}, "sampler_perf": {"mean_env_wait_ms": 21.145639376719007, "mean_raw_obs_processing_ms": 0.5147170303459454, "mean_inference_ms": 2.1481328196339793, "mean_action_processing_ms": 0.12356419428730486}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6553600, "timers": {"sample_time_ms": 14955.257, "sample_throughput": 2191.069, "learn_time_ms": 45283.206, "learn_throughput": 723.624, "update_time_ms": 2.84}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.814697265625e-07, "cur_lr": 5e-05, "total_loss": 0.0008071218762779608, "policy_loss": -0.00042973257950507104, "vf_loss": 1.23685298464261, "vf_explained_var": -0.001733848825097084, "kl": 0.0005167328145034844, "entropy": 0.14758705720305443, "entropy_coeff": 0.0}}, "num_steps_sampled": 6553600, "num_steps_trained": 6553600}, "done": false, "episodes_total": 138, "training_iteration": 200, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-53-43", "timestamp": 1611150823, "time_this_iter_s": 62.13625168800354, "time_total_s": 8704.898960590363, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1253.0899279117584, "timesteps_since_restore": 0, "iterations_since_restore": 20, "perf": {"cpu_util_percent": 21.920454545454547, "ram_util_percent": 61.2}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 8.050100000000128, "episode_len_mean": 10244.5, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 451772224.0}, "hist_stats": {"episode_reward": [14.161800000000127, 1.9384000000001294], "episode_lengths": [10425, 10064]}, "sampler_perf": {"mean_env_wait_ms": 21.324883189654212, "mean_raw_obs_processing_ms": 0.5231324611327757, "mean_inference_ms": 2.1694035228092297, "mean_action_processing_ms": 0.12224928814467395}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6586368, "timers": {"sample_time_ms": 15564.237, "sample_throughput": 2105.339, "learn_time_ms": 45224.143, "learn_throughput": 724.569, "update_time_ms": 2.766}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.9073486328125e-07, "cur_lr": 5e-05, "total_loss": 0.00023228360805660486, "policy_loss": -0.00039680092595517635, "vf_loss": 0.6290793414227664, "vf_explained_var": -6.633251905441284e-05, "kl": 0.000747984948247904, "entropy": 0.15627161506563425, "entropy_coeff": 0.0}}, "num_steps_sampled": 6586368, "num_steps_trained": 6586368}, "done": false, "episodes_total": 139, "training_iteration": 201, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-54-46", "timestamp": 1611150886, "time_this_iter_s": 63.00155186653137, "time_total_s": 8767.900512456894, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1316.0914797782898, "timesteps_since_restore": 0, "iterations_since_restore": 21, "perf": {"cpu_util_percent": 22.07777777777778, "ram_util_percent": 61.257777777777775}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 8.050100000000128, "episode_len_mean": 10244.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 283590080.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127], "episode_lengths": [10064, 10425]}, "sampler_perf": {"mean_env_wait_ms": 21.324883189654212, "mean_raw_obs_processing_ms": 0.5231324611327757, "mean_inference_ms": 2.1694035228092297, "mean_action_processing_ms": 0.12224928814467395}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6619136, "timers": {"sample_time_ms": 16162.735, "sample_throughput": 2027.38, "learn_time_ms": 45113.43, "learn_throughput": 726.347, "update_time_ms": 2.792}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.5367431640625e-08, "cur_lr": 5e-05, "total_loss": 0.0010160497622564435, "policy_loss": -0.00014009079313836992, "vf_loss": 1.1561362512875348, "vf_explained_var": 0.0010474827140569687, "kl": 0.0005678619891114067, "entropy": 0.1820439356379211, "entropy_coeff": 0.0}}, "num_steps_sampled": 6619136, "num_steps_trained": 6619136}, "done": false, "episodes_total": 139, "training_iteration": 202, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-55-49", "timestamp": 1611150949, "time_this_iter_s": 63.45697999000549, "time_total_s": 8831.3574924469, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1379.5484597682953, "timesteps_since_restore": 0, "iterations_since_restore": 22, "perf": {"cpu_util_percent": 22.19888888888889, "ram_util_percent": 61.3}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 8.050100000000128, "episode_len_mean": 10244.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 177216960.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127], "episode_lengths": [10064, 10425]}, "sampler_perf": {"mean_env_wait_ms": 21.324883189654212, "mean_raw_obs_processing_ms": 0.5231324611327757, "mean_inference_ms": 2.1694035228092297, "mean_action_processing_ms": 0.12224928814467395}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6651904, "timers": {"sample_time_ms": 16739.012, "sample_throughput": 1957.583, "learn_time_ms": 45270.981, "learn_throughput": 723.819, "update_time_ms": 2.629}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.76837158203125e-08, "cur_lr": 5e-05, "total_loss": 0.0014089910546317697, "policy_loss": 9.893323294818401e-06, "vf_loss": 1.399091882398352, "vf_explained_var": -0.0029027387499809265, "kl": 0.00015471200163119647, "entropy": 0.17472073202952743, "entropy_coeff": 0.0}}, "num_steps_sampled": 6651904, "num_steps_trained": 6651904}, "done": false, "episodes_total": 139, "training_iteration": 203, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-56-57", "timestamp": 1611151017, "time_this_iter_s": 67.62740302085876, "time_total_s": 8898.984895467758, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1447.175862789154, "timesteps_since_restore": 0, "iterations_since_restore": 23, "perf": {"cpu_util_percent": 23.303092783505157, "ram_util_percent": 61.244329896907225}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 8.050100000000128, "episode_len_mean": 10244.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 141808560.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127], "episode_lengths": [10064, 10425]}, "sampler_perf": {"mean_env_wait_ms": 21.324883189654212, "mean_raw_obs_processing_ms": 0.5231324611327757, "mean_inference_ms": 2.1694035228092297, "mean_action_processing_ms": 0.12224928814467395}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6684672, "timers": {"sample_time_ms": 17362.174, "sample_throughput": 1887.321, "learn_time_ms": 45248.366, "learn_throughput": 724.181, "update_time_ms": 2.617}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.384185791015625e-08, "cur_lr": 5e-05, "total_loss": 0.001154922356363386, "policy_loss": -0.0003617456532083452, "vf_loss": 1.5166710542980582, "vf_explained_var": 0.0015155654400587082, "kl": 0.0006601948171010008, "entropy": 0.19769962038844824, "entropy_coeff": 0.0}}, "num_steps_sampled": 6684672, "num_steps_trained": 6684672}, "done": false, "episodes_total": 139, "training_iteration": 204, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-58-03", "timestamp": 1611151083, "time_this_iter_s": 65.80533981323242, "time_total_s": 8964.79023528099, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1512.9812026023865, "timesteps_since_restore": 0, "iterations_since_restore": 24, "perf": {"cpu_util_percent": 23.310752688172037, "ram_util_percent": 61.26451612903225}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 6.06420000000001, "episode_len_mean": 10968.666666666666, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8549374.0}, "hist_stats": {"episode_reward": [2.092399999999774, 1.9384000000001294, 14.161800000000127], "episode_lengths": [12417, 10064, 10425]}, "sampler_perf": {"mean_env_wait_ms": 22.211000275415998, "mean_raw_obs_processing_ms": 0.52396029673439, "mean_inference_ms": 2.178726619157608, "mean_action_processing_ms": 0.12308922313160009}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6717440, "timers": {"sample_time_ms": 17952.185, "sample_throughput": 1825.293, "learn_time_ms": 45165.754, "learn_throughput": 725.505, "update_time_ms": 2.726}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1920928955078126e-08, "cur_lr": 5e-05, "total_loss": 0.00234408350661397, "policy_loss": -0.00013995676999911666, "vf_loss": 2.4840399839449674, "vf_explained_var": -0.00119076669216156, "kl": 0.0003259082241129363, "entropy": 0.20678984886035323, "entropy_coeff": 0.0}}, "num_steps_sampled": 6717440, "num_steps_trained": 6717440}, "done": false, "episodes_total": 140, "training_iteration": 205, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_08-59-08", "timestamp": 1611151148, "time_this_iter_s": 64.94869184494019, "time_total_s": 9029.73892712593, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1577.9298944473267, "timesteps_since_restore": 0, "iterations_since_restore": 25, "perf": {"cpu_util_percent": 22.726881720430107, "ram_util_percent": 61.300000000000004}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 6.030800000000089, "episode_len_mean": 11479.5, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 558515008.0}, "hist_stats": {"episode_reward": [5.930600000000325, 1.9384000000001294, 14.161800000000127, 2.092399999999774], "episode_lengths": [13012, 10064, 10425, 12417]}, "sampler_perf": {"mean_env_wait_ms": 22.807516826592817, "mean_raw_obs_processing_ms": 0.5213203475417425, "mean_inference_ms": 2.1827212956211604, "mean_action_processing_ms": 0.12277311339003218}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6750208, "timers": {"sample_time_ms": 18539.621, "sample_throughput": 1767.458, "learn_time_ms": 45145.411, "learn_throughput": 725.832, "update_time_ms": 2.803}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.960464477539063e-09, "cur_lr": 5e-05, "total_loss": 0.0005495984223671257, "policy_loss": -0.0003429120988585055, "vf_loss": 0.8925130716525018, "vf_explained_var": -0.002379912883043289, "kl": 0.0012279609218239784, "entropy": 0.24801786756142974, "entropy_coeff": 0.0}}, "num_steps_sampled": 6750208, "num_steps_trained": 6750208}, "done": false, "episodes_total": 141, "training_iteration": 206, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-00-14", "timestamp": 1611151214, "time_this_iter_s": 65.88790154457092, "time_total_s": 9095.626828670502, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1643.8177959918976, "timesteps_since_restore": 0, "iterations_since_restore": 26, "perf": {"cpu_util_percent": 22.628723404255318, "ram_util_percent": 61.257446808510636}, "trial_id": "14edc_00000"}
{"episode_reward_max": 14.161800000000127, "episode_reward_min": 1.9384000000001294, "episode_reward_mean": 6.030800000000089, "episode_len_mean": 11479.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 80652600.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325], "episode_lengths": [10064, 10425, 12417, 13012]}, "sampler_perf": {"mean_env_wait_ms": 22.807516826592813, "mean_raw_obs_processing_ms": 0.5213203475417425, "mean_inference_ms": 2.1827212956211604, "mean_action_processing_ms": 0.12277311339003218}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6782976, "timers": {"sample_time_ms": 18851.919, "sample_throughput": 1738.179, "learn_time_ms": 44343.501, "learn_throughput": 738.958, "update_time_ms": 2.83}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.9802322387695314e-09, "cur_lr": 5e-05, "total_loss": 0.0003326869336888194, "policy_loss": -0.0006895409896969795, "vf_loss": 1.0222260530572385, "vf_explained_var": 0.003188362345099449, "kl": 0.0016430152099928819, "entropy": 0.20033427514135838, "entropy_coeff": 0.0}}, "num_steps_sampled": 6782976, "num_steps_trained": 6782976}, "done": false, "episodes_total": 141, "training_iteration": 207, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-01-09", "timestamp": 1611151269, "time_this_iter_s": 55.74677586555481, "time_total_s": 9151.373604536057, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1699.5645718574524, "timesteps_since_restore": 0, "iterations_since_restore": 27, "perf": {"cpu_util_percent": 15.017721518987344, "ram_util_percent": 54.759493670886066}, "trial_id": "14edc_00000"}
{"episode_reward_max": 16.046700000000598, "episode_reward_min": -0.452900000000124, "episode_reward_mean": 6.619500000000138, "episode_len_mean": 12352.666666666666, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 47173436.0}, "hist_stats": {"episode_reward": [16.046700000000598, -0.452900000000124, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325], "episode_lengths": [14089, 14109, 10064, 10425, 12417, 13012]}, "sampler_perf": {"mean_env_wait_ms": 23.46594892939453, "mean_raw_obs_processing_ms": 0.518345564911369, "mean_inference_ms": 2.1795187165895626, "mean_action_processing_ms": 0.12257438111086962}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6815744, "timers": {"sample_time_ms": 18834.842, "sample_throughput": 1739.754, "learn_time_ms": 43536.431, "learn_throughput": 752.657, "update_time_ms": 2.831}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4901161193847657e-09, "cur_lr": 5e-05, "total_loss": 0.0004973975010216236, "policy_loss": -0.0006982925115153193, "vf_loss": 1.1956907180137932, "vf_explained_var": 0.0003182981163263321, "kl": 0.0012473745773604605, "entropy": 0.19171374291181564, "entropy_coeff": 0.0}}, "num_steps_sampled": 6815744, "num_steps_trained": 6815744}, "done": false, "episodes_total": 143, "training_iteration": 208, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-02-02", "timestamp": 1611151322, "time_this_iter_s": 53.00831198692322, "time_total_s": 9204.38191652298, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1752.5728838443756, "timesteps_since_restore": 0, "iterations_since_restore": 28, "perf": {"cpu_util_percent": 11.128947368421056, "ram_util_percent": 53.126315789473686}, "trial_id": "14edc_00000"}
{"episode_reward_max": 16.046700000000598, "episode_reward_min": -0.452900000000124, "episode_reward_mean": 6.619500000000137, "episode_len_mean": 12352.666666666666, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 24177066.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109]}, "sampler_perf": {"mean_env_wait_ms": 23.46594892939453, "mean_raw_obs_processing_ms": 0.518345564911369, "mean_inference_ms": 2.1795187165895626, "mean_action_processing_ms": 0.12257438111086962}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6848512, "timers": {"sample_time_ms": 18802.716, "sample_throughput": 1742.727, "learn_time_ms": 42704.83, "learn_throughput": 767.314, "update_time_ms": 2.825}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.450580596923829e-10, "cur_lr": 5e-05, "total_loss": 0.0002131625369656831, "policy_loss": -0.0004708383930847049, "vf_loss": 0.6840014241170138, "vf_explained_var": -9.846501052379608e-05, "kl": 0.0011999380294582807, "entropy": 0.23554193507879972, "entropy_coeff": 0.0}}, "num_steps_sampled": 6848512, "num_steps_trained": 6848512}, "done": false, "episodes_total": 143, "training_iteration": 209, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-02-56", "timestamp": 1611151376, "time_this_iter_s": 53.53795886039734, "time_total_s": 9257.919875383377, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1806.110842704773, "timesteps_since_restore": 0, "iterations_since_restore": 29, "perf": {"cpu_util_percent": 10.911842105263156, "ram_util_percent": 53.1}, "trial_id": "14edc_00000"}
{"episode_reward_max": 16.046700000000598, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 5.462300000000154, "episode_len_mean": 12754.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 69451096.0}, "hist_stats": {"episode_reward": [-1.4808999999997496, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124], "episode_lengths": [15162, 10064, 10425, 12417, 13012, 14089, 14109]}, "sampler_perf": {"mean_env_wait_ms": 23.702944487818083, "mean_raw_obs_processing_ms": 0.5156323912401323, "mean_inference_ms": 2.174780711473656, "mean_action_processing_ms": 0.12215868908829956}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6881280, "timers": {"sample_time_ms": 18815.713, "sample_throughput": 1741.523, "learn_time_ms": 41834.989, "learn_throughput": 783.268, "update_time_ms": 2.871}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.7252902984619143e-10, "cur_lr": 5e-05, "total_loss": 0.0006330226606223732, "policy_loss": -0.00026521166728343815, "vf_loss": 0.8982366011478007, "vf_explained_var": 0.0037351585924625397, "kl": 0.0007059423001010146, "entropy": 0.26572294998914003, "entropy_coeff": 0.0}}, "num_steps_sampled": 6881280, "num_steps_trained": 6881280}, "done": false, "episodes_total": 144, "training_iteration": 210, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-03-50", "timestamp": 1611151430, "time_this_iter_s": 53.56687784194946, "time_total_s": 9311.486753225327, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1859.6777205467224, "timesteps_since_restore": 0, "iterations_since_restore": 30, "perf": {"cpu_util_percent": 11.276315789473685, "ram_util_percent": 53.18289473684209}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 7.907150000000144, "episode_len_mean": 13117.375, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 65024376.0}, "hist_stats": {"episode_reward": [25.021100000000068, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496], "episode_lengths": [15661, 10064, 10425, 12417, 13012, 14089, 14109, 15162]}, "sampler_perf": {"mean_env_wait_ms": 23.913668605992687, "mean_raw_obs_processing_ms": 0.5129732146635116, "mean_inference_ms": 2.168096883661062, "mean_action_processing_ms": 0.12145007841403271}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6914048, "timers": {"sample_time_ms": 18765.628, "sample_throughput": 1746.171, "learn_time_ms": 40967.766, "learn_throughput": 799.848, "update_time_ms": 2.871}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.8626451492309571e-10, "cur_lr": 5e-05, "total_loss": 0.0009243663516826928, "policy_loss": -0.00045633286936208606, "vf_loss": 1.3806988408323377, "vf_explained_var": -0.010172037407755852, "kl": 0.0011748766846721992, "entropy": 0.2623397959396243, "entropy_coeff": 0.0}}, "num_steps_sampled": 6914048, "num_steps_trained": 6914048}, "done": false, "episodes_total": 145, "training_iteration": 211, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-04-43", "timestamp": 1611151483, "time_this_iter_s": 53.827821493148804, "time_total_s": 9365.314574718475, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1913.5055420398712, "timesteps_since_restore": 0, "iterations_since_restore": 31, "perf": {"cpu_util_percent": 11.19090909090909, "ram_util_percent": 53.19999999999998}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 6.899977777777894, "episode_len_mean": 13444.888888888889, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 167570960.0}, "hist_stats": {"episode_reward": [-1.157400000000104, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068], "episode_lengths": [16065, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661]}, "sampler_perf": {"mean_env_wait_ms": 24.03348904088419, "mean_raw_obs_processing_ms": 0.5127782479462516, "mean_inference_ms": 2.1625252905073626, "mean_action_processing_ms": 0.12089452305005244}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6946816, "timers": {"sample_time_ms": 18692.882, "sample_throughput": 1752.967, "learn_time_ms": 40018.384, "learn_throughput": 818.824, "update_time_ms": 2.919}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.313225746154786e-11, "cur_lr": 5e-05, "total_loss": 0.018302704833331518, "policy_loss": -0.0008015373896341771, "vf_loss": 19.104240712244064, "vf_explained_var": 0.005424393340945244, "kl": 0.0028581396909430623, "entropy": 0.20288771344348788, "entropy_coeff": 0.0}}, "num_steps_sampled": 6946816, "num_steps_trained": 6946816}, "done": false, "episodes_total": 146, "training_iteration": 212, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-05-37", "timestamp": 1611151537, "time_this_iter_s": 53.23601007461548, "time_total_s": 9418.55058479309, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 1966.7415521144867, "timesteps_since_restore": 0, "iterations_since_restore": 32, "perf": {"cpu_util_percent": 11.496052631578946, "ram_util_percent": 53.19999999999999}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 7.298110000000046, "episode_len_mean": 13742.5, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5635222528.0}, "hist_stats": {"episode_reward": [10.881299999999413, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104], "episode_lengths": [16421, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065]}, "sampler_perf": {"mean_env_wait_ms": 24.202840968363745, "mean_raw_obs_processing_ms": 0.5104643862093298, "mean_inference_ms": 2.155372235921788, "mean_action_processing_ms": 0.12060089238334695}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 6979584, "timers": {"sample_time_ms": 18577.967, "sample_throughput": 1763.81, "learn_time_ms": 38823.955, "learn_throughput": 844.015, "update_time_ms": 2.989}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.656612873077393e-11, "cur_lr": 5e-05, "total_loss": 0.019168876809999347, "policy_loss": -0.00018824584549292922, "vf_loss": 19.35712871933356, "vf_explained_var": 0.004471505060791969, "kl": 0.0011285903710813727, "entropy": 0.2450112635269761, "entropy_coeff": 0.0}}, "num_steps_sampled": 6979584, "num_steps_trained": 6979584}, "done": false, "episodes_total": 147, "training_iteration": 213, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-06-31", "timestamp": 1611151591, "time_this_iter_s": 54.53420948982239, "time_total_s": 9473.084794282913, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2021.275761604309, "timesteps_since_restore": 0, "iterations_since_restore": 33, "perf": {"cpu_util_percent": 11.421794871794873, "ram_util_percent": 53.14871794871795}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 7.188954545454541, "episode_len_mean": 14051.181818181818, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 41112440.0}, "hist_stats": {"episode_reward": [6.097399999999496, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413], "episode_lengths": [17138, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421]}, "sampler_perf": {"mean_env_wait_ms": 24.35558153809808, "mean_raw_obs_processing_ms": 0.5082487060878714, "mean_inference_ms": 2.149510478777532, "mean_action_processing_ms": 0.12007244082680386}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7012352, "timers": {"sample_time_ms": 18367.258, "sample_throughput": 1784.044, "learn_time_ms": 37960.558, "learn_throughput": 863.212, "update_time_ms": 2.897}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.3283064365386964e-11, "cur_lr": 5e-05, "total_loss": 0.0011175264953635633, "policy_loss": -0.00028519335319288075, "vf_loss": 1.4027159796096385, "vf_explained_var": 0.001973915845155716, "kl": 0.0002987749458043254, "entropy": 0.2563999705016613, "entropy_coeff": 0.0}}, "num_steps_sampled": 7012352, "num_steps_trained": 7012352}, "done": false, "episodes_total": 148, "training_iteration": 214, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-07-26", "timestamp": 1611151646, "time_this_iter_s": 55.063339948654175, "time_total_s": 9528.148134231567, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2076.3391015529633, "timesteps_since_restore": 0, "iterations_since_restore": 34, "perf": {"cpu_util_percent": 11.23076923076923, "ram_util_percent": 53.1}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 7.188954545454541, "episode_len_mean": 14051.181818181818, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5422219776.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138]}, "sampler_perf": {"mean_env_wait_ms": 24.35558153809808, "mean_raw_obs_processing_ms": 0.5082487060878715, "mean_inference_ms": 2.149510478777532, "mean_action_processing_ms": 0.12007244082680386}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7045120, "timers": {"sample_time_ms": 18232.517, "sample_throughput": 1797.229, "learn_time_ms": 37126.446, "learn_throughput": 882.605, "update_time_ms": 2.751}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1641532182693482e-11, "cur_lr": 5e-05, "total_loss": 0.0006691445014439523, "policy_loss": -0.0002669778186827898, "vf_loss": 0.9361247702036053, "vf_explained_var": 0.006687777116894722, "kl": 0.0008875288804119918, "entropy": 0.24918036442250013, "entropy_coeff": 0.0}}, "num_steps_sampled": 7045120, "num_steps_trained": 7045120}, "done": false, "episodes_total": 148, "training_iteration": 215, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-08-22", "timestamp": 1611151702, "time_this_iter_s": 55.25753998756409, "time_total_s": 9583.405674219131, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2131.5966415405273, "timesteps_since_restore": 0, "iterations_since_restore": 35, "perf": {"cpu_util_percent": 11.507594936708859, "ram_util_percent": 53.10000000000001}, "trial_id": "14edc_00000"}
{"episode_reward_max": 25.021100000000068, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 6.51165833333332, "episode_len_mean": 14392.75, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 168240112.0}, "hist_stats": {"episode_reward": [-0.9386000000001147, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496], "episode_lengths": [18150, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138]}, "sampler_perf": {"mean_env_wait_ms": 24.493211282114544, "mean_raw_obs_processing_ms": 0.5060929341411546, "mean_inference_ms": 2.1399103870631326, "mean_action_processing_ms": 0.11969416293025693}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7077888, "timers": {"sample_time_ms": 18092.636, "sample_throughput": 1811.124, "learn_time_ms": 36274.578, "learn_throughput": 903.332, "update_time_ms": 2.797}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.820766091346741e-12, "cur_lr": 5e-05, "total_loss": 0.007587561893160455, "policy_loss": -0.0006642083753831685, "vf_loss": 8.25176587421447, "vf_explained_var": -0.02152370847761631, "kl": 0.0014418148894037586, "entropy": 0.2638020641170442, "entropy_coeff": 0.0}}, "num_steps_sampled": 7077888, "num_steps_trained": 7077888}, "done": false, "episodes_total": 149, "training_iteration": 216, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-09-18", "timestamp": 1611151758, "time_this_iter_s": 55.9711856842041, "time_total_s": 9639.376859903336, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2187.5678272247314, "timesteps_since_restore": 0, "iterations_since_restore": 36, "perf": {"cpu_util_percent": 11.5725, "ram_util_percent": 53.10000000000001}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 13.551799999999904, "episode_len_mean": 14715.384615384615, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 96379144.0}, "hist_stats": {"episode_reward": [98.03349999999891, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147], "episode_lengths": [18587, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150]}, "sampler_perf": {"mean_env_wait_ms": 24.626123233400822, "mean_raw_obs_processing_ms": 0.5042406431053738, "mean_inference_ms": 2.1342352723906632, "mean_action_processing_ms": 0.11920293792025144}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7110656, "timers": {"sample_time_ms": 18238.578, "sample_throughput": 1796.631, "learn_time_ms": 36128.655, "learn_throughput": 906.981, "update_time_ms": 2.727}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.9103830456733705e-12, "cur_lr": 5e-05, "total_loss": 0.0003298982046544552, "policy_loss": -0.0006931261159479618, "vf_loss": 1.0230187745764852, "vf_explained_var": -0.01138174906373024, "kl": 0.0013790505327051505, "entropy": 0.2616561115719378, "entropy_coeff": 0.0}}, "num_steps_sampled": 7110656, "num_steps_trained": 7110656}, "done": false, "episodes_total": 150, "training_iteration": 217, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-10-13", "timestamp": 1611151813, "time_this_iter_s": 55.746702671051025, "time_total_s": 9695.123562574387, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2243.3145298957825, "timesteps_since_restore": 0, "iterations_since_restore": 37, "perf": {"cpu_util_percent": 11.48481012658228, "ram_util_percent": 53.10000000000001}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 13.551799999999904, "episode_len_mean": 14715.384615384615, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 259504416.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587]}, "sampler_perf": {"mean_env_wait_ms": 24.626123233400822, "mean_raw_obs_processing_ms": 0.5042406431053738, "mean_inference_ms": 2.1342352723906632, "mean_action_processing_ms": 0.11920293792025144}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7143424, "timers": {"sample_time_ms": 18632.918, "sample_throughput": 1758.608, "learn_time_ms": 36141.246, "learn_throughput": 906.665, "update_time_ms": 2.68}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4551915228366853e-12, "cur_lr": 5e-05, "total_loss": 0.0003360165865160525, "policy_loss": -0.000680298253428191, "vf_loss": 1.0163117938209325, "vf_explained_var": -0.01009383238852024, "kl": 0.0021997457442921586, "entropy": 0.21639846079051495, "entropy_coeff": 0.0}}, "num_steps_sampled": 7143424, "num_steps_trained": 7143424}, "done": false, "episodes_total": 150, "training_iteration": 218, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-11-10", "timestamp": 1611151870, "time_this_iter_s": 57.07595443725586, "time_total_s": 9752.199517011642, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2300.3904843330383, "timesteps_since_restore": 0, "iterations_since_restore": 38, "perf": {"cpu_util_percent": 12.439024390243901, "ram_util_percent": 53.10609756097563}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 13.551799999999904, "episode_len_mean": 14715.384615384615, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 165873376.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587]}, "sampler_perf": {"mean_env_wait_ms": 24.626123233400822, "mean_raw_obs_processing_ms": 0.5042406431053738, "mean_inference_ms": 2.1342352723906632, "mean_action_processing_ms": 0.11920293792025144}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7176192, "timers": {"sample_time_ms": 19120.347, "sample_throughput": 1713.776, "learn_time_ms": 36140.528, "learn_throughput": 906.683, "update_time_ms": 2.652}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.275957614183426e-13, "cur_lr": 5e-05, "total_loss": 0.00013646867591887712, "policy_loss": -0.0007371447281911969, "vf_loss": 0.8736176146194339, "vf_explained_var": -0.019839655607938766, "kl": 0.0018829753498721402, "entropy": 0.1746787168085575, "entropy_coeff": 0.0}}, "num_steps_sampled": 7176192, "num_steps_trained": 7176192}, "done": false, "episodes_total": 150, "training_iteration": 219, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-12-09", "timestamp": 1611151929, "time_this_iter_s": 58.40511727333069, "time_total_s": 9810.604634284973, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2358.795601606369, "timesteps_since_restore": 0, "iterations_since_restore": 39, "perf": {"cpu_util_percent": 12.930120481927714, "ram_util_percent": 53.57349397590364}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 12.78329285714275, "episode_len_mean": 15095.5, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 4418194.5}, "hist_stats": {"episode_reward": [2.792699999999762, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891], "episode_lengths": [20037, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587]}, "sampler_perf": {"mean_env_wait_ms": 24.81327182111699, "mean_raw_obs_processing_ms": 0.5021504029850322, "mean_inference_ms": 2.127082717038745, "mean_action_processing_ms": 0.11886748245191092}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7208960, "timers": {"sample_time_ms": 19513.756, "sample_throughput": 1679.226, "learn_time_ms": 36192.238, "learn_throughput": 905.387, "update_time_ms": 2.626}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.637978807091713e-13, "cur_lr": 5e-05, "total_loss": 0.0007638741517439485, "policy_loss": -0.0001817353768274188, "vf_loss": 0.94561299495399, "vf_explained_var": -0.010040860623121262, "kl": 0.0003760417366720503, "entropy": 0.18123903963714838, "entropy_coeff": 0.0}}, "num_steps_sampled": 7208960, "num_steps_trained": 7208960}, "done": false, "episodes_total": 151, "training_iteration": 220, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-13-07", "timestamp": 1611151987, "time_this_iter_s": 58.01756930351257, "time_total_s": 9868.622203588486, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2416.8131709098816, "timesteps_since_restore": 0, "iterations_since_restore": 40, "perf": {"cpu_util_percent": 12.533734939759036, "ram_util_percent": 54.354216867469894}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 12.783292857142753, "episode_len_mean": 15095.5, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 2931270912.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037]}, "sampler_perf": {"mean_env_wait_ms": 24.81327182111699, "mean_raw_obs_processing_ms": 0.5021504029850322, "mean_inference_ms": 2.127082717038745, "mean_action_processing_ms": 0.11886748245191094}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7241728, "timers": {"sample_time_ms": 19993.523, "sample_throughput": 1638.931, "learn_time_ms": 36344.771, "learn_throughput": 901.588, "update_time_ms": 2.684}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.8189894035458566e-13, "cur_lr": 5e-05, "total_loss": 0.0007303713937290013, "policy_loss": -0.00013466936070472002, "vf_loss": 0.8650446126703173, "vf_explained_var": -0.018087036907672882, "kl": 0.00048216623599728337, "entropy": 0.2023978065699339, "entropy_coeff": 0.0}}, "num_steps_sampled": 7241728, "num_steps_trained": 7241728}, "done": false, "episodes_total": 151, "training_iteration": 221, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-14-07", "timestamp": 1611152047, "time_this_iter_s": 60.15191149711609, "time_total_s": 9928.774115085602, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2476.9650824069977, "timesteps_since_restore": 0, "iterations_since_restore": 41, "perf": {"cpu_util_percent": 15.701176470588232, "ram_util_percent": 53.95294117647061}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 12.724133333333292, "episode_len_mean": 15493.4, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 66987832.0}, "hist_stats": {"episode_reward": [11.89590000000085, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762], "episode_lengths": [21064, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037]}, "sampler_perf": {"mean_env_wait_ms": 25.055047180851297, "mean_raw_obs_processing_ms": 0.4999238968911271, "mean_inference_ms": 2.119833542805785, "mean_action_processing_ms": 0.11851375929692706}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7274496, "timers": {"sample_time_ms": 20307.482, "sample_throughput": 1613.592, "learn_time_ms": 37737.182, "learn_throughput": 868.321, "update_time_ms": 2.599}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 9.094947017729283e-14, "cur_lr": 5e-05, "total_loss": 0.0015493266400881112, "policy_loss": -0.000492711624247022, "vf_loss": 2.0420394234824926, "vf_explained_var": -0.00801568292081356, "kl": 0.001062834233380272, "entropy": 0.19242772785946727, "entropy_coeff": 0.0}}, "num_steps_sampled": 7274496, "num_steps_trained": 7274496}, "done": false, "episodes_total": 152, "training_iteration": 222, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-15-17", "timestamp": 1611152117, "time_this_iter_s": 70.29848647117615, "time_total_s": 9999.072601556778, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2547.263568878174, "timesteps_since_restore": 0, "iterations_since_restore": 42, "perf": {"cpu_util_percent": 26.296999999999997, "ram_util_percent": 62.956000000000024}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 12.724133333333294, "episode_len_mean": 15493.4, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1882074112.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064]}, "sampler_perf": {"mean_env_wait_ms": 25.055047180851293, "mean_raw_obs_processing_ms": 0.499923896891127, "mean_inference_ms": 2.119833542805785, "mean_action_processing_ms": 0.11851375929692706}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7307264, "timers": {"sample_time_ms": 21144.474, "sample_throughput": 1549.719, "learn_time_ms": 39075.34, "learn_throughput": 838.585, "update_time_ms": 2.522}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.5474735088646414e-14, "cur_lr": 5e-05, "total_loss": 0.00907699260278605, "policy_loss": -0.0002790737780742347, "vf_loss": 9.356063834391534, "vf_explained_var": 0.005179638043045998, "kl": 0.0013431740953819826, "entropy": 0.1528692184947431, "entropy_coeff": 0.0}}, "num_steps_sampled": 7307264, "num_steps_trained": 7307264}, "done": false, "episodes_total": 152, "training_iteration": 223, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-16-34", "timestamp": 1611152194, "time_this_iter_s": 76.2849349975586, "time_total_s": 10075.357536554337, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2623.5485038757324, "timesteps_since_restore": 0, "iterations_since_restore": 43, "perf": {"cpu_util_percent": 24.698148148148153, "ram_util_percent": 75.58796296296298}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -1.4808999999997496, "episode_reward_mean": 12.724133333333294, "episode_len_mean": 15493.4, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 29412830.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064]}, "sampler_perf": {"mean_env_wait_ms": 25.055047180851293, "mean_raw_obs_processing_ms": 0.499923896891127, "mean_inference_ms": 2.119833542805785, "mean_action_processing_ms": 0.11851375929692706}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7340032, "timers": {"sample_time_ms": 22059.965, "sample_throughput": 1485.406, "learn_time_ms": 40263.522, "learn_throughput": 813.838, "update_time_ms": 2.65}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.2737367544323207e-14, "cur_lr": 5e-05, "total_loss": 0.0015776497311890125, "policy_loss": -0.000508138706209138, "vf_loss": 2.085790626006201, "vf_explained_var": -0.001988602802157402, "kl": 0.0004534432300715707, "entropy": 0.16697306325659156, "entropy_coeff": 0.0}}, "num_steps_sampled": 7340032, "num_steps_trained": 7340032}, "done": false, "episodes_total": 152, "training_iteration": 224, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-17-50", "timestamp": 1611152270, "time_this_iter_s": 76.10132598876953, "time_total_s": 10151.458862543106, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2699.649829864502, "timesteps_since_restore": 0, "iterations_since_restore": 44, "perf": {"cpu_util_percent": 25.13211009174312, "ram_util_percent": 75.5}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823493, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 8351829.0}, "hist_stats": {"episode_reward": [-9.65299999999997, -0.4710000000000445, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085], "episode_lengths": [22711, 22607, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931837, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7372800, "timers": {"sample_time_ms": 22998.618, "sample_throughput": 1424.781, "learn_time_ms": 41352.143, "learn_throughput": 792.414, "update_time_ms": 2.636}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1368683772161604e-14, "cur_lr": 5e-05, "total_loss": 0.001903975586174056, "policy_loss": -0.0005121389258420095, "vf_loss": 2.416117976186797, "vf_explained_var": -0.006892995908856392, "kl": 0.000884198119820212, "entropy": 0.13470461312681437, "entropy_coeff": 0.0}}, "num_steps_sampled": 7372800, "num_steps_trained": 7372800}, "done": false, "episodes_total": 154, "training_iteration": 225, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-19-05", "timestamp": 1611152345, "time_this_iter_s": 75.5310263633728, "time_total_s": 10226.989888906479, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2775.1808562278748, "timesteps_since_restore": 0, "iterations_since_restore": 45, "perf": {"cpu_util_percent": 26.434259259259257, "ram_util_percent": 75.6648148148148}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823491, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1266051712.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931833, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7405568, "timers": {"sample_time_ms": 24000.023, "sample_throughput": 1365.332, "learn_time_ms": 43527.769, "learn_throughput": 752.807, "update_time_ms": 2.505}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.684341886080802e-15, "cur_lr": 5e-05, "total_loss": 0.001773924974258989, "policy_loss": -0.00031885755015537143, "vf_loss": 2.092785053420812, "vf_explained_var": -0.006568403914570808, "kl": 0.0008041256824071752, "entropy": 0.11144950916059315, "entropy_coeff": 0.0}}, "num_steps_sampled": 7405568, "num_steps_trained": 7405568}, "done": false, "episodes_total": 154, "training_iteration": 226, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-20-33", "timestamp": 1611152433, "time_this_iter_s": 87.74046874046326, "time_total_s": 10314.730357646942, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2862.921324968338, "timesteps_since_restore": 0, "iterations_since_restore": 46, "perf": {"cpu_util_percent": 36.3856, "ram_util_percent": 84.604}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823491, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 501929632.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931833, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7438336, "timers": {"sample_time_ms": 25617.134, "sample_throughput": 1279.144, "learn_time_ms": 45534.015, "learn_throughput": 719.638, "update_time_ms": 2.544}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.842170943040401e-15, "cur_lr": 5e-05, "total_loss": 0.0030822088883724064, "policy_loss": -0.0003939475573133677, "vf_loss": 3.476155789103359, "vf_explained_var": 0.0009309761226177216, "kl": 0.0005355882613002905, "entropy": 0.11446164292283356, "entropy_coeff": 0.0}}, "num_steps_sampled": 7438336, "num_steps_trained": 7438336}, "done": false, "episodes_total": 154, "training_iteration": 227, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-22-05", "timestamp": 1611152525, "time_this_iter_s": 91.98090696334839, "time_total_s": 10406.71126461029, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 2954.9022319316864, "timesteps_since_restore": 0, "iterations_since_restore": 47, "perf": {"cpu_util_percent": 35.57099236641221, "ram_util_percent": 93.89999999999998}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823491, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 34041372.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931833, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7471104, "timers": {"sample_time_ms": 27435.698, "sample_throughput": 1194.356, "learn_time_ms": 47339.063, "learn_throughput": 692.198, "update_time_ms": 2.598}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.4210854715202005e-15, "cur_lr": 5e-05, "total_loss": 0.0011175361141795292, "policy_loss": -0.00043454565457068384, "vf_loss": 1.5520793785108253, "vf_explained_var": -0.016068032011389732, "kl": 0.0007190160977188498, "entropy": 0.10012985859066248, "entropy_coeff": 0.0}}, "num_steps_sampled": 7471104, "num_steps_trained": 7471104}, "done": false, "episodes_total": 154, "training_iteration": 228, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-23-38", "timestamp": 1611152618, "time_this_iter_s": 93.3144121170044, "time_total_s": 10500.025676727295, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3048.216644048691, "timesteps_since_restore": 0, "iterations_since_restore": 48, "perf": {"cpu_util_percent": 40.68571428571429, "ram_util_percent": 93.82105263157895}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823491, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 717009.4375}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931833, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7503872, "timers": {"sample_time_ms": 29951.433, "sample_throughput": 1094.038, "learn_time_ms": 49016.61, "learn_throughput": 668.508, "update_time_ms": 2.611}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 7.105427357601002e-16, "cur_lr": 5e-05, "total_loss": 0.001724246540106833, "policy_loss": -0.00040740982512943447, "vf_loss": 2.1316575130913407, "vf_explained_var": -0.00011602230370044708, "kl": 0.00045648891500604805, "entropy": 0.08616695669479668, "entropy_coeff": 0.0}}, "num_steps_sampled": 7503872, "num_steps_trained": 7503872}, "done": false, "episodes_total": 154, "training_iteration": 229, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-25-19", "timestamp": 1611152719, "time_this_iter_s": 100.33869457244873, "time_total_s": 10600.364371299744, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3148.5553386211395, "timesteps_since_restore": 0, "iterations_since_restore": 49, "perf": {"cpu_util_percent": 47.043356643356645, "ram_util_percent": 93.43846153846157}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.631647058823491, "episode_len_mean": 16336.411764705883, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 264870848.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.476848585931833, "mean_raw_obs_processing_ms": 0.4969610999529749, "mean_inference_ms": 2.110246658484254, "mean_action_processing_ms": 0.11773256356106211}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7536640, "timers": {"sample_time_ms": 32196.987, "sample_throughput": 1017.735, "learn_time_ms": 50501.367, "learn_throughput": 648.854, "update_time_ms": 2.64}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.552713678800501e-16, "cur_lr": 5e-05, "total_loss": 0.0010133541945833713, "policy_loss": -0.00046221466618590057, "vf_loss": 1.4755745776928961, "vf_explained_var": -0.01954841800034046, "kl": 0.0005599532196356449, "entropy": 0.07125087082386017, "entropy_coeff": 0.0}}, "num_steps_sampled": 7536640, "num_steps_trained": 7536640}, "done": false, "episodes_total": 154, "training_iteration": 230, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-26-54", "timestamp": 1611152814, "time_this_iter_s": 95.3224937915802, "time_total_s": 10695.686865091324, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3243.8778324127197, "timesteps_since_restore": 0, "iterations_since_restore": 50, "perf": {"cpu_util_percent": 39.57259259259259, "ram_util_percent": 93.60740740740745}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 14.053483333333302, "episode_len_mean": 16865.0, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 80797024.0}, "hist_stats": {"episode_reward": [72.22470000000007, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445], "episode_lengths": [25851, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607]}, "sampler_perf": {"mean_env_wait_ms": 25.969465244604937, "mean_raw_obs_processing_ms": 0.496474727231529, "mean_inference_ms": 2.1089407214322162, "mean_action_processing_ms": 0.11759633783591844}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7569408, "timers": {"sample_time_ms": 34744.094, "sample_throughput": 943.124, "learn_time_ms": 51920.159, "learn_throughput": 631.123, "update_time_ms": 2.632}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7763568394002506e-16, "cur_lr": 5e-05, "total_loss": 0.00175128695263993, "policy_loss": -0.00019742675067391247, "vf_loss": 1.9487172520020977, "vf_explained_var": -0.0051647815853357315, "kl": 0.0002424855906610901, "entropy": 0.07429884257726371, "entropy_coeff": 0.0}}, "num_steps_sampled": 7569408, "num_steps_trained": 7569408}, "done": false, "episodes_total": 155, "training_iteration": 231, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-28-34", "timestamp": 1611152914, "time_this_iter_s": 99.81146454811096, "time_total_s": 10795.498329639435, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3343.6892969608307, "timesteps_since_restore": 0, "iterations_since_restore": 51, "perf": {"cpu_util_percent": 44.713986013986016, "ram_util_percent": 93.60000000000002}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 12.973394736842085, "episode_len_mean": 17367.157894736843, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 75723232.0}, "hist_stats": {"episode_reward": [-6.468199999999811, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007], "episode_lengths": [26406, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851]}, "sampler_perf": {"mean_env_wait_ms": 26.291382102515087, "mean_raw_obs_processing_ms": 0.4963266897358428, "mean_inference_ms": 2.1082056227368695, "mean_action_processing_ms": 0.11749189681254323}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7602176, "timers": {"sample_time_ms": 37487.592, "sample_throughput": 874.103, "learn_time_ms": 52214.225, "learn_throughput": 627.568, "update_time_ms": 2.669}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 8.881784197001253e-17, "cur_lr": 5e-05, "total_loss": 0.0016140975058078766, "policy_loss": -0.0002119823475368321, "vf_loss": 1.8260779103729874, "vf_explained_var": -0.003549603745341301, "kl": 0.00035574392222770257, "entropy": 0.0633309856057167, "entropy_coeff": 0.0}}, "num_steps_sampled": 7602176, "num_steps_trained": 7602176}, "done": false, "episodes_total": 156, "training_iteration": 232, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-30-15", "timestamp": 1611153015, "time_this_iter_s": 100.67452645301819, "time_total_s": 10896.172856092453, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3444.363823413849, "timesteps_since_restore": 0, "iterations_since_restore": 52, "perf": {"cpu_util_percent": 43.35314685314685, "ram_util_percent": 93.6846153846154}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 12.651354999999977, "episode_len_mean": 17835.55, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 15435636.0}, "hist_stats": {"episode_reward": [6.532599999999956, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811], "episode_lengths": [26735, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406]}, "sampler_perf": {"mean_env_wait_ms": 26.77051795076908, "mean_raw_obs_processing_ms": 0.496062312986015, "mean_inference_ms": 2.1071201813097, "mean_action_processing_ms": 0.11755022447787769}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7634944, "timers": {"sample_time_ms": 39449.759, "sample_throughput": 830.626, "learn_time_ms": 52360.109, "learn_throughput": 625.82, "update_time_ms": 2.82}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 4.4408920985006264e-17, "cur_lr": 5e-05, "total_loss": 0.001263376310816966, "policy_loss": -0.00018060949514620006, "vf_loss": 1.4439877355471253, "vf_explained_var": 0.0017545130103826523, "kl": 0.0001720513832879078, "entropy": 0.06144884612876922, "entropy_coeff": 0.0}}, "num_steps_sampled": 7634944, "num_steps_trained": 7634944}, "done": false, "episodes_total": 157, "training_iteration": 233, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-31-52", "timestamp": 1611153112, "time_this_iter_s": 97.36803030967712, "time_total_s": 10993.54088640213, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3541.731853723526, "timesteps_since_restore": 0, "iterations_since_restore": 53, "perf": {"cpu_util_percent": 41.512949640287765, "ram_util_percent": 93.70000000000002}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 12.077961904761883, "episode_len_mean": 18287.619047619046, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 157334624.0}, "hist_stats": {"episode_reward": [0.610099999999985, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956], "episode_lengths": [27329, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735]}, "sampler_perf": {"mean_env_wait_ms": 27.24756140290118, "mean_raw_obs_processing_ms": 0.4957600347062442, "mean_inference_ms": 2.10510749473654, "mean_action_processing_ms": 0.11755021995071109}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7667712, "timers": {"sample_time_ms": 41438.666, "sample_throughput": 790.759, "learn_time_ms": 52439.656, "learn_throughput": 624.871, "update_time_ms": 2.732}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.2204460492503132e-17, "cur_lr": 5e-05, "total_loss": 0.0031866557255852968, "policy_loss": -0.00022502333740703762, "vf_loss": 3.4116788196843117, "vf_explained_var": -0.006263788789510727, "kl": 0.00023740679944239673, "entropy": 0.06344552466180176, "entropy_coeff": 0.0}}, "num_steps_sampled": 7667712, "num_steps_trained": 7667712}, "done": false, "episodes_total": 158, "training_iteration": 234, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-33-29", "timestamp": 1611153209, "time_this_iter_s": 96.7850456237793, "time_total_s": 11090.32593202591, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3638.5168993473053, "timesteps_since_restore": 0, "iterations_since_restore": 54, "perf": {"cpu_util_percent": 39.86014492753623, "ram_util_percent": 93.71666666666668}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 12.077961904761883, "episode_len_mean": 18287.619047619046, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 152929408.0}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329]}, "sampler_perf": {"mean_env_wait_ms": 27.24756140290118, "mean_raw_obs_processing_ms": 0.4957600347062442, "mean_inference_ms": 2.1051074947365396, "mean_action_processing_ms": 0.1175502199507111}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7700480, "timers": {"sample_time_ms": 43420.92, "sample_throughput": 754.659, "learn_time_ms": 52733.36, "learn_throughput": 621.39, "update_time_ms": 2.761}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.1102230246251566e-17, "cur_lr": 5e-05, "total_loss": 0.0010967546259053051, "policy_loss": -0.0003356873639859259, "vf_loss": 1.4324363289633766, "vf_explained_var": 0.0006420426070690155, "kl": 0.0003130033428533352, "entropy": 0.06879994994960725, "entropy_coeff": 0.0}}, "num_steps_sampled": 7700480, "num_steps_trained": 7700480}, "done": false, "episodes_total": 158, "training_iteration": 235, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-35-07", "timestamp": 1611153307, "time_this_iter_s": 98.29088282585144, "time_total_s": 11188.61681485176, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3736.8077821731567, "timesteps_since_restore": 0, "iterations_since_restore": 55, "perf": {"cpu_util_percent": 40.07642857142857, "ram_util_percent": 93.86714285714284}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 12.070363636363608, "episode_len_mean": 18741.68181818182, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 9131132.0}, "hist_stats": {"episode_reward": [11.910799999999838, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985], "episode_lengths": [28277, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329]}, "sampler_perf": {"mean_env_wait_ms": 27.752349903252092, "mean_raw_obs_processing_ms": 0.49579847832780755, "mean_inference_ms": 2.1061959320566155, "mean_action_processing_ms": 0.11759249279153251}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7733248, "timers": {"sample_time_ms": 45568.219, "sample_throughput": 719.098, "learn_time_ms": 51786.315, "learn_throughput": 632.754, "update_time_ms": 2.832}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 5.551115123125783e-18, "cur_lr": 5e-05, "total_loss": 0.0015427303442265838, "policy_loss": -0.00014726759400218725, "vf_loss": 1.6899942331947386, "vf_explained_var": -0.006453400477766991, "kl": 0.00037546874955296516, "entropy": 0.054376866784878075, "entropy_coeff": 0.0}}, "num_steps_sampled": 7733248, "num_steps_trained": 7733248}, "done": false, "episodes_total": 159, "training_iteration": 236, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-36-47", "timestamp": 1611153407, "time_this_iter_s": 99.74423050880432, "time_total_s": 11288.361045360565, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3836.552012681961, "timesteps_since_restore": 0, "iterations_since_restore": 56, "perf": {"cpu_util_percent": 40.199999999999996, "ram_util_percent": 94.13591549295775}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 11.043854166666634, "episode_len_mean": 18873.75, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 1867923200.0}, "hist_stats": {"episode_reward": [-0.5284000000000111, 0.03289999999983806, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985, 11.910799999999838], "episode_lengths": [11604, 29049, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329, 28277]}, "sampler_perf": {"mean_env_wait_ms": 28.610038438514476, "mean_raw_obs_processing_ms": 0.4960442548863487, "mean_inference_ms": 2.1080858881079743, "mean_action_processing_ms": 0.11770733449376514}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7766016, "timers": {"sample_time_ms": 47214.236, "sample_throughput": 694.028, "learn_time_ms": 51224.274, "learn_throughput": 639.697, "update_time_ms": 2.866}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 2.7755575615628915e-18, "cur_lr": 5e-05, "total_loss": 0.0017588858027011156, "policy_loss": -7.090950384736061e-05, "vf_loss": 1.8298084537964314, "vf_explained_var": 0.008550146594643593, "kl": 7.370019511654391e-05, "entropy": 0.05085305031388998, "entropy_coeff": 0.0}}, "num_steps_sampled": 7766016, "num_steps_trained": 7766016}, "done": false, "episodes_total": 161, "training_iteration": 237, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-38-30", "timestamp": 1611153510, "time_this_iter_s": 102.82176041603088, "time_total_s": 11391.182805776596, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 3939.373773097992, "timesteps_since_restore": 0, "iterations_since_restore": 57, "perf": {"cpu_util_percent": 41.98027210884354, "ram_util_percent": 94.45646258503403}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 11.043854166666634, "episode_len_mean": 18873.75, "episodes_this_iter": 0, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 5676014.5}, "hist_stats": {"episode_reward": [1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985, 11.910799999999838, -0.5284000000000111, 0.03289999999983806], "episode_lengths": [10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329, 28277, 11604, 29049]}, "sampler_perf": {"mean_env_wait_ms": 28.610038438514476, "mean_raw_obs_processing_ms": 0.4960442548863487, "mean_inference_ms": 2.108085888107974, "mean_action_processing_ms": 0.11770733449376514}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7798784, "timers": {"sample_time_ms": 48364.204, "sample_throughput": 677.526, "learn_time_ms": 50815.93, "learn_throughput": 644.837, "update_time_ms": 2.888}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.3877787807814458e-18, "cur_lr": 5e-05, "total_loss": 0.0012879455935035367, "policy_loss": -0.00018880742209148593, "vf_loss": 1.4767574926372617, "vf_explained_var": -0.0027334224432706833, "kl": 0.00016075385451586044, "entropy": 0.05615865287836641, "entropy_coeff": 0.0}}, "num_steps_sampled": 7798784, "num_steps_trained": 7798784}, "done": false, "episodes_total": 161, "training_iteration": 238, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-40-11", "timestamp": 1611153611, "time_this_iter_s": 100.72983741760254, "time_total_s": 11491.912643194199, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4040.1036105155945, "timesteps_since_restore": 0, "iterations_since_restore": 58, "perf": {"cpu_util_percent": 40.906993006993, "ram_util_percent": 94.73636363636366}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.46667307692305, "episode_len_mean": 19734.96153846154, "episodes_this_iter": 2, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 112215304.0}, "hist_stats": {"episode_reward": [12.04660000000002, -4.96559999999991, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985, 11.910799999999838, -0.5284000000000111, 0.03289999999983806], "episode_lengths": [29964, 30175, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329, 28277, 11604, 29049]}, "sampler_perf": {"mean_env_wait_ms": 29.640186887941272, "mean_raw_obs_processing_ms": 0.4973339347734279, "mean_inference_ms": 2.111403898237397, "mean_action_processing_ms": 0.11775858608371578}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7831552, "timers": {"sample_time_ms": 49848.839, "sample_throughput": 657.347, "learn_time_ms": 50972.437, "learn_throughput": 642.857, "update_time_ms": 3.072}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 6.938893903907229e-19, "cur_lr": 5e-05, "total_loss": 0.0015331140748457983, "policy_loss": -0.00012829492334276438, "vf_loss": 1.6614119758596644, "vf_explained_var": -0.014729447662830353, "kl": 0.00026152963891945546, "entropy": 0.04578514117747545, "entropy_coeff": 0.0}}, "num_steps_sampled": 7831552, "num_steps_trained": 7831552}, "done": false, "episodes_total": 163, "training_iteration": 239, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-42-07", "timestamp": 1611153727, "time_this_iter_s": 116.7530198097229, "time_total_s": 11608.665663003922, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4156.856630325317, "timesteps_since_restore": 0, "iterations_since_restore": 59, "perf": {"cpu_util_percent": 44.82590361445783, "ram_util_percent": 95.03734939759036}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -9.65299999999997, "episode_reward_mean": 10.856381481481456, "episode_len_mean": 20124.296296296296, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 9840885.0}, "hist_stats": {"episode_reward": [20.988800000000026, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985, 11.910799999999838, -0.5284000000000111, 0.03289999999983806, 12.04660000000002, -4.96559999999991], "episode_lengths": [30247, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329, 28277, 11604, 29049, 29964, 30175]}, "sampler_perf": {"mean_env_wait_ms": 30.09142795586661, "mean_raw_obs_processing_ms": 0.497846840098714, "mean_inference_ms": 2.1138765824848775, "mean_action_processing_ms": 0.11785680804199844}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7864320, "timers": {"sample_time_ms": 51556.746, "sample_throughput": 635.572, "learn_time_ms": 50538.714, "learn_throughput": 648.374, "update_time_ms": 3.148}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 3.4694469519536144e-19, "cur_lr": 5e-05, "total_loss": 0.0016120969667099416, "policy_loss": -0.00030359061202034354, "vf_loss": 1.9156853747554123, "vf_explained_var": -0.008474977687001228, "kl": 0.00025533630923746387, "entropy": 0.050358778913505375, "entropy_coeff": 0.0}}, "num_steps_sampled": 7864320, "num_steps_trained": 7864320}, "done": false, "episodes_total": 164, "training_iteration": 240, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-43-55", "timestamp": 1611153835, "time_this_iter_s": 108.06443643569946, "time_total_s": 11716.730099439621, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4264.921066761017, "timesteps_since_restore": 0, "iterations_since_restore": 60, "perf": {"cpu_util_percent": 42.121428571428574, "ram_util_percent": 94.39350649350648}, "trial_id": "14edc_00000"}
{"episode_reward_max": 98.03349999999891, "episode_reward_min": -14.832299999998156, "episode_reward_mean": 9.938928571428614, "episode_len_mean": 20507.964285714286, "episodes_this_iter": 1, "policy_reward_min": {}, "policy_reward_max": {}, "policy_reward_mean": {}, "custom_metrics": {"sdae_loss": 9838742.0}, "hist_stats": {"episode_reward": [-14.832299999998156, 1.9384000000001294, 14.161800000000127, 2.092399999999774, 5.930600000000325, 16.046700000000598, -0.452900000000124, -1.4808999999997496, 25.021100000000068, -1.157400000000104, 10.881299999999413, 6.097399999999496, -0.9386000000001147, 98.03349999999891, 2.792699999999762, 11.89590000000085, -9.65299999999997, -0.4710000000000445, 72.22470000000007, -6.468199999999811, 6.532599999999956, 0.610099999999985, 11.910799999999838, -0.5284000000000111, 0.03289999999983806, 12.04660000000002, -4.96559999999991, 20.988800000000026], "episode_lengths": [30867, 10064, 10425, 12417, 13012, 14089, 14109, 15162, 15661, 16065, 16421, 17138, 18150, 18587, 20037, 21064, 22711, 22607, 25851, 26406, 26735, 27329, 28277, 11604, 29049, 29964, 30175, 30247]}, "sampler_perf": {"mean_env_wait_ms": 30.546478753162344, "mean_raw_obs_processing_ms": 0.4981980969629404, "mean_inference_ms": 2.1146088061465464, "mean_action_processing_ms": 0.1179844731262928}, "off_policy_estimator": {}, "num_healthy_workers": 8, "timesteps_total": 7897088, "timers": {"sample_time_ms": 51331.919, "sample_throughput": 638.355, "learn_time_ms": 49939.938, "learn_throughput": 656.148, "update_time_ms": 3.21}, "info": {"learner": {"default_policy": {"allreduce_latency": 0.0, "cur_kl_coeff": 1.7347234759768072e-19, "cur_lr": 5e-05, "total_loss": 0.0012153899297118187, "policy_loss": -0.00014644514885731041, "vf_loss": 1.361836375668645, "vf_explained_var": 0.0014652721583843231, "kl": 0.0001945587669069937, "entropy": 0.06090141099411994, "entropy_coeff": 0.0}}, "num_steps_sampled": 7897088, "num_steps_trained": 7897088}, "done": false, "episodes_total": 165, "training_iteration": 241, "experiment_id": "81132cc666544a36a41fe927efbc5010", "date": "2021-01-20_09-45-27", "timestamp": 1611153927, "time_this_iter_s": 91.57593131065369, "time_total_s": 11808.306030750275, "pid": 58205, "hostname": "dewe-System-Product-Name", "node_ip": "192.168.1.2", "config": {"num_workers": 8, "num_envs_per_worker": 8, "create_env_on_driver": false, "rollout_fragment_length": 512, "batch_mode": "truncate_episodes", "num_gpus": 1, "train_batch_size": 32768, "model": {"fcnet_hiddens": [16, 32, 64, 128], "fcnet_activation": "relu", "conv_filters": null, "conv_activation": "relu", "free_log_std": false, "no_final_linear": false, "vf_share_layers": true, "use_lstm": true, "max_seq_len": 20, "lstm_cell_size": 128, "lstm_use_prev_action": true, "lstm_use_prev_reward": false, "_time_major": false, "use_attention": false, "attention_num_transformer_units": 1, "attention_dim": 64, "attention_num_heads": 1, "attention_head_dim": 32, "attention_memory_inference": 50, "attention_memory_training": 50, "attention_position_wise_mlp_dim": 32, "attention_init_gru_gate_bias": 2.0, "framestack": true, "dim": 84, "grayscale": false, "zero_mean": true, "custom_model": "sdae_full", "custom_model_config": {"train": true}, "custom_action_dist": null, "custom_preprocessor": null, "lstm_use_prev_action_reward": -1}, "optimizer": {}, "gamma": 0.99, "horizon": null, "soft_horizon": false, "no_done_at_end": false, "env_config": {"resolution": "minute_1", "tickers": "RLOL-8", "initial_amount": 25000, "tech_indicators": "MACD!macd MA EMA ATR ROC", "log_every": 30000, "reward_type": "PC", "max_shares": 3, "discrete_action": true, "bins": 7, "window": 1, "filter_date": true, "random_start": true, "episode_range": [10000, 60000], "test": false, "start_date": "2004-01-01 00:00:00", "end_date": "2019-12-01 00:00:00"}, "env": "BasicStockTrader-v0", "normalize_actions": false, "clip_rewards": null, "clip_actions": true, "preprocessor_pref": "deepmind", "lr": 5e-05, "monitor": false, "log_level": "WARN", "callbacks": "<class '__main__.MyCallbacks'>", "ignore_worker_failures": false, "log_sys_usage": true, "fake_sampler": false, "framework": "torch", "eager_tracing": false, "explore": true, "exploration_config": {"type": "StochasticSampling"}, "evaluation_interval": null, "evaluation_num_episodes": 10, "in_evaluation": false, "evaluation_config": {}, "evaluation_num_workers": 0, "custom_eval_function": null, "sample_async": false, "_use_trajectory_view_api": true, "sample_collector": "<class 'ray.rllib.evaluation.collectors.simple_list_collector.SimpleListCollector'>", "observation_filter": "NoFilter", "synchronize_filters": true, "tf_session_args": {"intra_op_parallelism_threads": 2, "inter_op_parallelism_threads": 2, "gpu_options": {"allow_growth": true}, "log_device_placement": false, "device_count": {"CPU": 1}, "allow_soft_placement": true}, "local_tf_session_args": {"intra_op_parallelism_threads": 8, "inter_op_parallelism_threads": 8}, "compress_observations": false, "collect_metrics_timeout": 180, "metrics_smoothing_episodes": 100, "remote_worker_envs": false, "remote_env_batch_wait_ms": 0, "min_iter_time_s": 0, "timesteps_per_iteration": 0, "seed": null, "extra_python_environs_for_driver": {}, "extra_python_environs_for_worker": {}, "num_cpus_per_worker": 1, "num_gpus_per_worker": 0, "custom_resources_per_worker": {}, "num_cpus_for_driver": 1, "memory": 0, "object_store_memory": 0, "memory_per_worker": 0, "object_store_memory_per_worker": 0, "input": "sampler", "input_evaluation": ["is", "wis"], "postprocess_inputs": false, "shuffle_buffer_size": 0, "output": null, "output_compress_columns": ["obs", "new_obs"], "output_max_file_size": 67108864, "multiagent": {"policies": {}, "policy_mapping_fn": null, "policies_to_train": null, "observation_fn": null, "replay_mode": "independent", "count_steps_by": "env_steps"}, "logger_config": null, "replay_sequence_length": 1, "use_critic": true, "use_gae": true, "lambda": 1.0, "kl_coeff": 0.2, "sgd_minibatch_size": 1024, "shuffle_sequences": true, "num_sgd_iter": 32, "lr_schedule": null, "vf_share_layers": true, "vf_loss_coeff": 0.001, "entropy_coeff": 0.0, "entropy_coeff_schedule": null, "clip_param": 0.3, "vf_clip_param": 10.0, "grad_clip": null, "kl_target": 0.01, "simple_optimizer": true, "_fake_gpus": false}, "time_since_restore": 4356.4969980716705, "timesteps_since_restore": 0, "iterations_since_restore": 61, "perf": {"cpu_util_percent": 32.18473282442748, "ram_util_percent": 93.0793893129771}, "trial_id": "14edc_00000"}
